!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";e.exports=n(6)},function(e,t){e.exports=monaco},function(e,t){e.exports=__resources},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=s(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))r.call(n,c)&&(l[c]=n[c]);if(i){a=i(n);for(var d=0;d<a.length;d++)o.call(n,a[d])&&(l[a[d]]=n[a[d]])}}return l}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(7)},function(e,t,n){},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(3),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function b(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}function _(){}function S(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=b.prototype;var k=S.prototype=new _;k.constructor=S,i(k,b.prototype),k.isPureReactComponent=!0;var E={current:null},x=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var i,r={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:s,ref:a,props:r,_owner:E.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var L=/\/+/g,P=[];function I(e,t,n,i){if(P.length){var r=P.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function A(e,t,n){return null==e?0:function e(t,n,i,r){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case s:l=!0}}if(l)return i(r,t,""===n?"."+R(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+R(a=t[u],u);l+=e(a,c,i,r)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)l+=e(a=a.value,c=n+R(a,u++),i,r);else if("object"===a)throw i=""+t,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,i,n,(function(e){return e})):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(L,"$&/")+"/")+n)),i.push(e))}function F(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(L,"$&/")+"/"),A(e,D,t=I(t,o,i,r)),O(t)}var z={current:null};function j(){var e=z.current;if(null===e)throw Error(y(321));return e}var U={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return F(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;A(e,N,t=I(null,null,t,n)),O(t)},count:function(e){return A(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!M(e))throw Error(y(143));return e}},t.Component=b,t.Fragment=a,t.Profiler=u,t.PureComponent=S,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var r=i({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:o,type:e.type,key:s,ref:a,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return j().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,n){return j().useReducer(e,t,n)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(0),r=n(3),o=n(8);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));function a(e,t,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,d=null,p={onError:function(e){l=!0,u=e}};function h(e,t,n,i,r,o,s,c,d){l=!1,u=null,a.apply(p,arguments)}var f=null,m=null,g=null;function y(e,t,n){var i=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,i,r,o,a,p,f){if(h.apply(this,arguments),l){if(!l)throw Error(s(198));var m=u;l=!1,u=null,c||(c=!0,d=m)}}(i,t,void 0,e),e.currentTarget=null}var v=null,w={};function b(){if(v)for(var e in w){var t=w[e],n=v.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!S[n]){if(!t.extractEvents)throw Error(s(97,e));for(var i in S[n]=t,n=t.eventTypes){var r=void 0,o=n[i],a=t,l=i;if(k.hasOwnProperty(l))throw Error(s(99,l));k[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&_(u[r],a,l);r=!0}else o.registrationName?(_(o.registrationName,a,l),r=!0):r=!1;if(!r)throw Error(s(98,i,e))}}}}function _(e,t,n){if(E[e])throw Error(s(100,e));E[e]=t,x[e]=t.eventTypes[n].dependencies}var S=[],k={},E={},x={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!w.hasOwnProperty(t)||w[t]!==i){if(w[t])throw Error(s(102,t));w[t]=i,n=!0}}n&&b()}var T=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),M=null,L=null,P=null;function I(e){if(e=m(e)){if("function"!=typeof M)throw Error(s(280));var t=e.stateNode;t&&(t=f(t),M(e.stateNode,e.type,t))}}function O(e){L?P?P.push(e):P=[e]:L=e}function A(){if(L){var e=L,t=P;if(P=L=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function R(e,t){return e(t)}function N(e,t,n,i,r){return e(t,n,i,r)}function D(){}var F=R,z=!1,j=!1;function U(){null===L&&null===P||(D(),A())}function B(e,t,n){if(j)return e(t,n);j=!0;try{return F(e,t,n)}finally{j=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,q={},G={};function H(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new H(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new H(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new H(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new H(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new H(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new H(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new H(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new H(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new H(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,Z);$[t]=new H(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,Z);$[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,Z);$[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new H(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new H(e,1,!1,e.toLowerCase(),null,!0)}));var X=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,i){var r=$.hasOwnProperty(t)?$[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!W.call(G,e)||!W.call(q,e)&&(V.test(e)?G[e]=!0:(q[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Y="function"==typeof Symbol&&Symbol.for,ee=Y?Symbol.for("react.element"):60103,te=Y?Symbol.for("react.portal"):60106,ne=Y?Symbol.for("react.fragment"):60107,ie=Y?Symbol.for("react.strict_mode"):60108,re=Y?Symbol.for("react.profiler"):60114,oe=Y?Symbol.for("react.provider"):60109,se=Y?Symbol.for("react.context"):60110,ae=Y?Symbol.for("react.concurrent_mode"):60111,le=Y?Symbol.for("react.forward_ref"):60112,ue=Y?Symbol.for("react.suspense"):60113,ce=Y?Symbol.for("react.suspense_list"):60120,de=Y?Symbol.for("react.memo"):60115,pe=Y?Symbol.for("react.lazy"):60116,he=Y?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case he:return ge(e.render);case pe:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=ge(e.type);n=null,i&&(n=ge(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=we(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ke(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function xe(e,t){Ee(e,t);var n=ve(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Me(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Le(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Oe(e,t){var n=ve(t.value),i=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Ne="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ze,je=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ne||"innerHTML"in e)e.innerHTML=t;else{for((ze=ze||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},We={},qe={};function Ge(e){if(We[e])return We[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in qe)return We[e]=n[t];return e}T&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var He=Ge("animationend"),$e=Ge("animationiteration"),Ke=Ge("animationstart"),Ze=Ge("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ye(e)!==e)throw Error(s(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)y(e,t[i],n[i]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function at(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,st),ot)throw Error(s(95));if(c)throw e=d,c=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function pt(e,t,n,i){if(ct.length){var r=ct.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Tn(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=lt(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,l=0;l<S.length;l++){var u=S[l];u&&(u=u.extractEvents(i,t,o,r,s))&&(a=it(a,u))}at(a)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&$t(e,t)}n.set(e,null)}}var mt,gt,yt,vt=!1,wt=[],bt=null,_t=null,St=null,kt=new Map,Et=new Map,xt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Mt(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Lt(e,t){switch(e){case"focus":case"blur":bt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Pt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=Mt(t,n,i,r,o),null!==t&&(null!==(t=Mn(t))&&gt(t)),e):(e.eventSystemFlags|=i,e)}function It(e){var t=Tn(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Mn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function At(e,t,n){Ot(e)&&n.delete(t)}function Rt(){for(vt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Mn(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==bt&&Ot(bt)&&(bt=null),null!==_t&&Ot(_t)&&(_t=null),null!==St&&Ot(St)&&(St=null),kt.forEach(At),Et.forEach(At)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rt)))}function Dt(e){function t(t){return Nt(t,e)}if(0<wt.length){Nt(wt[0],e);for(var n=1;n<wt.length;n++){var i=wt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==bt&&Nt(bt,e),null!==_t&&Nt(_t,e),null!==St&&Nt(St,e),kt.forEach(t),Et.forEach(t),n=0;n<xt.length;n++)(i=xt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)It(n),null===n.blockedOn&&xt.shift()}var Ft={},zt=new Map,jt=new Map,Ut=["abort","abort",He,"animationEnd",$e,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ze,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:t},jt.set(i,t),zt.set(i,o),Ft[r]=o}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Ut,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<Vt.length;Wt++)jt.set(Vt[Wt],0);var qt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Ht=!0;function $t(e,t){Kt(t,e,!1)}function Kt(e,t,n){var i=jt.get(t);switch(void 0===i?2:i){case 0:i=Zt.bind(null,t,1,e);break;case 1:i=Xt.bind(null,t,1,e);break;default:i=Qt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Zt(e,t,n,i){z||D();var r=Qt,o=z;z=!0;try{N(r,e,t,n,i)}finally{(z=o)||U()}}function Xt(e,t,n,i){Gt(qt,Qt.bind(null,e,t,n,i))}function Qt(e,t,n,i){if(Ht)if(0<wt.length&&-1<Ct.indexOf(e))e=Mt(null,e,t,n,i),wt.push(e);else{var r=Jt(e,t,n,i);if(null===r)Lt(e,i);else if(-1<Ct.indexOf(e))e=Mt(r,e,t,n,i),wt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return bt=Pt(bt,e,t,n,i,r),!0;case"dragenter":return _t=Pt(_t,e,t,n,i,r),!0;case"mouseover":return St=Pt(St,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return kt.set(o,Pt(kt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Et.set(o,Pt(Et.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){Lt(e,i),e=pt(e,i,null,t);try{B(ht,e)}finally{dt(e)}}}}function Jt(e,t,n,i){if(null!==(n=Tn(n=lt(i)))){var r=Ye(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=pt(e,i,n,t);try{B(ht,e)}finally{dt(e)}return null}var Yt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Yt.hasOwnProperty(e)&&Yt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Yt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yt[t]=Yt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=Re;function ln(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var i=0;i<t.length;i++)ft(t[i],e,n)}function un(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,i=dn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=dn(i)}}function hn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wn="function"==typeof setTimeout?setTimeout:void 0,bn="function"==typeof clearTimeout?clearTimeout:void 0;function _n(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var kn=Math.random().toString(36).slice(2),En="__reactInternalInstance$"+kn,xn="__reactEventHandlers$"+kn,Cn="__reactContainere$"+kn;function Tn(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[En]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[En])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Mn(e){return!(e=e[En]||e[Cn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ln(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Pn(e){return e[xn]||null}function In(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function On(e,t){var n=e.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}function An(e,t,n){(t=On(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Rn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=In(t);for(t=n.length;0<t--;)An(n[t],"captured",e);for(t=0;t<n.length;t++)An(n[t],"bubbled",e)}}function Nn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=On(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Dn(e){e&&e.dispatchConfig.registrationName&&Nn(e._targetInst,null,e)}function Fn(e){rt(e,Rn)}var zn=null,jn=null,Un=null;function Bn(){if(Un)return Un;var e,t,n=jn,i=n.length,r="value"in zn?zn.value:zn.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Un=r.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Wn(){return!1}function qn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Wn,this.isPropagationStopped=Wn,this}function Gn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Hn(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Gn,e.release=Hn}r(qn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Wn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),qn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},qn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,$n(n),n},$n(qn);var Kn=qn.extend({data:null}),Zn=qn.extend({data:null}),Xn=[9,13,27,32],Qn=T&&"CompositionEvent"in window,Jn=null;T&&"documentMode"in document&&(Jn=document.documentMode);var Yn=T&&"TextEvent"in window&&!Jn,ei=T&&(!Qn||Jn&&8<Jn&&11>=Jn),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var si=!1;var ai={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if(Qn)e:{switch(e){case"compositionstart":var o=ni.compositionStart;break e;case"compositionend":o=ni.compositionEnd;break e;case"compositionupdate":o=ni.compositionUpdate;break e}o=void 0}else si?ri(e,n)&&(o=ni.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&"ko"!==n.locale&&(si||o!==ni.compositionStart?o===ni.compositionEnd&&si&&(r=Bn()):(jn="value"in(zn=i)?zn.value:zn.textContent,si=!0)),o=Kn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),Fn(o),r=o):r=null,(e=Yn?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ii=!0,ti);case"textInput":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(si)return"compositionend"===e||!Qn&&ri(e,t)?(e=Bn(),Un=jn=zn=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ei&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Zn.getPooled(ni.beforeInput,t,n,i)).data=e,Fn(t)):t=null,null===r?t:null===t?r:[r,t]}},li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!li[e.type]:"textarea"===t}var ci={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function di(e,t,n){return(e=qn.getPooled(ci.change,e,t,n)).type="change",O(n),Fn(e),e}var pi=null,hi=null;function fi(e){at(e)}function mi(e){if(_e(Ln(e)))return e}function gi(e,t){if("change"===e)return t}var yi=!1;function vi(){pi&&(pi.detachEvent("onpropertychange",wi),hi=pi=null)}function wi(e){if("value"===e.propertyName&&mi(hi))if(e=di(hi,e,lt(e)),z)at(e);else{z=!0;try{R(fi,e)}finally{z=!1,U()}}}function bi(e,t,n){"focus"===e?(vi(),hi=n,(pi=t).attachEvent("onpropertychange",wi)):"blur"===e&&vi()}function _i(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mi(hi)}function Si(e,t){if("click"===e)return mi(t)}function ki(e,t){if("input"===e||"change"===e)return mi(t)}T&&(yi=ut("input")&&(!document.documentMode||9<document.documentMode));var Ei={eventTypes:ci,_isInputEventSupported:yi,extractEvents:function(e,t,n,i){var r=t?Ln(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var s=gi;else if(ui(r))if(yi)s=ki;else{s=_i;var a=bi}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(s=Si);if(s&&(s=s(e,t)))return di(s,n,i);a&&a(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Te(r,"number",r.value)}},xi=qn.extend({view:null,detail:null}),Ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ti(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ci[e])&&!!t[e]}function Mi(){return Ti}var Li=0,Pi=0,Ii=!1,Oi=!1,Ai=xi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mi,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Li;return Li=e.screenX,Ii?"mousemove"===e.type?e.screenX-t:0:(Ii=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pi;return Pi=e.screenY,Oi?"mousemove"===e.type?e.screenY-t:0:(Oi=!0,0)}}),Ri=Ai.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ni={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Di={eventTypes:Ni,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?Tn(t):null)&&(t!==Ye(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=Ai,l=Ni.mouseLeave,u=Ni.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Ri,l=Ni.pointerLeave,u=Ni.pointerEnter,c="pointer");if(e=null==s?o:Ln(s),o=null==t?o:Ln(t),(l=a.getPooled(l,s,n,i)).type=c+"leave",l.target=e,l.relatedTarget=o,(n=a.getPooled(u,t,n,i)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(i=s)&&c)e:{for(u=c,s=0,e=a=i;e;e=In(e))s++;for(e=0,t=u;t;t=In(t))e++;for(;0<s-e;)a=In(a),s--;for(;0<e-s;)u=In(u),e--;for(;s--;){if(a===u||a===u.alternate)break e;a=In(a),u=In(u)}a=null}else a=null;for(u=a,a=[];i&&i!==u&&(null===(s=i.alternate)||s!==u);)a.push(i),i=In(i);for(i=[];c&&c!==u&&(null===(s=c.alternate)||s!==u);)i.push(c),c=In(c);for(c=0;c<a.length;c++)Nn(a[c],"bubbled",l);for(c=i.length;0<c--;)Nn(i[c],"captured",n);return 0==(64&r)?[l]:[l,n]}};var Fi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},zi=Object.prototype.hasOwnProperty;function ji(e,t){if(Fi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!zi.call(t,n[i])||!Fi(e[n[i]],t[n[i]]))return!1;return!0}var Ui=T&&"documentMode"in document&&11>=document.documentMode,Bi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vi=null,Wi=null,qi=null,Gi=!1;function Hi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Gi||null==Vi||Vi!==cn(n)?null:("selectionStart"in(n=Vi)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qi&&ji(qi,n)?null:(qi=n,(e=qn.getPooled(Bi.select,Wi,e,t)).type="select",e.target=Vi,Fn(e),e))}var $i={eventTypes:Bi,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Je(r),o=x.onSelect;for(var s=0;s<o.length;s++)if(!r.has(o[s])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?Ln(t):window,e){case"focus":(ui(r)||"true"===r.contentEditable)&&(Vi=r,Wi=t,qi=null);break;case"blur":qi=Wi=Vi=null;break;case"mousedown":Gi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gi=!1,Hi(n,i);case"selectionchange":if(Ui)break;case"keydown":case"keyup":return Hi(n,i)}return null}},Ki=qn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zi=qn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xi=xi.extend({relatedTarget:null});function Qi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=xi.extend({key:function(e){if(e.key){var t=Ji[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Yi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mi,charCode:function(e){return"keypress"===e.type?Qi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Ai.extend({dataTransfer:null}),nr=xi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mi}),ir=qn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Ai.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:Ft,extractEvents:function(e,t,n,i){var r=zt.get(e);if(!r)return null;switch(e){case"keypress":if(0===Qi(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Xi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case He:case $e:case Ke:e=Ki;break;case Ze:e=ir;break;case"scroll":e=xi;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Zi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ri;break;default:e=qn}return Fn(t=e.getPooled(r,t,n,i)),t}};if(v)throw Error(s(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),f=Pn,m=Mn,g=Ln,C({SimpleEventPlugin:or,EnterLeaveEventPlugin:Di,ChangeEventPlugin:Ei,SelectEventPlugin:$i,BeforeInputEventPlugin:ai});var sr=[],ar=-1;function lr(e){0>ar||(e.current=sr[ar],sr[ar]=null,ar--)}function ur(e,t){ar++,sr[ar]=e.current,e.current=t}var cr={},dr={current:cr},pr={current:!1},hr=cr;function fr(e,t){var n=e.type.contextTypes;if(!n)return cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mr(e){return null!=(e=e.childContextTypes)}function gr(){lr(pr),lr(dr)}function yr(e,t,n){if(dr.current!==cr)throw Error(s(168));ur(dr,t),ur(pr,n)}function vr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(s(108,ge(t)||"Unknown",o));return r({},n,{},i)}function wr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,hr=dr.current,ur(dr,e),ur(pr,pr.current),!0}function br(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=vr(e,t,hr),i.__reactInternalMemoizedMergedChildContext=e,lr(pr),lr(dr),ur(dr,e)):lr(pr),ur(pr,n)}var _r=o.unstable_runWithPriority,Sr=o.unstable_scheduleCallback,kr=o.unstable_cancelCallback,Er=o.unstable_requestPaint,xr=o.unstable_now,Cr=o.unstable_getCurrentPriorityLevel,Tr=o.unstable_ImmediatePriority,Mr=o.unstable_UserBlockingPriority,Lr=o.unstable_NormalPriority,Pr=o.unstable_LowPriority,Ir=o.unstable_IdlePriority,Or={},Ar=o.unstable_shouldYield,Rr=void 0!==Er?Er:function(){},Nr=null,Dr=null,Fr=!1,zr=xr(),jr=1e4>zr?xr:function(){return xr()-zr};function Ur(){switch(Cr()){case Tr:return 99;case Mr:return 98;case Lr:return 97;case Pr:return 96;case Ir:return 95;default:throw Error(s(332))}}function Br(e){switch(e){case 99:return Tr;case 98:return Mr;case 97:return Lr;case 96:return Pr;case 95:return Ir;default:throw Error(s(332))}}function Vr(e,t){return e=Br(e),_r(e,t)}function Wr(e,t,n){return e=Br(e),Sr(e,t,n)}function qr(e){return null===Nr?(Nr=[e],Dr=Sr(Tr,Hr)):Nr.push(e),Or}function Gr(){if(null!==Dr){var e=Dr;Dr=null,kr(e)}Hr()}function Hr(){if(!Fr&&null!==Nr){Fr=!0;var e=0;try{var t=Nr;Vr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Nr=null}catch(t){throw null!==Nr&&(Nr=Nr.slice(e+1)),Sr(Tr,Gr),t}finally{Fr=!1}}}function $r(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Kr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zr={current:null},Xr=null,Qr=null,Jr=null;function Yr(){Jr=Qr=Xr=null}function eo(e){var t=Zr.current;lr(Zr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Xr=e,Jr=Qr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ps=!0),e.firstContext=null)}function io(e,t){if(Jr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Jr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qr){if(null===Xr)throw Error(s(308));Qr=t,Xr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Qr=Qr.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ao(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.alternate;null!==n&&so(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,i){var o=e.updateQueue;ro=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var l=s.next;s.next=a.next,a.next=l}s=a,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=a))}if(null!==s){l=s.next;var u=o.baseState,c=0,d=null,p=null,h=null;if(null!==l)for(var f=l;;){if((a=f.expirationTime)<i){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===h?(p=h=m,d=u):h=h.next=m,a>c&&(c=a)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),ol(a,f.suspenseConfig);e:{var g=e,y=f;switch(a=t,m=n,y.tag){case 1:if("function"==typeof(g=y.payload)){u=g.call(m,u,a);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(a="function"==typeof(g=y.payload)?g.call(m,u,a):g))break e;u=r({},u,a);break e;case 2:ro=!0}}null!==f.callback&&(e.effectTag|=32,null===(a=o.effects)?o.effects=[f]:a.push(f))}if(null===(f=f.next)||f===l){if(null===(a=o.shared.pending))break;f=s.next=a.next,a.next=l,o.baseQueue=s=a,o.shared.pending=null}}null===h?d=u:h.next=p,o.baseState=d,o.baseQueue=h,sl(c),e.expirationTime=c,e.memoizedState=u}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var ho=X.ReactCurrentBatchConfig,fo=(new i.Component).refs;function mo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Ha(),r=ho.suspense;(r=ao(i=$a(i,e,r),r)).payload=t,null!=n&&(r.callback=n),lo(e,r),Ka(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Ha(),r=ho.suspense;(r=ao(i=$a(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),lo(e,r),Ka(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ha(),i=ho.suspense;(i=ao(n=$a(n,e,i),i)).tag=2,null!=t&&(i.callback=t),lo(e,i),Ka(e,n)}};function yo(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ji(n,i)||!ji(r,o))}function vo(e,t,n){var i=!1,r=cr,o=t.contextType;return"object"==typeof o&&null!==o?o=io(o):(r=mr(t)?hr:dr.current,o=(i=null!=(i=t.contextTypes))?fr(e,r):cr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=fo,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=io(o):(o=mr(t)?hr:dr.current,r.context=fr(e,o)),co(e,n,r,i),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&go.enqueueReplaceState(r,r.state,null),co(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var _o=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===fo&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Eo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Cl(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Ll(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=So(e,t,n),i.return=e,i):((i=Tl(n.type,n.key,n.props,null,e.mode,i)).ref=So(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Ml(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Tl(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case te:return(t=Pl(t,e.mode,n)).return=e,t}if(_o(t)||me(t))return(t=Ml(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?d(e,t,n.props.children,i,r):u(e,t,n,i):null;case te:return n.key===r?c(e,t,n,i):null}if(_o(n)||me(n))return null!==r?null:d(e,t,n,i,null);ko(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?d(t,e,i.props.children,r,i.key):u(t,e,i,r);case te:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(_o(i)||me(i))return d(t,e=e.get(n)||null,i,r,null);ko(t,i)}return null}function m(r,s,a,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(r,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===a.length)return n(r,d),u;if(null===d){for(;m<a.length;m++)null!==(d=p(r,a[m],l))&&(s=o(d,s,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=i(r,d);m<a.length;m++)null!==(g=f(d,r,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(r,e)})),u}function g(r,a,l,u){var c=me(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=h(r,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(r,m),a=o(w,a,g),null===d?c=w:d.sibling=w,d=w,m=y}if(v.done)return n(r,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(r,v.value,u))&&(a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return c}for(m=i(r,m);!v.done;g++,v=l.next())null!==(v=f(m,r,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(r,e)})),c}return function(e,i,o,l){var u="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=i;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(i=r(u,o.props.children)).return=e,e=i;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(i=r(u,o.props)).ref=So(e,u,o),i.return=e,e=i;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((i=Ml(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Tl(o.type,o.key,o.props,null,e.mode,l)).ref=So(e,i,o),l.return=e,e=l)}return a(e);case te:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Pl(o,e.mode,l)).return=e,e=i}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Ll(o,e.mode,l)).return=e,e=i),a(e);if(_o(o))return m(e,i,o,l);if(me(o))return g(e,i,o,l);if(c&&ko(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,i)}}var xo=Eo(!0),Co=Eo(!1),To={},Mo={current:To},Lo={current:To},Po={current:To};function Io(e){if(e===To)throw Error(s(174));return e}function Oo(e,t){switch(ur(Po,t),ur(Lo,e),ur(Mo,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(Mo),ur(Mo,t)}function Ao(){lr(Mo),lr(Lo),lr(Po)}function Ro(e){Io(Po.current);var t=Io(Mo.current),n=Fe(t,e.type);t!==n&&(ur(Lo,e),ur(Mo,n))}function No(e){Lo.current===e&&(lr(Mo),lr(Lo))}var Do={current:0};function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function zo(e,t){return{responder:e,props:t}}var jo=X.ReactCurrentDispatcher,Uo=X.ReactCurrentBatchConfig,Bo=0,Vo=null,Wo=null,qo=null,Go=!1;function Ho(){throw Error(s(321))}function $o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fi(e[n],t[n]))return!1;return!0}function Ko(e,t,n,i,r,o){if(Bo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,jo.current=null===e||null===e.memoizedState?ys:vs,e=n(i,r),t.expirationTime===Bo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,qo=Wo=null,t.updateQueue=null,jo.current=ws,e=n(i,r)}while(t.expirationTime===Bo)}if(jo.current=gs,t=null!==Wo&&null!==Wo.next,Bo=0,qo=Wo=Vo=null,Go=!1,t)throw Error(s(300));return e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Vo.memoizedState=qo=e:qo=qo.next=e,qo}function Xo(){if(null===Wo){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Wo.next;var t=null===qo?Vo.memoizedState:qo.next;if(null!==t)qo=t,Wo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Wo=e).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===qo?Vo.memoizedState=qo=e:qo=qo.next=e}return qo}function Qo(e,t){return"function"==typeof t?t(e):t}function Jo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=Wo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=a=o=null,u=r;do{var c=u.expirationTime;if(c<Bo){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=d,o=i):l=l.next=d,c>Vo.expirationTime&&(Vo.expirationTime=c,sl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),i=u.eagerReducer===e?u.eagerState:e(i,u.action);u=u.next}while(null!==u&&u!==r);null===l?o=i:l.next=a,Fi(i,t.memoizedState)||(Ps=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Yo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);Fi(o,t.memoizedState)||(Ps=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function es(e){var t=Zo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e}).dispatch=ms.bind(null,Vo,e),[t.memoizedState,e]}function ts(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ns(){return Xo().memoizedState}function is(e,t,n,i){var r=Zo();Vo.effectTag|=e,r.memoizedState=ts(1|t,n,void 0,void 0===i?null:i)}function rs(e,t,n,i){var r=Xo();i=void 0===i?null:i;var o=void 0;if(null!==Wo){var s=Wo.memoizedState;if(o=s.destroy,null!==i&&$o(i,s.deps))return void ts(t,n,o,i)}Vo.effectTag|=e,r.memoizedState=ts(1|t,n,o,i)}function os(e,t){return is(516,4,e,t)}function ss(e,t){return rs(516,4,e,t)}function as(e,t){return rs(4,2,e,t)}function ls(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function us(e,t,n){return n=null!=n?n.concat([e]):null,rs(4,2,ls.bind(null,t,e),n)}function cs(){}function ds(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e}function ps(e,t){var n=Xo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&$o(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function hs(e,t){var n=Xo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&$o(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function fs(e,t,n){var i=Ur();Vr(98>i?98:i,(function(){e(!0)})),Vr(97<i?97:i,(function(){var i=Uo.suspense;Uo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Uo.suspense=i}}))}function ms(e,t,n){var i=Ha(),r=ho.suspense;r={expirationTime:i=$a(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Vo||null!==o&&o===Vo)Go=!0,r.expirationTime=Bo,Vo.expirationTime=Bo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.eagerReducer=o,r.eagerState=a,Fi(a,s))return}catch(e){}Ka(e,i)}}var gs={readContext:io,useCallback:Ho,useContext:Ho,useEffect:Ho,useImperativeHandle:Ho,useLayoutEffect:Ho,useMemo:Ho,useReducer:Ho,useRef:Ho,useState:Ho,useDebugValue:Ho,useResponder:Ho,useDeferredValue:Ho,useTransition:Ho},ys={readContext:io,useCallback:ds,useContext:io,useEffect:os,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,is(4,2,ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return is(4,2,e,t)},useMemo:function(e,t){var n=Zo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Zo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ms.bind(null,Vo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:es,useDebugValue:cs,useResponder:zo,useDeferredValue:function(e,t){var n=es(e),i=n[0],r=n[1];return os((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{r(e)}finally{Uo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=es(!1),n=t[0];return t=t[1],[ds(fs.bind(null,t,e),[t,e]),n]}},vs={readContext:io,useCallback:ps,useContext:io,useEffect:ss,useImperativeHandle:us,useLayoutEffect:as,useMemo:hs,useReducer:Jo,useRef:ns,useState:function(){return Jo(Qo)},useDebugValue:cs,useResponder:zo,useDeferredValue:function(e,t){var n=Jo(Qo),i=n[0],r=n[1];return ss((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{r(e)}finally{Uo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Jo(Qo),n=t[0];return t=t[1],[ps(fs.bind(null,t,e),[t,e]),n]}},ws={readContext:io,useCallback:ps,useContext:io,useEffect:ss,useImperativeHandle:us,useLayoutEffect:as,useMemo:hs,useReducer:Yo,useRef:ns,useState:function(){return Yo(Qo)},useDebugValue:cs,useResponder:zo,useDeferredValue:function(e,t){var n=Yo(Qo),i=n[0],r=n[1];return ss((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{r(e)}finally{Uo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Yo(Qo),n=t[0];return t=t[1],[ps(fs.bind(null,t,e),[t,e]),n]}},bs=null,_s=null,Ss=!1;function ks(e,t){var n=El(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Es(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function xs(e){if(Ss){var t=_s;if(t){var n=t;if(!Es(e,t)){if(!(t=_n(n.nextSibling))||!Es(e,t))return e.effectTag=-1025&e.effectTag|2,Ss=!1,void(bs=e);ks(bs,n)}bs=e,_s=_n(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ss=!1,bs=e}}function Cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;bs=e}function Ts(e){if(e!==bs)return!1;if(!Ss)return Cs(e),Ss=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=_s;t;)ks(e,t),t=_n(t.nextSibling);if(Cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_s=_n(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_s=null}}else _s=bs?_n(e.stateNode.nextSibling):null;return!0}function Ms(){_s=bs=null,Ss=!1}var Ls=X.ReactCurrentOwner,Ps=!1;function Is(e,t,n,i){t.child=null===e?Co(t,null,n,i):xo(t,e.child,n,i)}function Os(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=Ko(e,t,n,i,o,r),null===e||Ps?(t.effectTag|=1,Is(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ks(e,t,r))}function As(e,t,n,i,r,o){if(null===e){var s=n.type;return"function"!=typeof s||xl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tl(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Rs(e,t,s,i,r,o))}return s=e.child,r<o&&(r=s.memoizedProps,(n=null!==(n=n.compare)?n:ji)(r,i)&&e.ref===t.ref)?Ks(e,t,o):(t.effectTag|=1,(e=Cl(s,i)).ref=t.ref,e.return=t,t.child=e)}function Rs(e,t,n,i,r,o){return null!==e&&ji(e.memoizedProps,i)&&e.ref===t.ref&&(Ps=!1,r<o)?(t.expirationTime=e.expirationTime,Ks(e,t,o)):Ds(e,t,n,i,o)}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ds(e,t,n,i,r){var o=mr(n)?hr:dr.current;return o=fr(t,o),no(t,r),n=Ko(e,t,n,i,o,r),null===e||Ps?(t.effectTag|=1,Is(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ks(e,t,r))}function Fs(e,t,n,i,r){if(mr(n)){var o=!0;wr(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),vo(t,n,i),bo(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"==typeof u&&null!==u?u=io(u):u=fr(t,u=mr(n)?hr:dr.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==u)&&wo(t,s,i,u),ro=!1;var p=t.memoizedState;s.state=p,co(t,i,s,r),l=t.memoizedState,a!==i||p!==l||pr.current||ro?("function"==typeof c&&(mo(t,n,c,i),l=t.memoizedState),(a=ro||yo(t,n,a,i,p,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),i=!1)}else s=t.stateNode,so(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:Kr(t.type,a),l=s.context,"object"==typeof(u=n.contextType)&&null!==u?u=io(u):u=fr(t,u=mr(n)?hr:dr.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==u)&&wo(t,s,i,u),ro=!1,l=t.memoizedState,s.state=l,co(t,i,s,r),p=t.memoizedState,a!==i||l!==p||pr.current||ro?("function"==typeof c&&(mo(t,n,c,i),p=t.memoizedState),(c=ro||yo(t,n,a,i,l,p,u))?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,u)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=p),s.props=i,s.state=p,s.context=u,i=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return zs(e,t,n,i,o,r)}function zs(e,t,n,i,r,o){Ns(e,t);var s=0!=(64&t.effectTag);if(!i&&!s)return r&&br(t,n,!1),Ks(e,t,o);i=t.stateNode,Ls.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&s?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,a,o)):Is(e,t,a,o),t.memoizedState=i.state,r&&br(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?yr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yr(0,t.context,!1),Oo(e,t.containerInfo)}var Us,Bs,Vs,Ws={dehydrated:null,retryTime:0};function qs(e,t,n){var i,r=t.mode,o=t.pendingProps,s=Do.current,a=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&s)&&(null===e||null!==e.memoizedState)),i?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),ur(Do,1&s),null===e){if(void 0!==o.fallback&&xs(t),a){if(a=o.fallback,(o=Ml(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Ml(a,r,n,null)).return=t,o.sibling=n,t.memoizedState=Ws,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Co(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,a){if(o=o.fallback,(n=Cl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=Cl(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ws,t.child=n,r}return n=xo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Ml(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Ml(a,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ws,t.child=o,n}return t.memoizedState=null,t.child=xo(t,e,o.children,n)}function Gs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Hs(e,t,n,i,r,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailExpiration=0,s.tailMode=r,s.lastEffect=o)}function $s(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Is(e,t,i.children,n),0!=(2&(i=Do.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n);else if(19===e.tag)Gs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ur(Do,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Hs(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Fo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Hs(t,!0,n,null,o,t.lastEffect);break;case"together":Hs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ks(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&sl(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Cl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Xs(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mr(t.type)&&gr(),null;case 3:return Ao(),lr(pr),lr(dr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ts(t)||(t.effectTag|=4),null;case 5:No(t),n=Io(Po.current);var o=t.type;if(null!==e&&null!=t.stateNode)Bs(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(s(166));return null}if(e=Io(Mo.current),Ts(t)){i=t.stateNode,o=t.type;var a=t.memoizedProps;switch(i[En]=t,i[xn]=a,o){case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(e=0;e<Xe.length;e++)$t(Xe[e],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"form":$t("reset",i),$t("submit",i);break;case"details":$t("toggle",i);break;case"input":ke(i,a),$t("invalid",i),ln(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},$t("invalid",i),ln(n,"onChange");break;case"textarea":Ie(i,a),$t("invalid",i),ln(n,"onChange")}for(var l in on(o,a),e=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?i.textContent!==u&&(e=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(e=["children",""+u]):E.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case"input":be(i),Ce(i,a,!0);break;case"textarea":be(i),Ae(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===an&&(e=De(o)),e===an?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(o,{is:i.is}):(e=l.createElement(o),"select"===o&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,o),e[En]=t,e[xn]=i,Us(e,t),t.stateNode=e,l=sn(o,i),o){case"iframe":case"object":case"embed":$t("load",e),u=i;break;case"video":case"audio":for(u=0;u<Xe.length;u++)$t(Xe[u],e);u=i;break;case"source":$t("error",e),u=i;break;case"img":case"image":case"link":$t("error",e),$t("load",e),u=i;break;case"form":$t("reset",e),$t("submit",e),u=i;break;case"details":$t("toggle",e),u=i;break;case"input":ke(e,i),u=Se(e,i),$t("invalid",e),ln(n,"onChange");break;case"option":u=Me(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=r({},i,{value:void 0}),$t("invalid",e),ln(n,"onChange");break;case"textarea":Ie(e,i),u=Pe(e,i),$t("invalid",e),ln(n,"onChange");break;default:u=i}on(o,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?nn(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&je(e,d):"children"===a?"string"==typeof d?("textarea"!==o||""!==d)&&Ue(e,d):"number"==typeof d&&Ue(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(E.hasOwnProperty(a)?null!=d&&ln(n,a):null!=d&&Q(e,a,d,l))}switch(o){case"input":be(e),Ce(e,i,!1);break;case"textarea":be(e),Ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+ve(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?Le(e,!!i.multiple,n,!1):null!=i.defaultValue&&Le(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=un)}yn(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Vs(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(s(166));n=Io(Po.current),Io(Mo.current),Ts(t)?(n=t.stateNode,i=t.memoizedProps,n[En]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[En]=t,t.stateNode=n)}return null;case 13:return lr(Do),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Ts(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?Ta===ba&&(Ta=_a):(Ta!==ba&&Ta!==_a||(Ta=Sa),0!==Oa&&null!==Ea&&(Al(Ea,Ca),Rl(Ea,Oa)))),(n||i)&&(t.effectTag|=4),null);case 4:return Ao(),null;case 10:return eo(t),null;case 17:return mr(t.type)&&gr(),null;case 19:if(lr(Do),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(a=i.rendering)){if(o)Zs(i,!1);else if(Ta!==ba||null!==e&&0!=(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=Fo(a))){for(t.effectTag|=64,Zs(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)a=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return ur(Do,1&Do.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=Fo(a))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Zs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*jr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Zs(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=i.last)?n.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=jr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=jr(),n.sibling=null,t=Do.current,ur(Do,o?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function Qs(e){switch(e.tag){case 1:mr(e.type)&&gr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ao(),lr(pr),lr(dr),0!=(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return No(e),null;case 13:return lr(Do),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lr(Do),null;case 4:return Ao(),null;case 10:return eo(e),null;default:return null}}function Js(e,t){return{value:e,source:t,stack:ye(t)}}Us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bs=function(e,t,n,i,o){var s=e.memoizedProps;if(s!==i){var a,l,u=t.stateNode;switch(Io(Mo.current),e=null,n){case"input":s=Se(u,s),i=Se(u,i),e=[];break;case"option":s=Me(u,s),i=Me(u,i),e=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":s=Pe(u,s),i=Pe(u,i),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof i.onClick&&(u.onclick=un)}for(a in on(n,i),n=null,s)if(!i.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(l in u=s[a])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(E.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in i){var c=i[a];if(u=null!=s?s[a]:void 0,i.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(a,c)):"children"===a?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(E.hasOwnProperty(a)?(null!=c&&ln(o,a),e||u===c||(e=[])):(e=e||[]).push(a,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Vs=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Ys="function"==typeof WeakSet?WeakSet:Set;function ea(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ta(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){vl(e,t)}else t.current=null}function na(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Kr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ia(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function ra(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function oa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ra(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Kr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function sa(e,t,n){switch("function"==typeof Sl&&Sl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Vr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){vl(r,e)}}e=e.next}while(e!==i)}))}break;case 1:ta(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){vl(e,t)}}(t,n);break;case 5:ta(t);break;case 4:ca(e,t,n)}}function aa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&aa(t)}function la(e){return 5===e.tag||3===e.tag||4===e.tag}function ua(e){e:{for(var t=e.return;null!==t;){if(la(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||la(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=un));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function ca(e,t,n){for(var i,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,d=u;;)if(sa(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(l=i,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(sa(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function da(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ia(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[xn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Ee(n,i),sn(e,r),t=sn(e,i),r=0;r<o.length;r+=2){var a=o[r],l=o[r+1];"style"===a?nn(n,l):"dangerouslySetInnerHTML"===a?je(n,l):"children"===a?Ue(n,l):Q(n,a,l,t)}switch(e){case"input":xe(n,i);break;case"textarea":Oe(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Le(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Le(n,!!i.multiple,i.defaultValue,!0):Le(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Ra=jr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void pa(t);case 19:return void pa(t);case 17:return}throw Error(s(163))}function pa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var i=bl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var ha="function"==typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=ao(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Da||(Da=!0,Fa=i),ea(e,t)},n}function ma(e,t,n){(n=ao(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return ea(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===za?za=new Set([this]):za.add(this),ea(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ga,ya=Math.ceil,va=X.ReactCurrentDispatcher,wa=X.ReactCurrentOwner,ba=0,_a=3,Sa=4,ka=0,Ea=null,xa=null,Ca=0,Ta=ba,Ma=null,La=1073741823,Pa=1073741823,Ia=null,Oa=0,Aa=!1,Ra=0,Na=null,Da=!1,Fa=null,za=null,ja=!1,Ua=null,Ba=90,Va=null,Wa=0,qa=null,Ga=0;function Ha(){return 0!=(48&ka)?1073741821-(jr()/10|0):0!==Ga?Ga:Ga=1073741821-(jr()/10|0)}function $a(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=Ur();if(0==(4&t))return 99===i?1073741823:1073741822;if(0!=(16&ka))return Ca;if(null!==n)e=$r(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=$r(e,150,100);break;case 97:case 96:e=$r(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Ea&&e===Ca&&--e,e}function Ka(e,t){if(50<Wa)throw Wa=0,qa=null,Error(s(185));if(null!==(e=Za(e,t))){var n=Ur();1073741823===t?0!=(8&ka)&&0==(48&ka)?Ya(e):(Qa(e),0===ka&&Gr()):Qa(e),0==(4&ka)||98!==n&&99!==n||(null===Va?Va=new Map([[e,t]]):(void 0===(n=Va.get(e))||n>t)&&Va.set(e,t))}}function Za(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ea===r&&(sl(t),Ta===Sa&&Al(r,Ca)),Rl(r,t)),r}function Xa(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ol(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qa(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=qr(Ya.bind(null,e));else{var t=Xa(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=Ha();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Or&&kr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?qr(Ya.bind(null,e)):Wr(i,Ja.bind(null,e),{timeout:10*(1073741821-t)-jr()}),e.callbackNode=t}}}function Ja(e,t){if(Ga=0,t)return Nl(e,t=Ha()),Qa(e),null;var n=Xa(e);if(0!==n){if(t=e.callbackNode,0!=(48&ka))throw Error(s(327));if(ml(),e===Ea&&n===Ca||nl(e,n),null!==xa){var i=ka;ka|=16;for(var r=rl();;)try{ll();break}catch(t){il(e,t)}if(Yr(),ka=i,va.current=r,1===Ta)throw t=Ma,nl(e,n),Al(e,n),Qa(e),t;if(null===xa)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Ta,Ea=null,i){case ba:case 1:throw Error(s(345));case 2:Nl(e,2<n?2:n);break;case _a:if(Al(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(r)),1073741823===La&&10<(r=Ra+500-jr())){if(Aa){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Xa(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=wn(pl.bind(null,e),r);break}pl(e);break;case Sa:if(Al(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(r)),Aa&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(r=Xa(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Pa?i=10*(1073741821-Pa)-jr():1073741823===La?i=0:(i=10*(1073741821-La)-5e3,0>(i=(r=jr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ya(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=wn(pl.bind(null,e),i);break}pl(e);break;case 5:if(1073741823!==La&&null!==Ia){o=La;var a=Ia;if(0>=(i=0|a.busyMinDurationMs)?i=0:(r=0|a.busyDelayMs,i=(o=jr()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Al(e,n),e.timeoutHandle=wn(pl.bind(null,e),i);break}}pl(e);break;default:throw Error(s(329))}if(Qa(e),e.callbackNode===t)return Ja.bind(null,e)}}return null}function Ya(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&ka))throw Error(s(327));if(ml(),e===Ea&&t===Ca||nl(e,t),null!==xa){var n=ka;ka|=16;for(var i=rl();;)try{al();break}catch(t){il(e,t)}if(Yr(),ka=n,va.current=i,1===Ta)throw n=Ma,nl(e,t),Al(e,t),Qa(e),n;if(null!==xa)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ea=null,pl(e),Qa(e)}return null}function el(e,t){var n=ka;ka|=1;try{return e(t)}finally{0===(ka=n)&&Gr()}}function tl(e,t){var n=ka;ka&=-2,ka|=8;try{return e(t)}finally{0===(ka=n)&&Gr()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,bn(n)),null!==xa)for(n=xa.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&gr();break;case 3:Ao(),lr(pr),lr(dr);break;case 5:No(i);break;case 4:Ao();break;case 13:case 19:lr(Do);break;case 10:eo(i)}n=n.return}Ea=e,xa=Cl(e.current,null),Ca=t,Ta=ba,Ma=null,Pa=La=1073741823,Ia=null,Oa=0,Aa=!1}function il(e,t){for(;;){try{if(Yr(),jo.current=gs,Go)for(var n=Vo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Bo=0,qo=Wo=Vo=null,Go=!1,null===xa||null===xa.return)return Ta=1,Ma=t,xa=null;e:{var r=e,o=xa.return,s=xa,a=t;if(t=Ca,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var l=a;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.expirationTime=u.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!=(1&Do.current),d=o;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var f=d.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!c)}}if(p){var m=d.updateQueue;if(null===m){var g=new Set;g.add(l),d.updateQueue=g}else m.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(1073741823,null);y.tag=2,lo(s,y)}s.expirationTime=1073741823;break e}a=void 0,s=t;var v=r.pingCache;if(null===v?(v=r.pingCache=new ha,a=new Set,v.set(l,a)):void 0===(a=v.get(l))&&(a=new Set,v.set(l,a)),!a.has(s)){a.add(s);var w=wl.bind(null,r,l,s);l.then(w,w)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);a=Error((ge(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(s))}5!==Ta&&(Ta=2),a=Js(a,s),d=o;do{switch(d.tag){case 3:l=a,d.effectTag|=4096,d.expirationTime=t,uo(d,fa(d,l,t));break e;case 1:l=a;var b=d.type,_=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===za||!za.has(_)))){d.effectTag|=4096,d.expirationTime=t,uo(d,ma(d,l,t));break e}}d=d.return}while(null!==d)}xa=cl(xa)}catch(e){t=e;continue}break}}function rl(){var e=va.current;return va.current=gs,null===e?gs:e}function ol(e,t){e<La&&2<e&&(La=e),null!==t&&e<Pa&&2<e&&(Pa=e,Ia=t)}function sl(e){e>Oa&&(Oa=e)}function al(){for(;null!==xa;)xa=ul(xa)}function ll(){for(;null!==xa&&!Ar();)xa=ul(xa)}function ul(e){var t=ga(e.alternate,e,Ca);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),wa.current=null,t}function cl(e){xa=e;do{var t=xa.alternate;if(e=xa.return,0==(2048&xa.effectTag)){if(t=Xs(t,xa,Ca),1===Ca||1!==xa.childExpirationTime){for(var n=0,i=xa.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}xa.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=xa.firstEffect),null!==xa.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=xa.firstEffect),e.lastEffect=xa.lastEffect),1<xa.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=xa:e.firstEffect=xa,e.lastEffect=xa))}else{if(null!==(t=Qs(xa)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=xa.sibling))return t;xa=e}while(null!==xa);return Ta===ba&&(Ta=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function pl(e){var t=Ur();return Vr(99,hl.bind(null,e,t)),null}function hl(e,t){do{ml()}while(null!==Ua);if(0!=(48&ka))throw Error(s(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=dl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ea&&(xa=Ea=null,Ca=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=ka;ka|=32,wa.current=null,mn=Ht;var a=hn();if(fn(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var p=0,h=-1,f=-1,m=0,g=0,y=a,v=null;t:for(;;){for(var w;y!==l||0!==c&&3!==y.nodeType||(h=p+c),y!==d||0!==u&&3!==y.nodeType||(f=p+u),3===y.nodeType&&(p+=y.nodeValue.length),null!==(w=y.firstChild);)v=y,y=w;for(;;){if(y===a)break t;if(v===l&&++m===c&&(h=p),v===d&&++g===u&&(f=p),null!==(w=y.nextSibling))break;v=(y=v).parentNode}y=w}l=-1===h||-1===f?null:{start:h,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;gn={activeElementDetached:null,focusedElem:a,selectionRange:l},Ht=!1,Na=r;do{try{fl()}catch(e){if(null===Na)throw Error(s(330));vl(Na,e),Na=Na.nextEffect}}while(null!==Na);Na=r;do{try{for(a=e,l=t;null!==Na;){var b=Na.effectTag;if(16&b&&Ue(Na.stateNode,""),128&b){var _=Na.alternate;if(null!==_){var S=_.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&b){case 2:ua(Na),Na.effectTag&=-3;break;case 6:ua(Na),Na.effectTag&=-3,da(Na.alternate,Na);break;case 1024:Na.effectTag&=-1025;break;case 1028:Na.effectTag&=-1025,da(Na.alternate,Na);break;case 4:da(Na.alternate,Na);break;case 8:ca(a,c=Na,l),aa(c)}Na=Na.nextEffect}}catch(e){if(null===Na)throw Error(s(330));vl(Na,e),Na=Na.nextEffect}}while(null!==Na);if(S=gn,_=hn(),b=S.focusedElem,l=S.selectionRange,_!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&fn(b)&&(_=l.start,void 0===(S=l.end)&&(S=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(S,b.value.length)):(S=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(S=S.getSelection(),c=b.textContent.length,a=Math.min(l.start,c),l=void 0===l.end?a:Math.min(l.end,c),!S.extend&&a>l&&(c=l,l=a,a=c),c=pn(b,a),d=pn(b,l),c&&d&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==d.node||S.focusOffset!==d.offset)&&((_=_.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),a>l?(S.addRange(_),S.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),S.addRange(_))))),_=[];for(S=b;S=S.parentNode;)1===S.nodeType&&_.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<_.length;b++)(S=_[b]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Ht=!!mn,gn=mn=null,e.current=n,Na=r;do{try{for(b=e;null!==Na;){var k=Na.effectTag;if(36&k&&oa(b,Na.alternate,Na),128&k){_=void 0;var E=Na.ref;if(null!==E){var x=Na.stateNode;switch(Na.tag){case 5:_=x;break;default:_=x}"function"==typeof E?E(_):E.current=_}}Na=Na.nextEffect}}catch(e){if(null===Na)throw Error(s(330));vl(Na,e),Na=Na.nextEffect}}while(null!==Na);Na=null,Rr(),ka=o}else e.current=n;if(ja)ja=!1,Ua=e,Ba=t;else for(Na=r;null!==Na;)t=Na.nextEffect,Na.nextEffect=null,Na=t;if(0===(t=e.firstPendingTime)&&(za=null),1073741823===t?e===qa?Wa++:(Wa=0,qa=e):Wa=0,"function"==typeof _l&&_l(n.stateNode,i),Qa(e),Da)throw Da=!1,e=Fa,Fa=null,e;return 0!=(8&ka)||Gr(),null}function fl(){for(;null!==Na;){var e=Na.effectTag;0!=(256&e)&&na(Na.alternate,Na),0==(512&e)||ja||(ja=!0,Wr(97,(function(){return ml(),null}))),Na=Na.nextEffect}}function ml(){if(90!==Ba){var e=97<Ba?97:Ba;return Ba=90,Vr(e,gl)}}function gl(){if(null===Ua)return!1;var e=Ua;if(Ua=null,0!=(48&ka))throw Error(s(331));var t=ka;for(ka|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ia(5,n),ra(5,n)}}catch(t){if(null===e)throw Error(s(330));vl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return ka=t,Gr(),!0}function yl(e,t,n){lo(e,t=fa(e,t=Js(n,t),1073741823)),null!==(e=Za(e,1073741823))&&Qa(e)}function vl(e,t){if(3===e.tag)yl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){yl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===za||!za.has(i))){lo(n,e=ma(n,e=Js(t,e),1073741823)),null!==(n=Za(n,1073741823))&&Qa(n);break}}n=n.return}}function wl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Ea===e&&Ca===n?Ta===Sa||Ta===_a&&1073741823===La&&jr()-Ra<500?nl(e,Ca):Aa=!0:Ol(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qa(e)))}function bl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$a(t=Ha(),e,null)),null!==(e=Za(e,t))&&Qa(e)}ga=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||pr.current)Ps=!0;else{if(i<n){switch(Ps=!1,t.tag){case 3:js(t),Ms();break;case 5:if(Ro(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mr(t.type)&&wr(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,ur(Zr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?qs(e,t,n):(ur(Do,1&Do.current),null!==(t=Ks(e,t,n))?t.sibling:null);ur(Do,1&Do.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return $s(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),ur(Do,Do.current),!i)return null}return Ks(e,t,n)}Ps=!1}}else Ps=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=fr(t,dr.current),no(t,n),r=Ko(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(i)){var o=!0;wr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var a=i.getDerivedStateFromProps;"function"==typeof a&&mo(t,i,a,e),r.updater=go,t.stateNode=r,r._reactInternalFiber=t,bo(t,i,e,n),t=zs(null,t,i,!0,o,n)}else t.tag=0,Is(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"==typeof e)return xl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(r),e=Kr(r,e),o){case 0:t=Ds(null,t,r,e,n);break e;case 1:t=Fs(null,t,r,e,n);break e;case 11:t=Os(null,t,r,e,n);break e;case 14:t=As(null,t,r,Kr(r.type,e),i,n);break e}throw Error(s(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ds(e,t,i,r=t.elementType===i?r:Kr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Fs(e,t,i,r=t.elementType===i?r:Kr(i,r),n);case 3:if(js(t),i=t.updateQueue,null===e||null===i)throw Error(s(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,so(e,t),co(t,i,null,n),(i=t.memoizedState.element)===r)Ms(),t=Ks(e,t,n);else{if((r=t.stateNode.hydrate)&&(_s=_n(t.stateNode.containerInfo.firstChild),bs=t,r=Ss=!0),r)for(n=Co(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Is(e,t,i,n),Ms();t=t.child}return t;case 5:return Ro(t),null===e&&xs(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,vn(i,r)?a=null:null!==o&&vn(i,o)&&(t.effectTag|=16),Ns(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Is(e,t,a,n),t=t.child),t;case 6:return null===e&&xs(t),null;case 13:return qs(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=xo(t,null,i,n):Is(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Os(e,t,i,r=t.elementType===i?r:Kr(i,r),n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value;var l=t.type._context;if(ur(Zr,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=Fi(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(a.children===r.children&&!pr.current){t=Ks(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!=(c.observedBits&o)){1===l.tag&&((c=ao(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Is(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,Is(e,t,i,n),t.child;case 14:return o=Kr(r=t.type,t.pendingProps),As(e,t,r,o=Kr(r.type,o),i,n);case 15:return Rs(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Kr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mr(i)?(e=!0,wr(t)):e=!1,no(t,n),vo(t,i,r),bo(t,i,r,n),zs(null,t,i,!0,e,n);case 19:return $s(e,t,n)}throw Error(s(156,t.tag))};var _l=null,Sl=null;function kl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function El(e,t,n,i){return new kl(e,t,n,i)}function xl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cl(e,t){var n=e.alternate;return null===n?((n=El(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,i,r,o){var a=2;if(i=e,"function"==typeof e)xl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ne:return Ml(n.children,r,o,t);case ae:a=8,r|=7;break;case ie:a=8,r|=1;break;case re:return(e=El(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ue:return(e=El(13,n,t,r)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=El(19,n,t,r)).elementType=ce,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:a=10;break e;case se:a=9;break e;case le:a=11;break e;case de:a=14;break e;case pe:a=16,i=null;break e;case he:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=El(a,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Ml(e,t,n,i){return(e=El(7,e,i,t)).expirationTime=n,e}function Ll(e,t,n){return(e=El(6,e,null,t)).expirationTime=n,e}function Pl(e,t,n){return(t=El(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Il(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ol(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Al(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Nl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Dl(e,t,n,i){var r=t.current,o=Ha(),a=ho.suspense;o=$a(o,r,a);e:if(n){t:{if(Ye(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(mr(u)){n=vr(n,u,l);break e}}n=l}else n=cr;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),lo(r,t),Ka(r,o),o}function Fl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function jl(e,t){zl(e,t),(e=e.alternate)&&zl(e,t)}function Ul(e,t,n){var i=new Il(e,t,n=null!=n&&!0===n.hydrate),r=El(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[Cn]=i.current,n&&0!==t&&function(e,t){var n=Je(t);Ct.forEach((function(e){ft(e,t,n)})),Tt.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof r){var a=r;r=function(){var e=Fl(s);a.call(e)}}Dl(t,s,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ul(e,0,t?{hydrate:!0}:void 0)}(n,i),s=o._internalRoot,"function"==typeof r){var l=r;r=function(){var e=Fl(s);l.call(e)}}tl((function(){Dl(t,s,e,r)}))}return Fl(s)}function Wl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function ql(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bl(t))throw Error(s(200));return Wl(e,t,null,n)}Ul.prototype.render=function(e){Dl(e,this._internalRoot,null,null)},Ul.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Dl(null,e,null,(function(){t[Cn]=null}))},mt=function(e){if(13===e.tag){var t=$r(Ha(),150,100);Ka(e,t),jl(e,t)}},gt=function(e){13===e.tag&&(Ka(e,3),jl(e,3))},yt=function(e){if(13===e.tag){var t=Ha();Ka(e,t=$a(t,e,null)),jl(e,t)}},M=function(e,t,n){switch(t){case"input":if(xe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Pn(i);if(!r)throw Error(s(90));_e(i),xe(i,r)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&Le(e,!!n.multiple,t,!1)}},R=el,N=function(e,t,n,i,r){var o=ka;ka|=4;try{return Vr(98,e.bind(null,t,n,i,r))}finally{0===(ka=o)&&Gr()}},D=function(){0==(49&ka)&&(function(){if(null!==Va){var e=Va;Va=null,e.forEach((function(e,t){Nl(t,e),Qa(t)})),Gr()}}(),ml())},F=function(e,t){var n=ka;ka|=2;try{return e(t)}finally{0===(ka=n)&&Gr()}};var Gl,Hl,$l={Events:[Mn,Ln,Pn,C,k,Fn,function(e){rt(e,Dn)},O,A,Qt,at,ml,{current:!1}]};Hl=(Gl={findFiberByHostInstance:Tn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);_l=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Sl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(r({},Gl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Hl?Hl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$l,t.createPortal=ql,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&ka))throw Error(s(187));var n=ka;ka|=1;try{return Vr(99,e.bind(null,t))}finally{ka=n,Gr()}},t.hydrate=function(e,t,n){if(!Bl(t))throw Error(s(200));return Vl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Bl(t))throw Error(s(200));return Vl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(s(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Cn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return ql(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Bl(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return Vl(e,t,n,!1,i)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(9)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i,r,o,s,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(c,0))},r=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},s=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,h=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var v=!1,w=null,b=-1,_=5,S=0;s=function(){return t.unstable_now()>=S},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,E=k.port2;k.port1.onmessage=function(){if(null!==w){var e=t.unstable_now();S=e+_;try{w(!0,e)?E.postMessage(null):(v=!1,w=null)}catch(e){throw E.postMessage(null),e}}else v=!1},i=function(e){w=e,v||(v=!0,E.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},o=function(){m(b),b=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<M(r,t)))break e;e[i]=t,e[n]=r,n=i}}function C(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>M(s,n))void 0!==l&&0>M(l,s)?(e[i]=l,e[a]=n,i=a):(e[i]=s,e[o]=n,i=o);else{if(!(void 0!==l&&0>M(l,n)))break e;e[i]=l,e[a]=n,i=a}}}return t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var L=[],P=[],I=1,O=null,A=3,R=!1,N=!1,D=!1;function F(e){for(var t=C(P);null!==t;){if(null===t.callback)T(P);else{if(!(t.startTime<=e))break;T(P),t.sortIndex=t.expirationTime,x(L,t)}t=C(P)}}function z(e){if(D=!1,F(e),!N)if(null!==C(L))N=!0,i(j);else{var t=C(P);null!==t&&r(z,t.startTime-e)}}function j(e,n){N=!1,D&&(D=!1,o()),R=!0;var i=A;try{for(F(n),O=C(L);null!==O&&(!(O.expirationTime>n)||e&&!s());){var a=O.callback;if(null!==a){O.callback=null,A=O.priorityLevel;var l=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?O.callback=l:O===C(L)&&T(L),F(n)}else T(L);O=C(L)}if(null!==O)var u=!0;else{var c=C(P);null!==c&&r(z,c.startTime-n),u=!1}return u}finally{O=null,A=i,R=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||R||(N=!0,i(j))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return C(L)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();if("object"==typeof s&&null!==s){var l=s.delay;l="number"==typeof l&&0<l?a+l:a,s="number"==typeof s.timeout?s.timeout:U(e)}else s=U(e),l=a;return e={id:I++,callback:n,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>a?(e.sortIndex=l,x(P,e),null===C(L)&&e===C(P)&&(D?o():D=!0,r(z,l-a))):(e.sortIndex=s,x(L,e),N||R||(N=!0,i(j))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=C(L);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||s()},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";n.r(t);var i;n(5);!function(e){e[e.SMALL=100]="SMALL",e[e.MEDIUM=200]="MEDIUM",e[e.LARGE=300]="LARGE",e[e.XLARGE=500]="XLARGE"}(i||(i={}));var r=n(2),o=n.n(r);class s{constructor(){this._events=new Map}addListener(e,t){let n=this._events.get(e);n?n.add(t):this._events.set(e,new Set([t]))}on(e,t){return this.addListener(e,t)}removeListener(e,t){let n=this._events.get(e);n&&(n.delete(t),0==n.size&&this._events.delete(e))}removeListeners(e){this._events.delete(e)}removeAllListeners(){this._events.clear()}triggerEvent(e,t){let n=this._events.get(e);if(n)for(let e of n)e(t)}}s.prototype.on=s.prototype.addListener;console.log.bind(console);const a="undefined"!=typeof window?window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB:null,l=!!a;class u extends s{constructor(e,t){super(),this.autoReopenOnClose=!0,this.isOpen=!1,this._requirePromise=null,this.name=e,this.version=t}require(e){return l?(this._requirePromise||(this._requirePromise=this.open(e).then(()=>this)),this._requirePromise):Promise.resolve(null)}open(e){return y(this,e).then(()=>(this._setupCoordination(),this._onopen(e)))}_reopen(e){if(!this.autoReopenOnClose)return;let t=this,n=[];return this.transaction=function(e,...i){let r,o,s=new f((e,t)=>{r=e,o=t});return s._resolve=r,s._reject=o,s._db=t,s._stores=i,s._mode=e,n.push(s),s},y(this,e).then(t=>{delete this.transaction;for(let e of n)e._flushDelayed();return this._onopen(e)})}async _onopen(e){this._snapshot(),this.db.onclose=()=>{this.isOpen=!1,this._reopen(e)},this.isOpen=!0,this.triggerEvent("open")}_snapshot(){let e=this.storeNames,t=new Map;if(e.length>0){let n=this.db.transaction(e,"readonly");for(let i of e){let e=n.objectStore(i);t.set(i,{autoIncrement:e.autoIncrement,indexNames:e.indexNames,keyPath:e.keyPath})}}this._lastSnapshot={storeNames:e,storeInfo:t}}_setupCoordination(){"undefined"!=typeof BroadcastChannel&&(this._broadcastChannel=new BroadcastChannel(`xdb:${this.name}.${this.version}`),this._broadcastChannel.onmessage=e=>{this.triggerEvent("remotechange",e.data)})}_broadcastChange(e){this._broadcastChannel&&this._broadcastChannel.postMessage(e),this.triggerEvent("change",e)}close(){this.isOpen=!1,this.db.close()}get storeNames(){return Array.from(this.db.objectStoreNames)}getStore(e,t){return this.transaction(t,e).objectStore(e)}transaction(e,...t){return g(this,this.db.transaction(t,e))}modify(e,...t){let n=this.transaction("readwrite",...e),i=e.map(e=>n.objectStore(e));return Promise.all([n,...t.map(e=>e(...i))]).then(e=>(e.shift(),e))}read(e,...t){let n=this.transaction("readonly",...e),i=e.map(e=>n.objectStore(e));return Promise.all(t.map(e=>e(...i)))}get(e,t){return this.getStore(e,"readonly").get(t)}getAll(e,t,n){return this.getStore(e,"readonly").getAll(t,n)}add(e,t,n){let i=this.getStore(e,"readwrite");return Promise.all([i.add(t,n),i.transaction]).then(e=>e[0])}put(e,t,n){let i=this.getStore(e,"readwrite");return Promise.all([i.put(t,n),i.transaction]).then(e=>e[0])}delete(e,t){let n=this.getStore(e,"readwrite");return Promise.all([n.delete(t),n.transaction])}getAllKeys(e,t,n){return this.getStore(e,"readonly").getAllKeys(t,n)}}class c{constructor(e,t,n,i){this._t=g(e,t),this.db=e,this.prevVersion=n,this.nextVersion=i}get storeNames(){return Array.from(this.db.db.objectStoreNames)}hasStore(e){return this.db.db.objectStoreNames.contains(e)}getStore(e){return this._t.objectStore(e)}createStore(e,t){let n=this.db.db.createObjectStore(e,t);return new p(this.db,n,this._t)}deleteStore(e){this.db.db.deleteObjectStore(e)}}class d extends Promise{constructor(){super(...arguments),this.aborted=!1,this.errorOnAbort=!0}abort(){this.aborted=!0,this.transaction.abort()}objectStore(e){return new p(this.db,this.transaction.objectStore(e),this)}}class p{constructor(e,t,n){this.db=e,this.store=t,this.transaction=n}get autoIncrement(){return this.store.autoIncrement}get indexNames(){return this.store.indexNames}get name(){return this.store.name}set name(e){this.store.name=e}clear(){return this._promise(()=>this.store.clear()).then(()=>{this.db._broadcastChange({type:"clear",store:this.store.name})})}count(e){return this._promise(()=>this.store.count(e))}get(e){return this._promise(()=>this.store.get(e))}getAll(e,t){return this._promise(()=>this.store.getAll(e,t))}getKey(e){return this._promise(()=>this.store.getKey(e))}getAllKeys(e,t){return this._promise(()=>this.store.getAllKeys(e,t))}add(e,t){return this._promise(()=>this.store.add(e,t)).then(t=>(this.db._broadcastChange({type:"update",store:this.store.name,key:t,value:e}),t))}put(e,t){return this._promise(()=>this.store.put(e,t)).then(t=>(this.db._broadcastChange({type:"update",store:this.store.name,key:t,value:e}),t))}delete(e){return this._promise(()=>this.store.delete(e)).then(()=>{this.db._broadcastChange({type:"delete",store:this.store.name,key:e})})}createIndex(e,t,n){return this.store.createIndex(e,t,n)}deleteIndex(e){this.store.deleteIndex(e)}getIndex(e){return new h(this,this.store.index(e))}_promise(e){return new Promise((t,n)=>{let i=e();i.onsuccess=()=>{t(i.result)},i.onerror=()=>{n(i.error)}})}}class h{constructor(e,t){this.store=e,this.index=t}get keyPath(){return this.index.keyPath}get multiEntry(){return this.index.multiEntry}get name(){return this.index.name}set name(e){this.index.name=e}get unique(){return this.index.unique}count(e){return this._promise(()=>this.index.count(e))}get(e){return this._promise(()=>this.index.get(e))}getAll(e,t){return this._promise(()=>this.index.getAll(e,t))}_promise(e){return new Promise((t,n)=>{let i=e();i.onsuccess=()=>{t(i.result)},i.onerror=()=>{n(i.error)}})}}class f extends d{constructor(){super(...arguments),this._delayed=[]}_flushDelayed(){this.abort=d.prototype.abort,this.objectStore=d.prototype.objectStore,this.transaction=this._db.db.transaction(this._stores,this._mode),function(e){let t=e.transaction,n=e._resolve;e._resolve=void 0;let i=e._reject;e._reject=void 0,t.oncomplete=()=>{n()},t.onerror=()=>{i(t.error)},t.onabort=()=>{e.aborted=!0,e.errorOnAbort?i(new Error("transaction aborted")):n()}}(this),this.aborted&&this.abort();for(let e of this._delayed)e._flushDelayed();this._delayed=[]}abort(){this.aborted=!0}objectStore(e){let t=this._db._lastSnapshot.storeInfo.get(e);if(!t)throw new Error("object store not found");let n=new m(this._db,{name:e,autoIncrement:t.autoIncrement,indexNames:t.indexNames,keyPath:t.keyPath},this);return this._delayed.push(n),n}}class m extends p{constructor(){super(...arguments),this._delayed=[]}_flushDelayed(){this.store=this.transaction.transaction.objectStore(this.store.name),this._promise=p.prototype._promise,this._delayed.forEach(({f:e,resolve:t,reject:n})=>{let i=e();i.onsuccess=()=>{t(i.result)},i.onerror=()=>{n(i.error)}}),this._delayed=[]}_promise(e){return new Promise((t,n)=>{this._delayed.push({f:e,resolve:t,reject:n})})}}function g(e,t){var n=new d((e,i)=>{t.oncomplete=()=>{e()},t.onerror=()=>{i(t.error)},t.onabort=()=>{n.aborted=!0,n.errorOnAbort?i(new Error("transaction aborted")):e()}});return n.db=e,n.transaction=t,n}function y(e,t){return new Promise((n,i)=>{let r=a.open(e.name,e.version),o=1,s=()=>{0==--o&&(e.db=r.result,n())};t&&(r.onupgradeneeded=n=>{e.db=r.result;let a=new c(e,r.transaction,n.oldVersion,n.newVersion),l=e=>{try{a._t.abort()}catch(e){}i(e)};o++,a._t.then(s).catch(l),o++;try{t(a).then(s).catch(l)}catch(e){l(e)}}),r.onsuccess=()=>{s()},r.onerror=()=>{i(r.error)}})}const v=console.log.bind(console),w=new u("scripter",2);const b=console.log.bind(console),_=-1!=navigator.platform.indexOf("Mac"),S="undefined"!=typeof PointerEvent,k=function(){};class E{constructor(){this.lastOpenScript=0,this.lastOpenScriptGUID="",this.editorViewState=null,this.menuVisible=!1,this.uiScale=1,this.showLineNumbers=!1,this.wordWrap=!0,this.monospaceFont=!0,this.showWhitespace=!1,this.indentGuides=!1,this.minimap=!1,this.quickSuggestions=!0,this.quickSuggestionsDelay=500,this.hoverCards=!0,this.fontLigatures=!1,this.windowSize=[i.MEDIUM,i.MEDIUM],this.useTabs=!0,this.tabSize=2,this.fontSize=(e,t)=>{e.uiScale=t>22?2:t>18?1.75:t>16?1.5:t>15?1.4:t>13?1.3:t>12?1.2:t>11?1.1:1}}}const x=new class extends s{constructor(){super(...arguments),this._dirtyProps=new Set,this._saveTimer=null,this.version=0,this.data=new E}get editorViewState(){return this.data.editorViewState}set editorViewState(e){this._set("editorViewState",e)}get lastOpenScript(){return this.data.lastOpenScript}set lastOpenScript(e){0!=e&&this._set("lastOpenScript",e)}get lastOpenScriptGUID(){return this.data.lastOpenScriptGUID}set lastOpenScriptGUID(e){this._set("lastOpenScriptGUID",e)}get uiScale(){return this.data.uiScale}set uiScale(e){this._set("uiScale",e)}get menuVisible(){return this.data.menuVisible}set menuVisible(e){this._set("menuVisible",e)}get showLineNumbers(){return this.data.showLineNumbers}set showLineNumbers(e){this._set("showLineNumbers",e)}get wordWrap(){return this.data.wordWrap}set wordWrap(e){this._set("wordWrap",e)}get monospaceFont(){return this.data.monospaceFont}set monospaceFont(e){this._set("monospaceFont",e)}get showWhitespace(){return this.data.showWhitespace}set showWhitespace(e){this._set("showWhitespace",e)}get indentGuides(){return this.data.indentGuides}set indentGuides(e){this._set("indentGuides",e)}get minimap(){return this.data.minimap}set minimap(e){this._set("minimap",e)}get quickSuggestions(){return this.data.quickSuggestions}set quickSuggestions(e){this._set("quickSuggestions",e)}get quickSuggestionsDelay(){return this.data.quickSuggestionsDelay}set quickSuggestionsDelay(e){this._set("quickSuggestionsDelay",e)}get hoverCards(){return this.data.hoverCards}set hoverCards(e){this._set("hoverCards",e)}get fontLigatures(){return this.data.fontLigatures}set fontLigatures(e){this._set("fontLigatures",e)}get windowSize(){return this.data.windowSize}set windowSize(e){this._set("windowSize",e)}get useTabs(){return this.data.useTabs}set useTabs(e){this._set("useTabs",e)}get tabSize(){return this.data.tabSize}set tabSize(e){this._set("tabSize",e)}_set(e,t){this.data[e]!==t&&(this.data[e]=t,this.dirty(e))}dirty(e){this._dirtyProps.add(e),null===this._saveTimer&&(this._saveTimer=setTimeout(()=>{this.saveDirty()},200)),this.version++,this.triggerEvent("change",{key:e})}async load(){let e=Object.keys(this.data),t=[];if(await w.read(["config"],...e.map(e=>n=>n.get(e).then(n=>{let i=this.data[e];i&&"function"==typeof i?void 0!==n&&t.push([e,()=>i(this.data,n)]):this.data[e]=void 0===n?this.data[e]:n}))),t.length>0){let e=t.map(e=>e[0]),n=[];console.log("[scripter] migrating config keys "+e);for(let[e,i]of t)try{let t=i();void 0===t?n.push(e):this.data[e]=t}catch(t){console.warn(`[scripter] migration for config "${e}" failed: ${t.stack|t}`)}n.length>0&&await w.modify(["config"],async e=>{for(let t of n)e.delete(t)})}}async saveDirty(){let e=Array.from(this._dirtyProps);return this._dirtyProps.clear(),this.saveProps(e)}async saveAll(){return this.saveProps(Object.keys(this.data))}async saveProps(e){clearTimeout(this._saveTimer),this._saveTimer=null;let t=e.map(e=>this.data[e]);k("[config] save",e,t),await w.modify(["config"],async n=>{e.forEach((e,i)=>n.put(t[i],e))})}};var C=n(0),T=n.n(C),M=n(4),L=n.n(M);const P="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",I=P[0],O=(Math.log(62),Math.log(256),Math.log(256)/Math.log(62));const A="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?function(){let e=new Uint8Array(16);return crypto.getRandomValues(e),e}:function(){let e=new Uint8Array(16);for(let t=0;t<e.length;t++)e[t]=255*Math.random()>>>0;return e};function R(){return function(e){let t=0,n=0,i=0,r=e.length;for(;i!==r&&0==e[i];)i++,t++;let o=(r-i)*O+1>>>0,s=new Uint8Array(o);for(;i!==r;){let t=e[i],r=0;for(let e=o-1;(0!==t||r<n)&&-1!==e;e--,r++)t+=256*s[e]>>>0,s[e]=t%62>>>0,t=t/62>>>0;n=r,i++}let a=o-n;for(;a!==o&&0===s[a];)a++;let l=I.repeat(t);for(;a<o;++a)l+=P.charAt(s[a]);return l}(A())}var N=new class extends s{constructor(){super(...arguments),this.index={}}updateFromPlugin(e){this.index=e,this.triggerEvent("change")}hasGUID(e){return e in this.index}};const D=(()=>{let e=new Uint8Array(0);if(e.__proto__!==Object.prototype&&"function"==typeof e.__proto__.constructor){let t=e.__proto__.constructor;return e=>e instanceof t}return e=>e.buffer instanceof ArrayBuffer&&"BYTES_PER_ELEMENT"in e})();class F{constructor(e,t,n){this.__scripter_lazy_seq__="n",e>t?(this.length=t===1/0?1/0:Math.ceil(Math.max(0,e-t)/n),this.step=-n):(this.length=t===1/0?1/0:Math.ceil(Math.max(0,t-e)/n),this.step=n),this.start=e,this.end=t}[Symbol.iterator](){let e=this.start,t=this.end,n=this.step;return this.start<this.end?{next(){if(e>=t)return{done:!0,value:0};let i=e;return e+=n,{value:i,done:!1}}}:{next(){if(e<=t)return{done:!0,value:0};let i=e;return e+=n,{value:i,done:!1}}}}map(e){if(this.end===1/0)throw new Error("infinite sequence");let t=[];if(this.start<this.end)for(let n=0,i=this.start;i<this.end;i+=this.step)t.push(e(i,n++));else for(let n=0,i=this.start;i>this.end;i+=this.step)t.push(e(i,n++));return t}array(){if(this.end===1/0)throw new Error("infinite sequence");let e=[];if(this.start<this.end)for(let t=this.start;t<this.end;t+=this.step)e.push(t);else for(let t=this.start;t>this.end;t+=this.step)e.push(t);return e}toString(){if(this.end===1/0){let e="",t=0;for(let n of this){if(t>0){if(t>50){e+=" ... ∞";break}e+=", "}e+=n,t++}return e}return this.join(", ")}join(e){let t="",n=0;if(this.end===1/0)throw new Error("infinite sequence");for(let i of this)n>0&&(t+=e),t+=i,n++;return t}at(e){return this.start+this.step*e}}var z={__scripter_image_marker__:1,__scripter_lazy_seq__:1,__scripter_error__:1};function j(e){return"string"==typeof e?e:function e(t,n,i){let r=typeof t;if(null===t)return"null";if(void 0===t)return"undefined";let o=n+"  ";if("object"==r||"function"==r){if(i.has(t))return"[cyclic]";i.add(t)}if("object"==r){if(t instanceof ArrayBuffer)return"<ArrayBuffer "+t.byteLength+">";if(D(t)){let e=32/t.BYTES_PER_ELEMENT,n=t.length>e?t.subarray(0,e):t;return"<"+t.constructor.name+" "+t.length+(0==t.length?">":" ["+Array.from(n).map(e=>e.toString(16)).join(" ")+(n===t?"]>":" ...]>"))}if(Array.isArray(t))return t.length>10?"["+t.map(t=>o+e(t,o,i)).join(",")+"]":"["+t.map(t=>e(t,o,i)).join(", ")+"]";if("__scripter_lazy_seq__"in t)return t.__proto__=F.prototype,"LazySeq["+t.toString()+"]";if("__scripter_error__"in t){let e=t.__scripter_error__.str;return t.__scripter_error__.stack&&t.__scripter_error__.stack.length&&(e+="\n"+t.__scripter_error__.stack.join("\n")),e}if(Symbol.iterator in t){let r=t instanceof Map,s=Array.from(t),a=s.length>10,l=t.constructor.name+"{";if(0==s.length)return l+"}";for(let t=0;t<s.length;t++){let n=s[t];t>0&&(l+=","),l+=a?o:" ",l+=r?e(n[0],o,i)+" => "+e(n[1],o,i):e(n,o,i)}return l+(a?n:" ")+"}"}if(t instanceof Date)return String(t);let r=[];for(let n of Object.keys(t))if(!(n in z)){let s=U.test(n)?n:JSON.stringify(n);r.push(s+": "+e(t[n],o,i))}if(0==r.length)return"{}";let s=r.join(","+o);return-1!=s.indexOf("\n")||s.length>40?"{"+o+s+n+"}":"{ "+s+" }"}if("function"==r)return"[Function"+(t.name?" "+t.name:"")+"]";return JSON.stringify(t,null,2).replace(/\n/g,o)}(e,"\n",new Set)}const U=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;const B=[],V=[],W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var q=0,G=W.length;q<G;++q)B[q]=W[q],V[W.charCodeAt(q)]=q;function H(e,t,n){for(var i,r,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(B[(r=i)>>18&63]+B[r>>12&63]+B[r>>6&63]+B[63&r]);return o.join("")}function $(e){for(var t,n=e.length,i=n%3,r=[],o=0,s=n-i;o<s;o+=16383)r.push(H(e,o,o+16383>s?s:o+16383));return 1===i?(t=e[n-1],r.push(B[t>>2]+B[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(B[t>>10]+B[t>>4&63]+B[t<<2&63]+"=")),r.join("")}V["-".charCodeAt(0)]=62,V["_".charCodeAt(0)]=63;var K=n(1);K.editor.defineTheme("scripter-light",{base:"vs",inherit:!0,rules:[{token:"comment",foreground:"#999999",fontStyle:"italic"},{token:"comment.doc",foreground:"#666669",fontStyle:""},{token:"keyword",foreground:"#010101"},{token:"identifier",foreground:"#111111"},{token:"type.identifier",foreground:"#6f42c1"},{token:"number",foreground:"#005cc5"},{token:"string",foreground:"#032f62"},{token:"delimiter",foreground:"#555555"}],colors:{"editor.foreground":"#000000","editor.background":"#ffffff","editorCursor.foreground":"#000000","editorLineNumber.foreground":"#d9d9d9","editorIndentGuide.background":"#00000007","editorBracketMatch.background":"#ccffdf","editorBracketMatch.border":"#00000000","editorError.foreground":"#ff4499","editor.hoverHighlightBackground":"#fffddd","editorHoverWidget.background":"#fffadd","editorHoverWidget.border":"#F0E5A7"}});const Z=Symbol("kViewZoneDOMObserver");var X;!function(e){e[e.GENERIC=0]="GENERIC",e[e.PRINT=1]="PRINT",e[e.INPUT=2]="INPUT"}(X||(X={}));Symbol("kViewZoneType");class Q extends s{constructor(e,t){super(),this.id="",this.editor=null,this.sourceLine=-1,this.sourceLineLen=1,this.suppressMouseDown=!1,this.sourceLine=this.afterLineNumber=e||0;let n=this.domNode=document.createElement("div");n.className="inlineWidget",t&&(n.className+=" "+t);let i=this.containerEl=document.createElement("div");n.appendChild(i),this.contentEl=document.createElement("div"),this.contentEl.className="content",i.appendChild(this.contentEl),this.buttonsEl=document.createElement("div"),this.buttonsEl.className="buttons",i.appendChild(this.buttonsEl);let r=document.createElement("div");r.innerText="✗",r.title="Dismiss",r.className="button closeButton sansSerif",r.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.removeFromEditor()},{passive:!1,capture:!0}),this.buttonsEl.appendChild(r)}removeFromEditor(){if(this.editor){let e=this.editor;e.viewZones.delete(this.id),e.editor.focus()}}moveToLine(e){e!=this.afterLineNumber&&(this.afterLineNumber=e,this.sourceLine=e)}prepareForLayout(){this.afterLineNumber=this.sourceLine;let e=this.domNode.cloneNode(!0);e.style.height="auto";let t=this.editor.measureHTMLElement(e);this.heightInPx=Math.max(16,t.height)}onWillAddToEditor(e){this.editor=e,this.sourceLine=this.afterLineNumber;let t=this.editor.measureHTMLElement(this.domNode);this.heightInPx=Math.max(16,t.height),this.onWillMount()}onDidAddToEditor(e,t){this.id=e,this._updateSourceLineLen(),this.triggerEvent("add",this.editor),t==this.constructor.name&&this.domNode.classList.add("updated")}onWillRemoveFromEditor(){this.onWillUnmount()}onDidRemoveFromEditor(){this.id="",this.editor=null,this.sourceLine=-1,this.triggerEvent("remove"),this.onDidUnmount(),this.removeAllListeners()}onMovedSourceLine(e){this.sourceLine;this.sourceLine=e,this._updateSourceLineLen()}_updateSourceLineLen(){try{this.sourceLineLen=this.editor.currentModel.getLineLength(this.sourceLine)}catch(e){console.warn(`[scripter/ViewZone._updateSourceLineLen] Model.getLineLength(${this.sourceLine}): ${e.stack||e}`),this.sourceLineLen=1}}onComputedHeight(e){!function(e,t,n){document.body.contains(t)&&n();var i=e[Z];if(i)return void i[0].push({el:t,callback:n});let r=[{el:t,callback:n}];var o=new MutationObserver((t,n)=>{for(let e=0;e<r.length;){let t=r[e];document.body.contains(t.el)?(t.callback(),r.splice(e,1)):e++}0==r.length&&(n.disconnect(),e[Z]=null)});let s=e.editor.getDomNode().querySelector(".view-zones");o.observe(s,{childList:!0,subtree:!0}),i=[r,o],e[Z]=i}(this.editor,this.domNode,()=>{this.domNode.style.width=null,this.onDidMount()})}onWillMount(){}onDidMount(){}onWillUnmount(){}onDidUnmount(){}}class J extends Q{constructor(e,t,n,i){if(super(e.line,"printWidget"+(i.isError?" error":"")),this.pos=e,this.messageHtml=t,this.messageJs=n,this.contentEl.className+=" message monospace",this.contentEl.innerHTML=t,""!=t){let e=document.createElement("div");e.innerText="+",e.title="Add to script as code",e.className="button inlineButton sansSerif",e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),this.addAsCode()},{passive:!1,capture:!0}),this.buttonsEl.appendChild(e)}}addAsCode(){if(!this.editor)return;let e=this.editor,t=this.sourceLine;this.removeFromEditor();let n="\n"+this.messageJs;this.pos.column>1&&(n=n.replace(/\n/g,"\n"+"                                                                            ".substr(0,this.pos.column)));let i=new K.Selection(t+1,this.pos.column+1,t+n.split("\n").length-1,9999);e.currentModel.pushEditOperations(e.editor.getSelections(),[{range:new K.Range(t,999,t,999),text:n,forceMoveMarkers:!0}],e=>[i]);setTimeout(()=>{e.editor.setSelection(i)},1)}}class Y extends Q{constructor(e,t){super(e,"inputWidget"),this.sendTimer=null,this.lastSentValue=void 0,this.done=!1,this.nextResolver=null,this.onInputInput=e=>{this.value=e,null===this.sendTimer&&(this.sendValue(),this.sendTimer=setTimeout(()=>this.sendValue(),1e3/30))},this.onInputChange=e=>{this.value=e,this.sendValue()},this.input=t,this.contentEl.appendChild(t.el),this.value=this.input.value}onDidMount(){this.input.on("change",this.onInputChange),this.input.on("input",this.onInputInput),this.input.onMountDOM()}onDidUnmount(){this.input.onUnmountDOM(),this.input.removeListener("change",this.onInputChange),this.input.removeListener("input",this.onInputInput),this.done=!0,this.sendValue()}sendValue(){clearTimeout(this.sendTimer),this.sendTimer=null,(this.done||this.nextResolver&&this.value!==this.lastSentValue)&&(this.lastSentValue=this.value,this.nextResolver&&(this.nextResolver({value:this.lastSentValue,done:this.done}),this.nextResolver=null))}enqueueResolver(e){this.nextResolver&&(console.warn("[scripter] enqueueResolver while this.nextResolver != null"),this.nextResolver({value:this.lastSentValue,done:this.done})),this.nextResolver=e}}class ee extends s{constructor(e){super(),this.lineToZoneId=new Array,this.viewZones=new Map,this.count=0,this.onConfigChange=e=>{"uiScale"==e.key&&this.editor.editor.changeViewZones(e=>{for(let t of this.viewZones.values())t.prepareForLayout(),e.layoutZone(t.id)})},this.editor=e}clearAll(){this.lineToZoneId.length>0&&(this.clear(this.lineToZoneId),this.lineToZoneId=[],this.count=0,this.triggerEvent("update"))}clearAllUIInputs(){let e=[];for(let[t,n]of this.viewZones.entries())n instanceof Y&&e.push(t);e.length>0&&this.clear(e)}clear(e){this._clear(e)>0&&this.triggerEvent("update")}_clear(e){let t=this.count;return this.editor.editor.changeViewZones(t=>{for(let n of e)t.removeZone(this._removeZone(n))}),t>0&&0==this.count&&this.stopObservingChanges(),t-this.count}_removeZone(e){let t=this.viewZones.get(e);t&&(t.onWillRemoveFromEditor(),this.viewZones.delete(e),t.onDidRemoveFromEditor(),this.count--);let n=this.lineToZoneId.indexOf(e);return-1!=n&&delete this.lineToZoneId[n],e}updateAfterEdit(e,t,n,i,r,o){let s=n;if(o&le.LAST_LINE_INTACT){if(s--,o&le.ADD_LINE){let e=this.viewZones.get(this.lineToZoneId[n]);e&&this.editor.editor.changeViewZones(t=>{e.moveToLine(e.sourceLine+r),t.layoutZone(e.id)})}else if(o&le.REMOVE_LINE){let i=this.viewZones.get(this.lineToZoneId[e]);i&&i.sourceLineLen<t&&(s++,void 0===this.lineToZoneId[n]&&e++)}}else if(o&le.ADD_LINE){let i=this.viewZones.get(this.lineToZoneId[n]);i&&i.sourceLineLen<t&&(s--,e++)}let a=[],l=[],u=!1;for(let t in this.lineToZoneId){let n=Number(t),i=this.lineToZoneId[t];if(!u){if(n<e){a[t]=i;continue}u=!0}if(n<=s)l.push(i);else{let e=n+r;a[e]=i;let t=this.viewZones.get(i);t&&t.onMovedSourceLine(e)}}this.lineToZoneId=a,l.length>0&&this.clear(l)}get(e){return this.viewZones.get(this.lineToZoneId[e.line])||null}set(e){return this._set(e,!0)}add(e){return this._set(e,!1)}_set(e,t){let n=this.lineToZoneId[e.afterLineNumber];if(!t&&void 0!==n)return"";let i="";return this.editor.editor.changeViewZones(t=>{let r="";if(void 0!==n){const e=this.viewZones.get(n);e&&e.constructor&&e.constructor.name&&(r=e.constructor.name),t.removeZone(this._removeZone(n)),n=void 0}e.onWillAddToEditor(this.editor),i=t.addZone(e),this.viewZones.set(i,e),this.lineToZoneId[e.afterLineNumber]=i,e.onDidAddToEditor(i,r)}),this.count++,this.triggerEvent("update"),1==this.count&&this.startObservingChanges(),i}delete(e){this.clear([e])}startObservingChanges(){this.editor.startObservingChanges(),x.addListener("change",this.onConfigChange)}stopObservingChanges(){this.editor.stopObservingChanges(),x.removeListener("change",this.onConfigChange)}}function te(e,t,...n){let i=document.createElement(e);if(t)for(let e in t)"style"==e?Object.assign(i.style,t[e]):"className"==e?i.className=t[e]:i.setAttribute(e,t[e]);for(let e of n)e instanceof Node?i.appendChild(e):null!=e&&i.appendChild(document.createTextNode(String(e)));return i}function ne(e,t){e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),t()},{passive:!1,capture:!0})}var ie=new class{constructor(){this.stopCallbacks=new Set,this.isRunning=!1,this.isFadedOut=!1,this.pointerInsideAt=0,this.waitCount=0,this.waitTimer=null,this.waitSpinnerEl=null}addStopCallback(e){this.stopCallbacks.add(e),this.isRunning||(this.isRunning=!0,this.updateUI())}removeStopCallback(e){this.stopCallbacks.delete(e),0==this.stopCallbacks.size&&(this.isRunning=!1,this.updateUI())}incrWaitCount(){this.waitCount++,1==this.waitCount&&this.scheduleWaitIndicator()}decrWaitCount(){this.waitCount--,0==this.waitCount&&this.cancelWaitIndicator()}scheduleWaitIndicator(){if(null!==this.waitTimer)return console.warn("race error in toolbar/scheduleWaitIndicator");this.waitTimer=setTimeout(()=>{this.runButton.classList.toggle("hide-icon",!0)&&this.runButton.appendChild(te("div",{className:"progress-spinner on"}))},100)}cancelWaitIndicator(){this.runButton.firstChild&&(this.runButton.classList.remove("hide-icon"),this.runButton.removeChild(this.runButton.firstChild)),clearTimeout(this.waitTimer),this.waitTimer=null}updateUI(){this.runButton.classList.toggle("running",this.isRunning),this.runButton.title=this.isRunning?_?"Stop  ⇧⌘⏎":"Stop  (Ctrl+Shift+Return)":_?"Run  ⌘⏎":"Run  (Ctrl+Return)"}fadeOut(){if(!this.isFadedOut){if(lt.isVisible||this.pointerInsideAt>0&&Date.now()-this.pointerInsideAt<3e4)return;this.isFadedOut=!0,this.el.classList.add("faded")}}fadeIn(){this.isFadedOut&&(this.isFadedOut=!1,this.el.classList.remove("faded"))}init(){this.el=document.getElementById("toolbar"),this.el.addEventListener("pointerenter",()=>{this.pointerInsideAt=Date.now(),this.fadeIn()}),this.el.addEventListener("pointerleave",()=>{this.pointerInsideAt=0}),this.menuButton=this.el.querySelector(".button.menu");let e=()=>{let e=lt.isVisible?"Hide":"Show",t=_?"⌃M":"(Ctrl+M)";this.menuButton.title=`${e} menu  ${t}`};e(),this.menuButton.addEventListener("click",t=>{lt.toggle(),e(),t.preventDefault(),t.stopPropagation()},{passive:!1,capture:!0});lt.on("visibility",()=>{this.el.classList.toggle("menuVisible",lt.isVisible),this.menuButton.classList.toggle("on",lt.isVisible)}),this.el.querySelector(".button.new").addEventListener("click",e=>{ce.newScript({name:nt.nextNewScriptName()}),e.preventDefault(),e.stopPropagation()},{passive:!1,capture:!0}),this.saveButton=this.el.querySelector(".button.save"),this.saveButton.addEventListener("click",e=>{ce.saveScriptToFigma(),e.preventDefault(),e.stopPropagation()},{passive:!1,capture:!0});const t=()=>{let e=!1;ce.currentScript&&ce.currentScript.id>=0&&(e=!N.hasGUID(ce.currentScript.guid)),this.saveButton.classList.toggle("hidden",!e)};t(),N.on("change",t),this.backButton=this.el.querySelector(".button.history-back"),this.backButton.addEventListener("click",e=>{ce.historyBack(),ce.focus(),e.preventDefault(),e.stopPropagation()},{capture:!0}),this.fwdButton=this.el.querySelector(".button.history-forward"),this.fwdButton.addEventListener("click",e=>{ce.historyForward(),ce.focus(),e.preventDefault(),e.stopPropagation()},{capture:!0});const n=()=>{this.backButton.classList.toggle("unavailable",!ce.navigationHistory.canGoBack()),this.fwdButton.classList.toggle("unavailable",!ce.navigationHistory.canGoForward())};ce.navigationHistory.on("change",n),n(),this.clearButton=this.el.querySelector(".button.clear"),this.clearButton.title="Clear messages  "+(_?"⌘K":"(Ctrl+L)"),ne(this.clearButton,()=>{de(),ce.clearMessages()});const i=()=>{let e=this.clearButton.classList,t=!ce.currentScript||ce.currentScript.isROLib;e.toggle("hidden",t),t||e.toggle("unavailable",0==ce.viewZones.count&&0==ce.editorDecorationIds.length)};i(),ce.viewZones.on("update",i),ce.on("decorationchange",i),this.runButton=this.el.querySelector(".button.run"),ne(this.runButton,()=>{if(this.isRunning)for(let e of this.stopCallbacks)try{e()}catch(e){console.error("[toolbar] error in stopCallback: "+(e.stack||e))}else ce.runCurrentScript()});const r=()=>{let e=!ce.currentScript||ce.currentScript.isROLib;this.runButton.classList.toggle("hidden",e)};r(),nt.on("change",()=>{t(),i(),r()}),function(e){let t=e.querySelector(".title"),n=t.querySelector("input");const i=new class{constructor(){this.active=!1,this.restoreValue="",this.scriptID=0}begin(){k("title/editSession/begin"),this.active=!0,this.restoreValue=n.value,this.scriptID=ce.currentScript.id,n.select(),requestAnimationFrame(()=>n.select())}cancel(){k("title/editSession/cancel"),n.value=this.restoreValue,this.active=!1,ce.focus()}commit(){k("title/editSession/commit"),this._commit(),ce.focus()}end(){k("title/editSession/end"),this.active&&this._commit(),this.restoreValue=""}_commit(){this.active=!1,this.scriptID==ce.currentScript.id&&(ce.currentScript.name=n.value,ce.currentScript.save())}};n.onfocus=()=>{t.classList.add("focus"),n.readOnly||i.begin()},n.onblur=()=>{t.classList.remove("focus"),i.end()},n.addEventListener("keydown",e=>{switch(e.key){case"Escape":i.cancel();break;case"Enter":i.commit();break;default:return}e.stopPropagation(),e.preventDefault()},{capture:!0,passive:!1}),n.addEventListener("pointerdown",e=>{e.stopPropagation()},{capture:!0,passive:!1}),t.onpointerdown=e=>{i.active||n.focus()};nt.on("change",()=>{if(!ce.currentScript)return;let e=ce.currentScript.name;i.active?i.restoreValue=e:n.value=e,n.readOnly=!ce.currentScript.isUserScript})}(this.el),this.updateUI()}};class re extends s{constructor(){super(...arguments),this.stack=[],this.cursor=-1}get currentEntry(){return this.stack[this.cursor]}backCount(){return this.cursor}forwardCount(){return this.stack.length-(this.cursor+1)}canGoBack(){return this.backCount()>0}canGoForward(){return this.forwardCount()>0}goBack(){if(this.cursor<=0)throw new Error("empty history stack");return this.cursor--,this.triggerEvent("change"),this.stack[this.cursor]}goForward(){if(this.cursor==this.stack.length-1)throw new Error("at end of history stack");return this.cursor++,this.triggerEvent("change"),this.stack[this.cursor]}push(e){this.cursor++,this.stack.length>this.cursor?(this.stack[this.cursor]=e,this.stack.length=this.cursor+1):(this.stack.push(e),this.stack.length>100&&(this.stack.shift(),this.cursor--)),this.triggerEvent("change")}createSnapshot(){return{stack:this.stack.slice(),cursor:this.cursor}}restoreSnapshot(e){this.stack.length=0,this.stack.splice(0,0,...e.stack),this.cursor=Math.min(e.cursor,e.stack.length),this.triggerEvent("change")}}const oe=K.languages.typescript,se=(Symbol("Locked"),Symbol("OnUnlock"),{lineDecorationsWidth:16,lineNumbers:"off",lineNumbersMinChars:3,wordWrap:"off",wrappingIndent:"same",scrollBeyondLastLine:!1,scrollBeyondLastColumn:2,smoothScrolling:!0,useTabStops:!0,showUnused:!1,folding:!1,cursorBlinking:"smooth",renderLineHighlight:"none",renderWhitespace:"selection",renderControlCharacters:!1,multiCursorModifier:_?"ctrlCmd":"alt",dragAndDrop:!0,fontSize:12,fontFamily:"iaw-quattro-var, iaw-quattro, monospace, 'Inter var'",disableMonospaceOptimizations:!1,extraEditorClassName:"scripter-light",links:!1,codeLens:!1,lightbulb:{enabled:!1},quickSuggestions:!0,quickSuggestionsDelay:800,acceptSuggestionOnEnter:"smart",suggestSelection:"recentlyUsedByPrefix",tabCompletion:"on",hover:{enabled:!0,delay:1e3},suggest:{localityBonus:!0,shareSuggestSelections:!0,hideStatusBar:!1},scrollbar:{useShadows:!1,verticalScrollbarSize:9,verticalSliderSize:5,horizontalScrollbarSize:9,horizontalSliderSize:5},minimap:{enabled:!1}}),ae={allowNonTsExtensions:!0,target:oe.ScriptTarget.ES2019,allowUnreachableCode:!0,allowUnusedLabels:!0,removeComments:!0,module:oe.ModuleKind.ES2015,sourceMap:!0,strictNullChecks:!0,newLine:oe.NewLineKind.LineFeed,noImplicitAny:!1,suppressImplicitAnyIndexErrors:!0,jsx:oe.JsxEmit.React,jsxFactory:"DOM.createElement"};var le;!function(e){e[e.NONE=0]="NONE",e[e.ADD_LINE=1]="ADD_LINE",e[e.REMOVE_LINE=2]="REMOVE_LINE",e[e.LAST_LINE_INTACT=4]="LAST_LINE_INTACT"}(le||(le={}));const ue=Symbol("script");const ce=new class extends s{constructor(){super(),this.defaultFontSize=12,this.options=Object.assign({},se),this.viewZones=new ee(this),this._currentScriptId=-1,this._nextModelId=0,this._saveViewStateTimer=null,this._lineNumberOffset=0,this.hiddenAreas=[],this.editorDecorationIds=[],this.decorationCallbacks=new Map,this.changeObservationEnabled=!1,this.changeObservationActive=!1,this.changeObservationLastLineCount=0,this.isInitialized=!1,this.onCurrentScriptSave=e=>{if(k("script saved"),this._currentScriptId=this._currentScript.id,x.lastOpenScriptGUID=this._currentScript.guid,0==this._currentScript.modelVersion){let e=this._currentScriptId;this.editorPromise.then(()=>{e==this._currentScriptId&&this._currentModel.setValue(this._currentScript.body)})}},this._isSwitchingModel=!1,this.runDebounceTimer=null,this.currentEvalPromise=null,this._changeObservationRefCount=0,this._semdiag=new Map,this._measureEl=null,this.navigationHistory=new re,this.historyLoadVersion=0,this.editorPromise=new Promise(e=>{this._editorPromiseResolve=e})}fmtLineNumber(e){return(e-this._lineNumberOffset).toString(10)}get currentModel(){return this._currentModel}get currentScript(){return this._currentScript}get currentScriptId(){return this._currentScript?this._currentScript.id:-1}getModel(e){if(this._currentScript===e)return this._currentModel;let t=this.modelURIForScript(e),n=K.editor.getModel(t);if(n)return k("editor/getModel: using exising model for "+t),n;k("editor/getModel: creating new model for "+t),n=K.editor.createModel(e.body,"typescript",t),n.updateOptions({tabSize:x.tabSize,indentSize:x.tabSize,insertSpaces:!x.useTabs,trimAutoWhitespace:!0}),n[ue]=e;let i=e=>{this.disposeModel(e),e.removeListener("delete",i)};return e.on("delete",i),this.initEditorModel(n),n}disposeModel(e){let t=this.modelURIForScript(e),n=K.editor.getModel(t);n?this._currentModel!==n?(k("editor/disposeModel "+e),n.dispose()):console.warn("editor/disposeModel attempting to dispose active model (ignoring)"):console.warn(`editor/disposeModel ${e}: no active model`)}modelURIForScript(e){let t=e.guid;return t.endsWith(".d.ts")||(t="scripter."+t+".tsx"),K.Uri.file(t)}setCurrentScriptFromUserAction(e){this.setCurrentScript(e),this.historyPush()}setCurrentScript(e){let t=this.getModel(e);if(t===this._currentModel)return t;if(e.isLoaded||console.warn("editor/setCurrentScript with not-yet-loaded script",e),this._currentScript&&this._currentScript.removeListener("save",this.onCurrentScriptSave),this._currentModel=t,this.editor){this.clearAllMetaInfo(),this.setModel(t),this.updateOptions({readOnly:e.isROLib});let n=()=>{this.editor.layout(),this.editor.focus()};n(),requestAnimationFrame(()=>{n(),this.restoreViewState(),setTimeout(n,1),setTimeout(n,100),this.updateHiddenAreas()}),this.updateHiddenAreas()}return this._currentScript=e,this._currentScriptId=e.id,this._currentScript.on("save",this.onCurrentScriptSave),x.lastOpenScriptGUID=e.guid,t}setModel(e){this.editor.getModel()!==e&&this.editor.setModel(e),this._currentModel=e,this.editor&&this.updateHiddenAreas()}async switchToScript(e){await this.editorPromise;return this.stopCurrentScript(),this.setCurrentScriptFromUserAction(e),this._currentScript}async newScript(e,t=""){let n=Je.create(e,t);return this.switchToScript(n)}async openScript(e){return this._currentScript.guid==e.guid||this._currentScriptId==e.id?(this.editor.focus(),this._currentScript):(k("open script "+e),this._currentScriptId=e.id,this.stopCurrentScript(),this._currentScriptId!=e.id?null:this.switchToScript(e))}async openScriptByID(e){if(this._currentScript&&this._currentScript.id==e)return this.editor.focus(),this._currentScript;let t=await nt.getScript(e);return t?this.openScript(t):(console.error(`openScriptByID(${e}) failed (not found)`),null)}async openScriptByGUID(e){if(!e)return null;if("string"!=typeof e)throw new Error("invalid guid");if(this._currentScript&&this._currentScript.guid==e)return this.editor.focus(),this._currentScript;let t=await nt.getScriptByGUID(e);return t?this.openScript(t):null}async saveScriptToFigma(){this.currentScript.saveToFigma({createIfMissing:!0}),ce.focus(),requestAnimationFrame(()=>ce.focus())}async loadScriptFromFigma(e){let t=e.script;k("editor.loadScriptFromFigma",t.guid,t.name);let n=await this.openScriptByGUID(t.guid);n?(k("editor.loadScriptFromFigma found local version of script"),n.body!=t.body&&n.body.trim()!=t.body.trim()&&(""==n.body.trim()||confirm("Replace script?\nThe script in the Figma file differs from the script stored locally. Would you like to update your local version with the script?"))&&(n.body=t.body)):(k("editor.loadScriptFromFigma no local version; creating new"),n=await this.newScript({guid:t.guid,name:t.name},t.body))}restoreViewState(){let e=this._currentScript.editorViewState;e&&this.editor.restoreViewState(e)}saveViewState(){clearTimeout(this._saveViewStateTimer),this._saveViewStateTimer=null,this._currentScript.editorViewState=this.editor.saveViewState()}setNeedsSaveViewState(){null===this._saveViewStateTimer&&(this._saveViewStateTimer=setTimeout(()=>this.saveViewState(),200))}getEffectiveOptions(){let e={lineNumbers:x.showLineNumbers?this.fmtLineNumber.bind(this):"off",wordWrap:x.wordWrap?"on":"off",quickSuggestions:x.quickSuggestions,quickSuggestionsDelay:x.quickSuggestionsDelay,renderWhitespace:x.showWhitespace?"all":"selection",renderControlCharacters:x.showWhitespace,renderIndentGuides:x.indentGuides,fontSize:12*x.uiScale};return e.minimap=Object.assign(Object.assign({},this.options.minimap),{enabled:x.minimap}),e.hover=Object.assign(Object.assign({},this.options.hover),{enabled:x.hoverCards}),x.monospaceFont?(e.fontFamily="jbmono, monospace, 'Inter var'",e.disableMonospaceOptimizations=!1,document.body.classList.toggle("font-ligatures",x.fontLigatures)):(e.fontFamily="iaw-quattro-var, iaw-quattro, monospace, 'Inter var'",e.disableMonospaceOptimizations=!0,document.body.classList.add("font-ligatures")),e}updateOptionsFromConfig(){this.updateOptions(this.getEffectiveOptions()),this.currentModel.updateOptions({tabSize:x.tabSize,indentSize:x.tabSize,insertSpaces:!x.useTabs})}updateOptions(e){let t=!1;for(let n in e){let i=e[n];"extraEditorClassName"==n&&(i=("scripter-light "+i).trim()),this.options[n]!==i&&(this.options[n]=i,t=!0)}return t&&this.editor&&this.editor.updateOptions(this.options),t}focus(){this.editor.focus()}async runCurrentScript(){if(null!==this.runDebounceTimer)return;if(this.runDebounceTimer=setTimeout(()=>{this.runDebounceTimer=null},100),this._currentScript.isROLib)return;this.stopCurrentScript(),this.clearAllMetaInfo();let e,t=()=>{this.stopCurrentScript()};ie.addStopCallback(t),ie.incrWaitCount();try{e=await this.compileCurrentScript()}finally{ie.decrWaitCount()}if(e.code.length>0){try{this.currentEvalPromise=function(e,t){e=e.replace(/\n\/\/#\s*sourceMappingURL=.+/,"");let n=(be++).toString(36),i=new Promise(async(i,r)=>{we.set(n,{resolve:i,reject:r,sourceMapJSON:t}),k(`send eval request ${n}\n${e}`),ve.send({type:"eval",id:n,js:e})});return i.id=n,i.cancel=e=>function(e,t){let n=_e(e);if(!n)return!1;ve.send({type:"eval-cancel",id:e}),t?n.reject(t):n.resolve(void 0);return!0}(n,e),i}(e.code,e.sourceMap),await this.currentEvalPromise}catch(e){}this.currentEvalPromise=null,this.viewZones.clearAllUIInputs()}ie.removeStopCallback(t),clearTimeout(this.runDebounceTimer),this.runDebounceTimer=null,this.editor.focus()}isScriptRunning(){return!!this.currentEvalPromise}stopCurrentScript(){k("stopCurrentScript"),this.currentEvalPromise&&this.currentEvalPromise.cancel(),this.viewZones.clearAllUIInputs()}async compileCurrentScript(){let e,t=this.currentModel;try{let n=await K.languages.typescript.getTypeScriptWorker(),i=await n(t.uri);e=await i.getEmitOutput(t.uri.toString())}finally{}let n={code:"",sourceMap:""};if(e.outputFiles&&e.outputFiles.length)for(let t of e.outputFiles)/\.map$/.test(t.name)?n.sourceMap=t.text:n.code=t.text;return n}clearAllMetaInfo(){de(),this.clearAllDecorations(),this.viewZones.clearAll(),this.clearHoverCards()}clearMessages(){this.clearAllDecorations(),this.viewZones.clearAll(),this.editor.focus()}clearHoverCards(){if(this.options.hover.enabled){let e=Object.assign(Object.assign({},this.options),{hover:{enabled:!1}});this.editor.updateOptions(e),requestAnimationFrame(()=>this.editor.updateOptions(this.options))}}clearAllDecorations(){this.decorationCallbacks.clear(),this.editor.deltaDecorations(this.editorDecorationIds,[]),this.editorDecorationIds=[],this.triggerEvent("decorationchange")}removeDecorations(e){let t=new Set(e);this.editorDecorationIds=this.editorDecorationIds.filter(e=>!t.has(e));for(let t of e)this.decorationCallbacks.delete(t);this.editor.deltaDecorations(e,[]),this.triggerEvent("decorationchange")}addDecorations(e,t){let n=this.editor.deltaDecorations([],e);if(this.editorDecorationIds.length>0?this.editorDecorationIds=this.editorDecorationIds.concat(n):(this.editorDecorationIds=n,this.startObservingChanges()),t)for(let e of n)this.decorationCallbacks.set(e,t);this.triggerEvent("decorationchange")}decorateError(e,t){setTimeout(()=>{this.editor.revealLineInCenterIfOutsideViewport(e.line,K.editor.ScrollType.Smooth)},1),this.addDecorations([{range:new K.Range(e.line,e.column+1,e.line,e.column+999),options:{className:"runtimeErrorDecoration",stickiness:K.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,hoverMessage:{value:"**Runtime error:** `"+t+"`",isTrusted:!0},overviewRuler:{position:K.editor.OverviewRulerLane.Full,color:"rgba(255,200,0,0.5)"}}}],e=>{this.removeDecorations([e.id]),de()})}stopObservingChanges(){if(0==this._changeObservationRefCount)throw new Error("unbalanced call to stopObservingChanges");this._changeObservationRefCount--,0==this._changeObservationRefCount&&(this.changeObservationActive=!1,this.changeObservationLastLineCount=0)}startObservingChanges(){this._changeObservationRefCount++,this._changeObservationRefCount>1||(this.changeObservationActive||(this.changeObservationActive=!0,this.changeObservationLastLineCount=this.currentModel.getLineCount()),this.changeObservationEnabled||(this.changeObservationEnabled=!0,this.editor.onDidChangeModelContent(e=>{if(this.updateHiddenAreas(),e.isFlush)return void this.clearAllMetaInfo();if(!this.changeObservationActive)return;let t=this.currentModel.getLineCount(),n=t-this.changeObservationLastLineCount;this.changeObservationLastLineCount=t;let i=1/0,r=0,o=0,s=999999;for(let t of e.changes)t.range.startLineNumber<i&&(i=t.range.startLineNumber,r=t.range.startColumn),t.range.endLineNumber>o&&(o=t.range.endLineNumber,s=t.range.endColumn);let a=le.NONE;if(1==e.changes.length){let t=e.changes[0];t.range;if(""==t.text)1==s&&(a|=le.REMOVE_LINE,a|=le.LAST_LINE_INTACT,o==i&&console.warn("[scripter] unexpected condition: endLine == startLine"));else{let e=t.text.charCodeAt(t.text.length-1);10!=e&&13!=e||(a|=le.ADD_LINE,1==s&&(a|=le.LAST_LINE_INTACT))}}this.viewZones.updateAfterEdit(i,r,o,s,n,a);for(let t of e.changes){let e={startLineNumber:t.range.startLineNumber,startColumn:0,endLineNumber:t.range.endLineNumber,endColumn:99999},n=this.currentModel.getDecorationsInRange(e);for(let e of n){let t=this.decorationCallbacks.get(e.id);t&&t(e)}}})))}async getSemanticDiagnostics(e){let t=this._semdiag.get(e);if(!t)try{let n=await K.languages.typescript.getTypeScriptWorker(),i=await n(e.uri);t=await i.getSemanticDiagnostics(e.uri.toString()),this._semdiag.set(e,t)}finally{}return t}async invalidateDiagnostics(e){this._semdiag.delete(e)}measureHTMLElement(e){let t=this._measureEl;t||(t=document.createElement("div"),t.style.position="absolute",t.style.visibility="hidden",t.style.pointerEvents="none",document.getElementById("editor").appendChild(t),this._measureEl=t),t.children.length>0&&(t.innerText="");let n=e.style.position;e.style.position="absolute",t.appendChild(e);let i={width:e.clientWidth,height:e.clientHeight};return t.removeChild(e),e.style.position=n,i}async initHistory(){const e=await w.get("history","navigationHistory");e&&(k("editor restoring navigationHistory",e),this.navigationHistory.restoreSnapshot(e));let t=null,n=()=>{clearTimeout(t),t=null;const e=this.navigationHistory.createSnapshot();w.put("history",e,"navigationHistory").then(()=>{k("editor saved navigationHistory")})};wt.on("close",n),this.navigationHistory.on("change",()=>{null===t&&(t=setTimeout(n,300))})}historySwitchToScript(e){let t=nt.scriptsByGUID.get(e);if(!t)return!1;let n=++this.historyLoadVersion;return t.whenLoaded(()=>{this.historyLoadVersion==n&&this.setCurrentScript(t)}),!0}historyBack(){if(this.navigationHistory.canGoBack())for(;;){let e=this.navigationHistory.goBack();if(k("editor/historyBack; this.navigationHistory.goBack() =>",e),!e)break;if(this.historySwitchToScript(e.scriptGUID))break}}historyForward(){if(this.navigationHistory.canGoForward())for(;;){let e=this.navigationHistory.goForward();if(k("editor/historyForward; this.navigationHistory.goForward() =>",e),!e)break;if(this.historySwitchToScript(e.scriptGUID))break}}historyPush(){let e=this.navigationHistory.currentEntry;e&&e.scriptGUID==this._currentScript.guid?k("editor/historyPush ignore (script already current)"):(e={scriptGUID:this._currentScript.guid},k("editor/historyPush =>",e),this.navigationHistory.push(e))}async monacoOpenCodeEditor(e,t){if(t!==this.editor)return k("monacoOpenCodeEditor got unexpected editor object (!== this.editor)",t),null;if(!e.resource)return null;let n=K.editor.getModel(e.resource);if(!n)return null;let i=n[ue];if(!i)return null;this.setCurrentScriptFromUserAction(i);let r=e.options&&e.options.selection||null;if(r){let e=()=>{if("number"==typeof r.endLineNumber&&"number"==typeof r.endColumn)t.setSelection(r),t.revealRangeInCenter(r,K.editor.ScrollType.Immediate);else{let e={lineNumber:r.startLineNumber,column:r.startColumn};t.setPosition(e),t.revealPositionInCenter(e,K.editor.ScrollType.Immediate)}};e(),setTimeout(e,1)}return t}async init(){this.initTypescript();const e=this.initHistory();let t=await async function(){let e=null,t=x.lastOpenScriptGUID;try{""!=t?e=await nt.getScriptByGUID(t):0!=x.lastOpenScript&&(e=await nt.getScript(x.lastOpenScript))}catch(e){console.error("failed to reopen last open script:",e.stack)}if(!e&&nt.scripts.length){let t=0;for(let e of nt.scripts)if(0!=e.id){t=e.id;break}0!=t&&(e=await nt.getScript(t))}e||(e=nt.defaultSampleScript);return e}(),n=this.setCurrentScript(t);e.then(()=>this.historyPush()),this.updateOptionsFromConfig(),__scripterMonaco.patchEditorService(this.monacoOpenCodeEditor.bind(this)),__scripterMonaco.patchEditorModelResolverService((e,t)=>K.editor.getModel(t)),__scripterMonaco.patchUriLabelService((e,t)=>{let n=K.editor.getModel(e);if(n){let e=n[ue];if(e)return e.name}return"file"===e.scheme?e.fsPath:e.path}),__scripterMonaco.patchBasenameOrAuthority(e=>{if(e&&-1!=e.path.indexOf("scripter.")){let t=K.editor.getModel(e)[ue];if(t)return t.name}}),this.editor=K.editor.create(document.getElementById("editor"),Object.assign(Object.assign({model:n,theme:"scripter-light"},this.options),{readOnly:t.isROLib})),this.updateHiddenAreas(),this.initEditorActions(),this.restoreViewState(),this.initEditorModel(n);const i=()=>{K.editor.remeasureFonts(),this.editor.layout(),this.editor.focus()};i(),setTimeout(i,100),setTimeout(i,500),this.initEditorEventHandlers(),await nt.libLoadPromise;for(let e of nt.referenceScripts)this.getModel(e);x.on("change",()=>{this.updateOptionsFromConfig()}),lt.menuUIMountPromise.then(()=>{lt.scrollToActiveItem(),requestAnimationFrame(()=>{lt.scrollToActiveItem()})}),this.isInitialized=!0,this.triggerEvent("init"),this.triggerEvent("modelchange"),this._editorPromiseResolve(this.editor),this._editorPromiseResolve=null}updateHiddenAreas(){let e=[];if(this._lineNumberOffset=0,!this._currentScript.isROLib){let t=this._currentModel.getLineCount();e=[new K.Range(1,1,1,1),new K.Range(t,1,t,1)],this._lineNumberOffset=1}this.hiddenAreas=e,this.editor.setHiddenAreas(e),this.adjustSelection()}ensureTrailingNewline(){const e=this.currentModel.getLineCount()-1,t=this.currentModel.getLineContent(e);if(t.trim().length>0){console.log({lastVisibleLineContent:t});const n=this.editor.saveViewState();this.currentModel.applyEdits([{range:new K.Range(e,1/0,e,1/0),text:"\n",forceMoveMarkers:!1}]),this.editor.restoreViewState(n)}}initEditorActions(){this.editor.addAction({id:"scripter-run-script",label:"Run Script",keybindings:[K.KeyMod.CtrlCmd|K.KeyCode.Enter],contextMenuGroupId:"navigation",contextMenuOrder:0,run:e=>(this.runCurrentScript(),null)})}adjustSelection(){const e=this.hiddenAreas;if(0==e.length||!this.editor)return;let t=this.editor.getSelections();if(!t||0==t.length)return;let[n]=e,i=!1,r=this._currentModel.getLineCount();for(let e=0;e<t.length;e++){let o=t[e];o.startLineNumber<=n.endLineNumber&&(t[e]=o=o.setStartPosition(n.endLineNumber+1,1),i=!0),o.endLineNumber>=r&&(t[e]=o=o.setEndPosition(r-1,1),i=!0)}i&&(k("patch selection (set DEBUG_HIDDEN_AREAS=true to debug)",t),this.editor.setSelections(t))}initEditorEventHandlers(){const e=this.editor;let t=!1,n=!1;e.onDidChangeModelContent(t=>{if(!n&&!this._isSwitchingModel){const t=this._currentScript;if(t.isUserScript)t.updateBody(this._currentModel.getValue(),this._currentModel.getAlternativeVersionId());else{let i=t.duplicate({name:"Copy of "+t.name});i.updateBodyNoDirty(this._currentModel.getValue(),this._currentModel.getAlternativeVersionId()),n=!0,e.trigger("","undo",{}),n=!1,this.setCurrentScriptFromUserAction(i)}}t.isFlush&&this.updateHiddenAreas()}),e.onDidChangeCursorSelection(e=>{this.adjustSelection(),t||n||this.setNeedsSaveViewState()}),e.onDidChangeModel(e=>{e.newModelUrl&&this.triggerEvent("modelchange")});const i={[K.KeyCode.Alt]:1,[K.KeyCode.Shift]:1,[K.KeyCode.Ctrl]:1,[K.KeyCode.Meta]:1,[K.KeyCode.ContextMenu]:1};e.onKeyDown(e=>{e.keyCode in i||ie.fadeOut()}),e.addCommand(K.KeyMod.CtrlCmd|K.KeyMod.Shift|K.KeyCode.KEY_P,t=>{e.trigger("","editor.action.quickCommand",{})}),e.addCommand(K.KeyCode.F1,t=>{e.trigger("","editor.action.quickCommand",{})}),e.addCommand(K.KeyMod.CtrlCmd|K.KeyCode.KEY_P,t=>{e.trigger("","editor.action.quickOutline",{})}),e.addCommand(K.KeyCode.F12,t=>{e.trigger("","editor.action.revealDefinition",{})}),e.addCommand(K.KeyCode.F11,t=>{e.trigger("","editor.action.peekDefinition",{})}),e.addCommand(K.KeyMod.CtrlCmd|K.KeyMod.Alt|K.KeyCode.US_SLASH,t=>{e.trigger("","editor.action.blockComment",{})}),w.on("remotechange",async i=>{if("update"==i.type)if("scriptViewState"==i.store&&i.key==this._currentScript.id){let n=await this._currentScript.reloadEditorViewState();t=!0,e.restoreViewState(n),t=!1}else"scriptBody"==i.store&&i.key==this._currentScript.id?(await this._currentScript.load(),n=!0,t=!0,this._currentModel.setValue(this._currentScript.body),e.restoreViewState(this._currentScript.editorViewState),n=!1,t=!1):"scripts"==i.store&&nt.refresh()}),window.addEventListener("resize",()=>{this.editor.layout(),setTimeout(()=>this.editor.layout(),100)})}async initTypescript(){let e=K.languages.typescript.typescriptDefaults;e.setMaximumWorkerIdleTime(864e5),e.setCompilerOptions(ae),e.setEagerModelSync(!0)}initEditorModel(e){let t=[],n=!1;e.onWillDispose(()=>{e.onDidChangeDecorations(()=>{}),e.onWillDispose(()=>{}),ce.invalidateDiagnostics(e)}),e.onDidChangeDecorations(async i=>{if(!n){n=!0;try{let i=K.editor.getModelMarkers({owner:"typescript"});if(0==i.length||i===t)return;if(i.length==t.length){let e=!1;for(let n=0;n<i.length;n++)if(i[n]!==t[n]){e=!0;break}if(!e)return}t=i;const r=/['"]?return['"]? statement can only be used within a function body/i;let o=i.length,s=null,a=0;for(let t=0;t<i.length;a++){let n=i[t];if(r.test(n.message))i.splice(t,1);else{if(-1!=n.message.indexOf("'await'")){let r;null===s&&(s=await ce.getSemanticDiagnostics(e));for(let e of s)if(e.messageText==n.message){r=e;break}if(r&&1308==r.code&&!r.relatedInformation){i.splice(t,1);continue}}else if(-1!=n.message.indexOf("'for-await-of'")){i.splice(t,1);continue}t++}}o!=i.length&&K.editor.setModelMarkers(e,"typescript",i)}finally{n=!1}}})}};function de(){document.body.classList.remove("showMessage"),ce.editor.layout(),ce.focus()}const{SourceMapConsumer:pe,BasicSourceMapConsumer:he,IndexedSourceMapConsumer:fe,SourceMapGenerator:me,SourceNode:ge}=function(e,t){var i,r;return i="undefined"!=typeof self?self:this,r=function(e,t){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};const n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function r(e){const t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){let t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=r,t.urlGenerate=o;const s=function(e){const n=[];return function(e){for(let t=0;t<n.length;t++)if(n[t].input===e){const e=n[0];return n[0]=n[t],n[t]=e,n[0].result}const i=function(e){let n=e;const i=r(e);if(i){if(!i.path)return e;n=i.path}const s=t.isAbsolute(n),a=[];let l=0,u=0;for(;;){if(l=u,-1===(u=n.indexOf("/",l))){a.push(n.slice(l));break}for(a.push(n.slice(l,u));u<n.length&&"/"===n[u];)u++}let c=0;for(u=a.length-1;u>=0;u--){const e=a[u];"."===e?a.splice(u,1):".."===e?c++:c>0&&(""===e?(a.splice(u+1,c),c=0):(a.splice(u,2),c--))}return""===(n=a.join("/"))&&(n=s?"/":"."),i?(i.path=n,o(i)):n}(e);return n.unshift({input:e,result:i}),n.length>32&&n.pop(),i}}();function a(e,t){""===e&&(e="."),""===t&&(t=".");const n=r(t),a=r(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(i))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);const l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,o(a)):l}t.normalize=s,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");let n=0;for(;0!==t.indexOf(e+"/");){const i=e.lastIndexOf("/");if(i<0)return t;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};const l=!("__proto__"in Object.create(null));function u(e){return e}function c(e){if(!e)return!1;const t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(let n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function d(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?u:function(e){return c(e)?"$"+e:e},t.fromSetString=l?u:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){let i=d(e.source,t.source);return 0!==i||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)||n||0!=(i=e.generatedColumn-t.generatedColumn)||0!=(i=e.generatedLine-t.generatedLine)?i:d(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){let i=e.generatedLine-t.generatedLine;return 0!==i||0!=(i=e.generatedColumn-t.generatedColumn)||n||0!==(i=d(e.source,t.source))||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)?i:d(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){let n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||0!==(n=d(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:d(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){const e=r(n);if(!e)throw new Error("sourceMapURL could not be parsed");if(e.path){const t=e.path.lastIndexOf("/");t>=0&&(e.path=e.path.substring(0,t+1))}t=a(o(e),t)}return s(t)}},function(e,t,n){const i=n(2),r=n(0),o=n(3).ArraySet,s=n(7).MappingList;class a{constructor(e){e||(e={}),this._file=r.getArg(e,"file",null),this._sourceRoot=r.getArg(e,"sourceRoot",null),this._skipValidation=r.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}static fromSourceMap(e){const t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){const i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=r.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),n.addMapping(i)})),e.sources.forEach((function(i){let o=i;null!==t&&(o=r.relative(t,i)),n._sources.has(o)||n._sources.add(o);const s=e.sourceContentFor(i);null!=s&&n.setSourceContent(i,s)})),n}addMapping(e){const t=r.getArg(e,"generated"),n=r.getArg(e,"original",null);let i=r.getArg(e,"source",null),o=r.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,i,o),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:o})}setSourceContent(e,t){let n=e;null!=this._sourceRoot&&(n=r.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(e,t,n){let i=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}const s=this._sourceRoot;null!=s&&(i=r.relative(s,i));const a=this._mappings.toArray().length>0?new o:this._sources,l=new o;this._mappings.unsortedForEach((function(t){if(t.source===i&&null!=t.originalLine){const i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=n&&(t.source=r.join(n,t.source)),null!=s&&(t.source=r.relative(s,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}const o=t.source;null==o||a.has(o)||a.add(o);const u=t.name;null==u||l.has(u)||l.add(u)}),this),this._sources=a,this._names=l,e.sources.forEach((function(t){const i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=r.join(n,t)),null!=s&&(t=r.relative(s,t)),this.setSourceContent(t,i))}),this)}_validateMapping(e,t,n,i){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!n&&!i);else if(!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:i}))}_serializeMappings(){let e,t,n,o,s=0,a=1,l=0,u=0,c=0,d=0,p="";const h=this._mappings.toArray();for(let f=0,m=h.length;f<m;f++){if(e="",(t=h[f]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!r.compareByGeneratedPositionsInflated(t,h[f-1]))continue;e+=","}e+=i.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=i.encode(o-d),d=o,e+=i.encode(t.originalLine-1-u),u=t.originalLine-1,e+=i.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=i.encode(n-c),c=n)),p+=e}return p}_generateSourcesContent(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=r.relative(t,e));const n=r.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)}toJSON(){const e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}}a.prototype._version=3,t.SourceMapGenerator=a},function(e,t,n){const i=n(6);t.encode=function(e){let t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=i.encode(t)}while(r>0);return n}},function(e,t){class n{constructor(){this._array=[],this._set=new Map}static fromArray(e,t){const i=new n;for(let n=0,r=e.length;n<r;n++)i.add(e[n],t);return i}size(){return this._set.size}add(e,t){const n=this.has(e),i=this._array.length;n&&!t||this._array.push(e),n||this._set.set(e,i)}has(e){return this._set.has(e)}indexOf(e){const t=this._set.get(e);if(t>=0)return t;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}}t.ArraySet=n},function(e,t,n){(function(t){if("function"==typeof fetch){let t=null;e.exports=function(){if("string"!=typeof t)throw new Error("You must provide the URL of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer");return fetch(t).then(e=>e.arrayBuffer())},e.exports.initialize=e=>t=e}else{const i=n(10),r=n(11);e.exports=function(){return new Promise((e,n)=>{const o=r.join(t,"mappings.wasm");i.readFile(o,null,(t,i)=>{t?n(t):e(i.buffer)})})},e.exports.initialize=e=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}}}).call(t,"/")},function(e,t,n){t.SourceMapGenerator=n(1).SourceMapGenerator,t.SourceMapConsumer=n(8).SourceMapConsumer,t.SourceNode=n(13).SourceNode},function(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)}},function(e,t,n){const i=n(0);t.MappingList=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,t){this._array.forEach(e,t)}add(e){!function(e,t){const n=e.generatedLine,r=t.generatedLine,o=e.generatedColumn,s=t.generatedColumn;return r>n||r==n&&s>=o||i.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}},function(e,t,n){const i=n(0),r=n(9),o=n(3).ArraySet,s=(n(2),n(4)),a=n(12),l=Symbol("smcInternal");class u{constructor(e,t){return e==l?Promise.resolve(this):function(e,t){let n=e;"string"==typeof e&&(n=i.parseSourceMapInput(e));const r=null!=n.sections?new d(n,t):new c(n,t);return Promise.resolve(r)}(e,t)}static initialize(e){s.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,t){return function(e,t){return c.fromSourceMap(e,t)}(e,t)}static with(e,t,n){let i=null;return new u(e,t).then(e=>(i=e,n(e))).then(e=>(i&&i.destroy(),e),e=>{throw i&&i.destroy(),e})}_parseMappings(e,t){throw new Error("Subclasses must implement _parseMappings")}eachMapping(e,t,n){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}u.prototype._version=3,u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,t.SourceMapConsumer=u;class c extends u{constructor(e,t){return super(l).then(n=>{let r=e;"string"==typeof e&&(r=i.parseSourceMapInput(e));const s=i.getArg(r,"version");let l=i.getArg(r,"sources");const u=i.getArg(r,"names",[]);let c=i.getArg(r,"sourceRoot",null);const d=i.getArg(r,"sourcesContent",null),p=i.getArg(r,"mappings"),h=i.getArg(r,"file",null);if(s!=n._version)throw new Error("Unsupported version: "+s);return c&&(c=i.normalize(c)),l=l.map(String).map(i.normalize).map((function(e){return c&&i.isAbsolute(c)&&i.isAbsolute(e)?i.relative(c,e):e})),n._names=o.fromArray(u.map(String),!0),n._sources=o.fromArray(l,!0),n._absoluteSources=n._sources.toArray().map((function(e){return i.computeSourceURL(c,e,t)})),n.sourceRoot=c,n.sourcesContent=d,n._mappings=p,n._sourceMapURL=t,n.file=h,n._computedColumnSpans=!1,n._mappingsPtr=0,n._wasm=null,a().then(e=>(n._wasm=e,n))})}_findSourceIndex(e){let t=e;if(null!=this.sourceRoot&&(t=i.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);for(let t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1}static fromSourceMap(e,t){return new c(e.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(e,t){const n=e.length,i=this._wasm.exports.allocate_mappings(n),r=new Uint8Array(this._wasm.exports.memory.buffer,i,n);for(let t=0;t<n;t++)r[t]=e.charCodeAt(t);const o=this._wasm.exports.parse_mappings(i);if(!o){const e=this._wasm.exports.get_last_error();let t=`Error parsing mappings (code ${e}): `;switch(e){case 1:t+="the mappings contained a negative line, column, source index, or name index";break;case 2:t+="the mappings contained a number larger than 2**32";break;case 3:t+="reached EOF while in the middle of parsing a VLQ";break;case 4:t+="invalid base 64 character while parsing a VLQ";break;default:t+="unknown error code"}throw new Error(t)}this._mappingsPtr=o}eachMapping(e,t,n){const r=t||null,o=n||u.GENERATED_ORDER,s=this.sourceRoot;this._wasm.withMappingCallback(t=>{null!==t.source&&(t.source=this._sources.at(t.source),t.source=i.computeSourceURL(s,t.source,this._sourceMapURL),null!==t.name&&(t.name=this._names.at(t.name))),e.call(r,t)},()=>{switch(o){case u.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case u.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let t=i.getArg(e,"source");const n=i.getArg(e,"line"),r=e.column||0;if((t=this._findSourceIndex(t))<0)return[];if(n<1)throw new Error("Line numbers must be >= 1");if(r<0)throw new Error("Column numbers must be >= 0");const o=[];return this._wasm.withMappingCallback(e=>{let t=e.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),o.push({line:e.generatedLine,column:e.generatedColumn,lastColumn:t})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),t,n-1,"column"in e,r)}),o}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){const t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")};if(t.generatedLine<1)throw new Error("Line numbers must be >= 1");if(t.generatedColumn<0)throw new Error("Column numbers must be >= 0");let n,r=i.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==r&&(r=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>n=e,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),t.generatedLine-1,t.generatedColumn,r)}),n&&n.generatedLine===t.generatedLine){let e=i.getArg(n,"source",null);null!==e&&(e=this._sources.at(e),e=i.computeSourceURL(this.sourceRoot,e,this._sourceMapURL));let t=i.getArg(n,"name",null);return null!==t&&(t=this._names.at(t)),{source:e,line:i.getArg(n,"originalLine",null),column:i.getArg(n,"originalColumn",null),name:t}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))}sourceContentFor(e,t){if(!this.sourcesContent)return null;const n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];let r,o=e;if(null!=this.sourceRoot&&(o=i.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=i.urlParse(this.sourceRoot))){const e=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')}generatedPositionFor(e){let t=i.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};const n={source:t,originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")};if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");let r,o=i.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==o&&(o=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>r=e,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),n.source,n.originalLine-1,n.originalColumn,o)}),r&&r.source===n.source){let e=r.lastGeneratedColumn;return this._computedColumnSpans&&null===e&&(e=1/0),{line:i.getArg(r,"generatedLine",null),column:i.getArg(r,"generatedColumn",null),lastColumn:e}}return{line:null,column:null,lastColumn:null}}}c.prototype.consumer=u,t.BasicSourceMapConsumer=c;class d extends u{constructor(e,t){return super(l).then(n=>{let r=e;"string"==typeof e&&(r=i.parseSourceMapInput(e));const s=i.getArg(r,"version"),a=i.getArg(r,"sections");if(s!=n._version)throw new Error("Unsupported version: "+s);n._sources=new o,n._names=new o,n.__generatedMappings=null,n.__originalMappings=null,n.__generatedMappingsUnsorted=null,n.__originalMappingsUnsorted=null;let l={line:-1,column:0};return Promise.all(a.map(e=>{if(e.url)throw new Error("Support for url field in sections not implemented.");const n=i.getArg(e,"offset"),r=i.getArg(n,"line"),o=i.getArg(n,"column");if(r<l.line||r===l.line&&o<l.column)throw new Error("Section offsets must be ordered and non-overlapping.");return l=n,new u(i.getArg(e,"map"),t).then(e=>({generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:e}))})).then(e=>(n._sections=e,n))})}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const e=this._generatedMappingsUnsorted;e.sort(i.compareByGeneratedPositionsDeflated),this.__generatedMappings=e}_sortOriginalMappings(){const e=this._originalMappingsUnsorted;e.sort(i.compareByOriginalPositions),this.__originalMappings=e}get sources(){const e=[];for(let t=0;t<this._sections.length;t++)for(let n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}originalPositionFor(e){const t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=r.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))}sourceContentFor(e,t){for(let t=0;t<this._sections.length;t++){const n=this._sections[t].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){for(let t=0;t<this._sections.length;t++){const n=this._sections[t];if(-1===n.consumer._findSourceIndex(i.getArg(e,"source")))continue;const r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}return{line:null,column:null}}_parseMappings(e,t){const n=this.__generatedMappingsUnsorted=[],r=this.__originalMappingsUnsorted=[];for(let e=0;e<this._sections.length;e++){const t=this._sections[e],o=[];t.consumer.eachMapping(e=>o.push(e));for(let e=0;e<o.length;e++){const s=o[e];let a=i.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(a),a=this._sources.indexOf(a);let l=null;s.name&&(this._names.add(s.name),l=this._names.indexOf(s.name));const u={source:a,generatedLine:s.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(t.generatedOffset.generatedLine===s.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};n.push(u),"number"==typeof u.originalLine&&r.push(u)}}}eachMapping(e,t,n){const r=t||null;let o;switch(n||u.GENERATED_ORDER){case u.GENERATED_ORDER:o=this._generatedMappings;break;case u.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const s=this.sourceRoot;o.map((function(e){let t=null;return null!==e.source&&(t=this._sources.at(e.source),t=i.computeSourceURL(s,t,this._sourceMapURL)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,r)}_findMapping(e,t,n,i,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return r.search(e,t,o,s)}allGeneratedPositionsFor(e){const t=i.getArg(e,"line"),n={source:i.getArg(e,"source"),originalLine:t,originalColumn:i.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");const o=[];let s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(s>=0){let n=this._originalMappings[s];if(void 0===e.column){const e=n.originalLine;for(;n&&n.originalLine===e;){let e=n.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),o.push({line:i.getArg(n,"generatedLine",null),column:i.getArg(n,"generatedColumn",null),lastColumn:e}),n=this._originalMappings[++s]}}else{const e=n.originalColumn;for(;n&&n.originalLine===t&&n.originalColumn==e;){let e=n.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),o.push({line:i.getArg(n,"generatedLine",null),column:i.getArg(n,"generatedColumn",null),lastColumn:e}),n=this._originalMappings[++s]}}}return o}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}}t.IndexedSourceMapConsumer=d},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,i,r){if(0===n.length)return-1;let o=function e(n,i,r,o,s,a){const l=Math.floor((i-n)/2)+n,u=s(r,o[l],!0);return 0===u?l:u>0?i-l>1?e(l,i,r,o,s,a):a==t.LEAST_UPPER_BOUND?i<o.length?i:-1:l:l-n>1?e(n,l,r,o,s,a):a==t.LEAST_UPPER_BOUND?l:n<0?-1:n}(-1,n.length,e,n,i,r||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===i(n[o],n[o-1],!0);)--o;return o}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){const i=n(4);let r=null;e.exports=function(){if(r)return r;const e=[];return r=i().then(t=>WebAssembly.instantiate(t,{env:{mapping_callback(t,n,i,r,o,s,a,l,u,c){const d=new function(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null};d.generatedLine=t+1,d.generatedColumn=n,i&&(d.lastGeneratedColumn=r-1),o&&(d.source=s,d.originalLine=a+1,d.originalColumn=l,u&&(d.name=c)),e[e.length-1](d)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(t=>({exports:t.instance.exports,withMappingCallback:(t,n)=>{e.push(t);try{n()}finally{e.pop()}}})).then(null,e=>{throw r=null,e})}},function(e,t,n){const i=n(1).SourceMapGenerator,r=n(0),o=/(\r?\n)/,s="$$$isSourceNode$$$";class a{constructor(e,t,n,i,r){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==r?null:r,this[s]=!0,null!=i&&this.add(i)}static fromStringWithSourceMap(e,t,n){const i=new a,s=e.split(o);let l=0;const u=function(){return e()+(e()||"");function e(){return l<s.length?s[l++]:void 0}};let c,d=1,p=0,h=null;return t.eachMapping((function(e){if(null!==h){if(!(d<e.generatedLine)){const t=(c=s[l]||"").substr(0,e.generatedColumn-p);return s[l]=c.substr(e.generatedColumn-p),p=e.generatedColumn,f(h,t),void(h=e)}f(h,u()),d++,p=0}for(;d<e.generatedLine;)i.add(u()),d++;p<e.generatedColumn&&(c=s[l]||"",i.add(c.substr(0,e.generatedColumn)),s[l]=c.substr(e.generatedColumn),p=e.generatedColumn),h=e}),this),l<s.length&&(h&&f(h,u()),i.add(s.splice(l).join(""))),t.sources.forEach((function(e){const o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=r.join(n,e)),i.setSourceContent(e,o))})),i;function f(e,t){if(null===e||void 0===e.source)i.add(t);else{const o=n?r.join(n,e.source):e.source;i.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}}add(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this}prepend(e){if(Array.isArray(e))for(let t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this}walk(e){let t;for(let n=0,i=this.children.length;n<i;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let t,n;const i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this}replaceRight(e,t){const n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this}setSourceContent(e,t){this.sourceContents[r.toSetString(e)]=t}walkSourceContents(e){for(let t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);const t=Object.keys(this.sourceContents);for(let n=0,i=t.length;n<i;n++)e(r.fromSetString(t[n]),this.sourceContents[t[n]])}toString(){let e="";return this.walk((function(t){e+=t})),e}toStringWithSourceMap(e){const t={code:"",line:1,column:0},n=new i(e);let r=!1,o=null,s=null,a=null,l=null;return this.walk((function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&s===i.line&&a===i.column&&l===i.name||n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,s=i.line,a=i.column,l=i.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1);for(let s=0,a=e.length;s<a;s++)10===e.charCodeAt(s)?(t.line++,t.column=0,s+1===a?(o=null,r=!1):r&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}}}t.SourceNode=a}])},"object"==typeof t&&"object"==typeof e?e.exports=r({},{}):"function"==typeof define&&n(10)?define(["fs","path"],r):"object"==typeof t?t.sourceMap=r({},{}):i.sourceMap=r(i.fs,i.path),e.exports}({exports:{}},{});async function ye(e,t,n){if(!n)return{line:0,column:0};pe.initialize({"lib/mappings.wasm":"source-map-0.7.3-mappings.wasm"});let i=JSON.parse(n),r=await new pe(i);if(0==t){let t=r.originalPositionFor(e);return r.destroy(),t}let o=new me({file:"script.js"});r.eachMapping(e=>{o.addMapping({original:{line:e.originalLine,column:e.originalColumn},generated:{line:e.generatedLine+t,column:e.generatedColumn},source:e.source,name:e.name})});let s,a=await pe.fromSourceMap(o);if(e.column>0)s=a.originalPositionFor(e);else{let t=Object.assign({},e);for(let e=0;e<50&&(t.column+=e,s=a.originalPositionFor(t),null===s.line);e++);null===s.line&&(s.line=0,s.column=0)}return r.destroy(),a.destroy(),s}let ve=new class{send(e){}};var we=new Map,be=(new Date).getTime();function _e(e){let t=we.get(e);return t&&we.delete(e),t}function Se(e){switch(e.type){case"eval-response":!async function(e){let t=_e(e.id);if(!t)return;if(e.error){if(k("received error response:",e),t.sourceMapJSON&&e.srcPos)for(let n of e.srcPos){let i=await ye(n,e.srcLineOffset,t.sourceMapJSON);if(i.line>0){ce.decorateError(i,e.error);break}}!function(e){let t=document.querySelector("#message");t.querySelector(".close-button").onclick=de,t.querySelector(".message > p").innerText=e.trim(),document.body.classList.add("showMessage"),ce.editor.layout()}(e.error),t.reject(new Error(e.error))}else t.resolve(e.result)}(e);break;case"print":!async function(e){let t=we.get(e.reqId);if(!t)return;let n=e.srcPos;if(0==n.line||!t.sourceMapJSON)return void k("handlePrintMsg: ignoring print with zero srcPos",e);if(n=await ye(n,e.srcLineOffset,t.sourceMapJSON),0==n.line)return;ce.ensureTrailingNewline();let i="",r="",o=!1;if(e.args){let t=!1;for(let n=0;n<e.args.length;n++){let s=e.args[n],a=s&&"object"==typeof s;if(a&&"__scripter_image_marker__"in s){let e="";if("string"==typeof s.source)e=s.source;else{let t=s.source instanceof Uint8Array?s.source:new Uint8Array(s.source);e="data:"+s.type+";base64,"+$(t)}i+=`<img src="${e}" referrerpolicy="no-referrer"`;let n=Math.max(0,s.width||0),r=Math.max(0,s.height||0);if(n<=0&&r<=0){let e=window.devicePixelRatio||1;s.pixelWidth<=0&&s.pixelHeight<=0?r=32:(n<=0&&s.pixelWidth&&(n=s.pixelWidth/e),r<=0&&s.pixelHeight&&(r=s.pixelHeight/e))}n&&(i+=` width="${n}"`),r&&(i+=` height="${r}"`),i+=">",t=!1}else t&&(i+=" "),i+=Ee(j(s)),t=!0,a&&"__scripter_error__"in s&&(o=!0);r+=j(s)+"\n"}r="_ = "+r.trim()}else i=Ee(e.message),r=e.message;ce.viewZones.set(new J(n,i,r,{isError:o}))}(e);break;default:console.warn(`eval received unexpected message ${e.type} from runtime`)}}let ke=null;function Ee(e){return ke||(ke=document.createElement("div")),ke.innerText=e,ke.innerHTML}const xe={passive:!1,capture:!0};class Ce extends s{constructor(e){super(),this.min=0,this.max=100,this.step=0,this._prec=0,this.knobSize=8,this.overshoot=Math.round(this.knobSize/4),this.snapThreshold=this.knobSize/2,this.minOffset=-this.overshoot,this.maxOffset=0,this.displayScale=1,this.dragged=!1,this._lastInputTimestamp=0,this._pointerDownX=0,this._trackPageXOffset=0,this._knobPointerXOffset=0,this.knobX=0,this._value=0,this._startValue=0,this._bigJumpTimer=null,this.onConfigChange=e=>{e.key in{windowSize:1,uiScale:1,showLineNumbers:1,codeFolding:1,menuVisible:1}&&this.layout()},this.onPointerDown=e=>{e.stopPropagation(),e.preventDefault(),S?(this.track.onpointermove=this.onPointerMove,this.track.setPointerCapture(e.pointerId)):(document.onmousemove=this.onPointerMove,document.onmouseup=this.onPointerUp),this.maxOffset=this.track.clientWidth-(this.knobSize-this.overshoot),this.displayScale=window.devicePixelRatio||1,this.dragged=!1,this._lastInputTimestamp=e.timeStamp,this._pointerDownX=this.knobX,this._startValue=this._value,this.moveKnob(e),this.knob.classList.add("changing")},this.onPointerMove=e=>{this.dragged||(this.dragged=!0,this.knob.classList.add("dragging"),this.knob.classList.add("dragging-fine")),this.moveKnob(e),this._lastInputTimestamp=e.timeStamp},this.onPointerUp=e=>{S?(this.track.onpointermove=null,this.track.releasePointerCapture(e.pointerId)):(document.onmousemove=null,document.onmouseup=null),e.stopPropagation(),e.preventDefault(),this.dragged&&(this.dragged=!1,this.knob.classList.remove("dragging"),this.knob.classList.remove("dragging-fine"));let t=e.timeStamp-this._lastInputTimestamp,n=Math.abs(this._pointerDownX-this.knobX),i=!1;t<200&&n>=this.snapThreshold&&(this.knobX-this.minOffset<this.snapThreshold?(this.setValue(this.min),i=!0):this.maxOffset-this.knobX<this.snapThreshold&&(this.setValue(this.max),i=!0)),i||this.moveKnob(e),this.knob.classList.remove("changing"),this._startValue!=this._value&&this.triggerEvent("change",this._value)};let t=this.el=document.createElement("div");t.className="rangeControl uninit";let n=this.track=document.createElement("div");n.className="track",t.appendChild(n);let i=this.knob=document.createElement("div");i.className="knob",n.appendChild(i);let r=document.createElement("div");r.className="tooltip",i.appendChild(r);let o=this.tooltipLabel=document.createElement("div");if(r.appendChild(o),S?(t.addEventListener("pointerdown",this.onPointerDown,xe),t.addEventListener("pointerup",this.onPointerUp,xe)):(t.addEventListener("mousedown",this.onPointerDown,xe),t.addEventListener("mouseup",this.onPointerUp,xe)),e&&(void 0!==e.min&&(this.min=e.min),void 0!==e.max&&(this.max=e.max),void 0!==e.step&&(this.step=Math.abs(e.step)),void 0!==e.value&&(this._value=Math.min(this.max,Math.max(this.min,Number(e.value))))),this._scale=this.max-this.min,0==this.step){let e=Math.abs(this._scale)/1e3;this.step=e<1e-4?1e-4:e<.001?.001:e<.01?.01:e<.1?.1:1}else this.step=Math.min(this.step,Math.round(this._scale/2));let s=e=>{let t=(""+e).split(".",2);return 2==t.length?t[1].length:0};this._prec=Math.max(s(this.step),s(this.min),s(this.max)),o.innerText=this._value.toFixed(this._prec)}get value(){return this._value}set value(e){this.setValue(e)}layout(){let e=t=>t.offsetLeft-t.scrollLeft+t.clientLeft+(t.offsetParent&&t.offsetParent!==document.documentElement?e(t.offsetParent):0);this._trackPageXOffset=e(this.track),this._knobPointerXOffset=Math.round((this.knobSize+this.knob.clientWidth)/3),this.maxOffset=this.track.clientWidth-(this.knobSize-this.overshoot);let t=(this._value-this.min)/this._scale*(this.maxOffset-this.minOffset);this.knobX=t,this.knob.style.transform=`translate(${t}px, 0)`}onMountDOM(){requestAnimationFrame(()=>{this.layout(),requestAnimationFrame(()=>this.el.classList.remove("uninit"))}),x.addListener("change",this.onConfigChange)}onUnmountDOM(){x.removeListener("change",this.onConfigChange)}moveKnob(e){let t=(Math.min(this.maxOffset,Math.max(this.minOffset,e.pageX-this._trackPageXOffset-this._knobPointerXOffset))-this.minOffset)/(this.maxOffset-this.minOffset);this.setValue(t*this._scale+this.min,e.shiftKey)}setValueUnscaled(e,t){return this.setValue(e*this._scale+this.min,t)}setValue(e,t){let n=this._prec;if(e!=this.max&&e!=this.min){let i;t?(n=Math.max(0,this._prec-1),i=.1/this.step):i=1/this.step,e=Math.round(e*i)/i,e=Math.max(this.min,Math.min(this.max,Number(e.toFixed(this._prec))))}if(this._value==e)return!1;this._value=e,this.tooltipLabel.innerText=e.toFixed(n);let i=(e-this.min)/this._scale*(this.maxOffset-this.minOffset)+this.minOffset;return this._setKnobX(i),this.triggerEvent("input",this._value),!0}_setKnobX(e){e=Math.round(e*this.displayScale)/this.displayScale,this.dragged&&(Math.abs(this.knobX-e)>10?(clearTimeout(this._bigJumpTimer),this.knob.classList.remove("dragging-fine"),this._bigJumpTimer=setTimeout(()=>{this._bigJumpTimer=null,this.knob.classList.add("dragging-fine")},100)):null!==this._bigJumpTimer&&(clearTimeout(this._bigJumpTimer),this.knob.classList.add("dragging-fine"))),this.knobX=e,this.knob.style.transform=`translate(${e}px, 0)`}}const Te=['(function(_postMessage,_close,globalObj,_amd){const requestIdProp="__scripterRequestId";const requestErrProp="__scripterRequestError";let recvp,recvres,recvrej;let msgq=[];let requestq=[];let workerInitialized=!1;function recv(){if(!recvp){if(msgq.length>0){return Promise.resolve(msgq.shift())}recvp=new Promise((res,rej)=>{recvres=res;recvrej=rej})}return recvp}let onrequest=void 0;Object.defineProperty(globalObj,"onrequest",{get(){return onrequest},set(f){onrequest=f;if(onrequest&&workerInitialized&&requestq.length>0){requestqFlush()}},enumerable:!0});function requestqFlush(){requestq.forEach(r=>handleRequest(r));requestq.length=0}function onInit(err){workerInitialized=!0;if(onrequest&&requestq.length>0){requestqFlush()}}function handleRequest(data){const requestId=data[requestIdProp];const f=globalObj.onrequest;const response={[requestIdProp]:requestId};let r=null;if(f){try{r=f({id:requestId,data:data.data})}catch(err){response[requestErrProp]=String(err.stack||err)}}else{response[requestErrProp]="No onrequest handler registered in worker"}const reply=r2=>{response.data=r2;postMessage(response)};if(r instanceof Promise){r.then(reply).catch(err=>{console.warn("[worker] error in promise: "+(err.stack||err));response[requestErrProp]=String(err?err.stack||err:"error");reply(null)})}else{reply(r)}}globalObj.addEventListener("message",ev=>{if(ev.data&&typeof ev.data=="object"&&requestIdProp in ev.data){if(!workerInitialized||!onrequest){requestq.push(ev.data)}else{handleRequest(ev.data)}ev.stopPropagation();ev.preventDefault();return}if(recvp){recvp=null;recvres(ev.data)}else if(!workerInitialized||msgq.length<10){msgq.push(ev.data)}},{capture:!0});globalObj.addEventListener("messageerror",ev=>{if(recvp){recvp=null;recvrej(ev.data)}});function postMessage(data,transfer){try{return _postMessage({data,transfer},transfer)}catch(err){if(data&&typeof data=="object"&&typeof data.toJSON=="function"){transfer=void 0;return _postMessage({data:data.toJSON(),transfer},transfer)}throw err}}function send(data,transfer){return postMessage(data,transfer)}function close(){if(requestq.length>0&&!onrequest){__onerror("request() was called but no onrequest handler was registered")}postMessage({type:"__scripter_close"});_close()}function print(...msg){console.log(...msg)}function timer(timeout){let timer=null;const p=new Promise((resolve,reject2)=>{timer=setTimeout(()=>{timer=null;resolve()},timeout)});p.cancel=()=>{if(timer!==null){clearTimeout(timer);reject(new Error("timer cancelled"))}};return p}function __onerror(err){postMessage({type:"__scripter_toplevel_err",message:err?String(err):"unknown error",stack:err&&err.stack||""})}try{let r=eval((','))((()=>{let w=globalObj;w.send=w.postMessage=postMessage;w.recv=recv;w.close=close;w.print=print;w.importCommonJS=url=>{globalObj.exports={};globalObj.module={id:"scripter",exports:globalObj.exports};return w.importScripts(url).then(()=>{let exports=globalObj.module.exports;delete globalObj.module;delete globalObj.exports;return exports})};return w})());onInit(null);if(r instanceof Promise){r.catch(__onerror)}}catch(err){console.warn("error in worker-template",err);onInit(err);__onerror(err)}})(typeof __scripterPostMessage!="undefined"?__scripterPostMessage:self.postMessage.bind(self),typeof __scripterClose!="undefined"?__scripterClose:self.close.bind(self),typeof window!="undefined"?window:self,(globalObj=>{const CHECK_CYCLES=!1;const DEBUG=!1;function emptyFunction(){}const assert=DEBUG?cond=>{if(!cond){throw new Error("assertion failure")}}:emptyFunction;const logdebug=DEBUG?function(){console.log.apply(console,["[define]"].concat([].slice.call(arguments)))}:emptyFunction;let modules=new Map();let waiting=new Map();function define_require(id){let m=modules.get(id);if(!m){throw new Error(`unknown module "${id}"`)}return m.init?void 0:m["exports"]}function Module(id,exports,deps,fn){this["id"]=id;this["exports"]=exports;this.deps=deps;this.fn=fn;this.init=null;this.waitdeps=null}function deppath(m,id){if(m.waitdeps){for(let wdepid of m.waitdeps){if(wdepid==id){return[m["id"]]}let wdepm=modules.get(wdepid);if(wdepm){let path=deppath(wdepm,id);if(path){return[m["id"]].concat(path)}}}}return null}function mfinalize(m){m.init=null;let waitingDependants=waiting.get(m["id"]);waiting.delete(m["id"]);if(m.fn){let res=m.fn.apply(m["exports"],m.deps);if(res){m["exports"]=res}m.fn=null}m.deps=null;m.waitdeps=null;if(waitingDependants){for(let depid of waitingDependants){let depm=modules.get(depid);if(depm.init){if(depm.waitdeps.size==1){depm.init()}else{depm.waitdeps.delete(m["id"])}}}assert(typeof m["id"]!="symbol")}else if(typeof m["id"]=="symbol"){modules.delete(m["id"])}}function*minitg(m,deps){while(!0){for(let i=0,L=deps.length;i!=L;++i){let depid=deps[i];if(m.deps[i]!==void 0){continue}if(depid=="require"){m.deps[i]=define_require}else if(depid=="exports"){m.deps[i]=m["exports"]}else if(depid=="module"){m.deps[i]=m}else{let depm=modules.get(depid);if(depm&&!depm.init){m.deps[i]=depm["exports"];if(m.waitdeps){m.waitdeps.delete(depid)}}else{if(!m.waitdeps){m.waitdeps=new Set([depid])}else if(!m.waitdeps.has(depid)){m.waitdeps.add(depid)}else{continue}if(CHECK_CYCLES&&depm){let cycle=deppath(depm,m["id"]);if(cycle){if(cycle[cycle.length-1]!=m["id"]){cycle.push(m["id"])}throw new Error(`Cyclic module dependency: ${m["id"]} -> ${cycle.join(" -> ")}`)}}}}}if(!m.waitdeps||m.waitdeps.size==0){break}yield m.waitdeps}mfinalize(m)}function minit(m,deps){let initg=minitg(m,deps);return function init(){logdebug("attempting to resolve dependencies for",m["id"]);let v=initg.next();if(v.done){logdebug("completed initialization of",m["id"]);return!0}for(let depid of v.value){let waitset=waiting.get(depid);if(waitset){waitset.add(m["id"])}else{waiting.set(depid,new Set([m["id"]]))}}return!1}}let timeoutTimer=null;let timeoutReached=!1;function timeout(){clearTimeout(timeoutTimer);timeoutTimer=null;timeoutReached=!0;if(waiting&&waiting.size>0){let v=[];for(let id of waiting.keys()){if(!modules.has(id)){v.push(id)}}if(v.length){throw new Error(`Module load timeout -- still waiting on "${v.join(\'", "\')}"`)}}}let _currentScriptURL="";const getCurrentScriptURL=globalObj.document?()=>globalObj.document.currentScript?globalObj.document.currentScript.src:"":()=>_currentScriptURL;function define(id,deps,fn){logdebug("define",id,deps,typeof fn);if(define.timeout&&define.timeout>0){if(timeoutReached){logdebug("define bailing out since timeout has been reached");return}clearTimeout(timeoutTimer);timeoutTimer=setTimeout(timeout,define.timeout)}let objfact=1;switch(typeof id){case"function":fn=id;id=null;deps=[];objfact=0;break;case"object":fn=deps;deps=id;id=null;if(typeof fn!="function"){throw new Error("object module without id")}break;default:objfact=0;if(typeof deps=="function"){fn=deps;deps=[]}else if(!fn){fn=deps;deps=[];objfact=2}break}if(!id){id=getCurrentScriptURL()||null;if(modules.has(id)){id=null}}if(!deps||deps.length==0){logdebug("taking a shortcut becase",id,"has no dependencies");if(objfact==1&&typeof fn!="function"){objfact=2}let m2=new Module(id,objfact?fn:{},null,objfact?null:fn);if(id){modules.set(id,m2);mfinalize(m2)}else{fn.apply(m2["exports"]);m2.fn=null}return!0}if(typeof fn!="function"){throw new Error("object module with dependencies")}let m=new Module(id||Symbol(""),{},new Array(deps.length),fn);modules.set(m["id"],m);m.init=minit(m,deps);return m.init()}const _importScripts=typeof __scripterImportScripts!="undefined"?__scripterImportScripts:(f=>(...urls)=>Promise.resolve(f(...urls)))(self.importScripts.bind(self));let importScriptsLegacyNest=0;async function importScriptsLegacy(...urls){importScriptsLegacyNest++;if(importScriptsLegacyNest==1){globalObj["define"]=null}try{await _importScripts(...urls)}finally{importScriptsLegacyNest--;if(importScriptsLegacyNest==0){globalObj["define"]=define}}}const awaitImportAll=urls=>{return new Promise((resolve,reject2)=>{let defined=!1;let tryingCommonJs=!1;define("_",urls,(...apis)=>{if(!tryingCommonJs){defined=!0;resolve(apis)}});if(!defined){logdebug("some modules did not call amd define(); falling back to commonjs emulation");tryingCommonJs=!0;let i=0;let apis=[];function next(){const cleanUp=()=>{globalObj["module"]=void 0;globalObj["exports"]=void 0};let url=urls[i++];if(!url){cleanUp();return resolve(apis)}let m=modules.get(url);if(m){logdebug(`[cjs] ${url} did call define() [shortcut]`);apis.push(m.exports);return next()}logdebug(`[cjs] ${url} did not call define() -- loading in commonjs env...`);globalObj["exports"]=(globalObj["module"]={id:url,exports:{}})["exports"];_importScripts(url).then(()=>{apis.push(globalObj["module"].exports);next()}).catch(err=>{cleanUp();reject2(err)})}next()}})};const urlre=/^https?:\\/\\/[^\\r\\n]+$/;const filterUrls=urls=>urls.map(url=>urlre.test(url)?url:`https://unpkg.com/${url}`);const importAll=globalObj.importScripts&&globalObj.document===void 0?(importScripts=>function importAll2(...urls){urls=filterUrls(urls);for(let url of urls){_currentScriptURL=url;try{importScripts(url)}finally{_currentScriptURL=""}}return awaitImportAll(urls)})(globalObj.importScripts.bind(globalObj)):function importAll2(...urls){urls=filterUrls(urls);return _importScripts(...urls).then(()=>awaitImportAll(urls))};define["timeout"]=0;define["require"]=define_require;define["amd"]={};globalObj["define"]=define;globalObj["importAll"]=importAll;globalObj["importScripts"]=importScriptsLegacy;globalObj["import"]=url=>importAll(url).then(v=>v[0])})(typeof window!="undefined"?window:self));\n'],Me=['(scriptfn=>{function importScripts(...urls){return Promise.all(urls.map(url=>new Promise((resolve,reject)=>{let s=document.createElement("script");s.src=url;s.type="text/javascript";s.async=!0;s.onload=resolve;s.onerror=reject;document.head.appendChild(s)})))}let postMessage=window.parent.postMessage.bind(window.parent);function _postMessage(msg,transfer){postMessage(msg,"*",transfer)}_postMessage("__scripter_iframe_ready");function close(){_postMessage("__scripter_iframe_close")}window["__scripterPostMessage"]=window.postMessage;window["createElement"]=function createElement(name,attrs,...children){let el=document.createElement(name);if(attrs)for(let k in attrs){const v=attrs[k];if(k=="style"){Object.assign(el.style,v)}else if(k=="className"){el.className=v}else if(typeof v=="function"){el[k]=v}else{el.setAttribute(k,v)}}for(let n of children){if(n instanceof Node){el.appendChild(n)}else if(n!==void 0&&n!==null){el.appendChild(document.createTextNode(String(n)))}}return el};scriptfn(window,_postMessage,importScripts,close)})((self,__scripterPostMessage,__scripterImportScripts,__scripterClose)=>{',"});\n"],Le=new class{constructor(){this._focusListeners=new Map,this.current=document.activeElement;const e=e=>{const t=document.activeElement;if(this.current===t)return;const n=this.current;this.current=t;const i=this._focusListeners.get(n),r=this._focusListeners.get(t);if(i||r){const o=new Set(i||r);if(i&&r)for(let e of r)o.add(e);for(let i of o)i(t,n,e)}};window.addEventListener("focus",e,{capture:!0}),window.addEventListener("blur",e,{capture:!0})}addFocusListener(e,t){let n=this._focusListeners.get(e);n?n.add(t):this._focusListeners.set(e,new Set([t]))}removeFocusListener(e,t){let n=this._focusListeners.get(e);n&&n.delete(t)}},Pe={capture:!0},Ie={bottom:0,height:0,left:0,right:0,top:0,width:0};function Oe(e,t,n){return e>=n.left&&e<n.right&&t>=n.top&&t<n.bottom}let Ae=0;const Re=new class{constructor(){this.windows=[],this._initCalled=!1}_init(){this._initCalled=!0,wt.addKeyEventHandler(e=>{if(this.windows.length>0&&((e.ctrlKey||e.metaKey)&&"w"==e.key||e.altKey&&"F4"==e.key)){const e=this.top();if(e.inFocus)return e.close(),!0}})}top(){return this.windows[this.windows.length-1]||null}has(e){for(let t of this.windows)if(t===e)return!0;return!1}add(e){this._initCalled||this._init(),e._setZIndex(this.windows.length),this.windows.push(e)}remove(e){let t=this.windows.indexOf(e);for(this.windows.splice(t,1);t<this.windows.length;t++)this.windows[t]._setZIndex(t);0==this.windows.length?document.body.focus():e.inFocus&&this.top().focus()}focus(e){if(this.top()===e)return;let t=this.windows.indexOf(e),n=this.windows.length;for(let e=t+1;e<n;){let n=this.windows[e];this.windows[t]=n,n._setZIndex(t),t++,e++}this.windows[t]=e,e._setZIndex(t)}};class Ne extends s{constructor(e,t){super(),this.id=Ae++,this.closeButton=null,this.inFocus=!1,this.isClosed=!1,this._x=0,this._y=0,this._width=300,this._height=200,this._zIndex=0,this._onFocusChange=(e,t,n)=>{k(this+" focus changed",{inFocus:e,lostFocus:t}),this._setInFocus(e===this.body)},this._isPointerDownInTitle=!1,this._closeButtonRect=Ie,this._onClosePointerDown=e=>{this._closeButtonRect=this.closeButton.getBoundingClientRect(),this.titlebar.addEventListener("pointermove",this._onTitlePointerMove,Pe),e.preventDefault()},this._onTitlePointerDown=e=>{this._isPointerDownInTitle=!0,e.metaKey||e.ctrlKey||this.focus(),this.titlebar.setPointerCapture&&this.titlebar.setPointerCapture(e.pointerId),e.preventDefault()},this._onTitlePointerMove=e=>{this.closeButton.classList.toggle("active",Oe(e.x,e.y,this._closeButtonRect))},this._onTitlePointerUp=e=>{this._isPointerDownInTitle&&(this._isPointerDownInTitle=!1,this.titlebar.releasePointerCapture&&this.titlebar.releasePointerCapture(e.pointerId),Oe(e.x,e.y,this._closeButtonRect)?this.close():e.metaKey||e.ctrlKey||this.focus(),e.preventDefault()),this._closeButtonRect.width>0&&(this._closeButtonRect=Ie,this.closeButton.classList.remove("active"),this.titlebar.removeEventListener("pointermove",this._onTitlePointerMove,Pe))},this.config=t||(t={}),t.preventClose||(this.closeButton=te("div",{className:"close-button"}),this.closeButton.onclick=()=>{this.close()}),void 0!==t.width&&(this._width=Math.round(t.width)),void 0!==t.height&&(this._height=Math.round(t.height));const n=Re.top();this._x=void 0!==t.x?Math.round(t.x):n?n._x+16:this._centerOnScreenX(),this._y=void 0!==t.y?Math.round(t.y):n?n._y+16:this._centerOnScreenY(),this._clampBounds(),void 0===t.x&&this._x<0&&(this._x=0),this.body=e,this.domRoot=te("div",{className:"UIWindow focus",tabIndex:"-1",style:{transform:`translate3d(${this._x}px,${this._y}px,0)`,width:this._width+"px",height:this._height+"px"}},this.titlebar=te("div",{className:"titlebar"},this.title=te("div",{className:"title"},t.title||""),this.closeButton),this.bodyCover=te("div",{className:"body-cover"}),e),Re.add(this),t.preventMove||this._enableMove(),Le.addFocusListener(this.body,this._onFocusChange),this.closeButton&&this.closeButton.addEventListener("pointerdown",this._onClosePointerDown,Pe),this.titlebar.addEventListener("pointerdown",this._onTitlePointerDown,Pe),this.titlebar.addEventListener("pointerup",this._onTitlePointerUp,Pe),this.bodyCover.addEventListener("pointerdown",e=>{k(this+" click on body-cover => focus"),this.focus(),e.preventDefault(),e.stopPropagation()},Pe),document.body.appendChild(this.domRoot),this.focus()}_disconnect(){Le.removeFocusListener(this.body,this._onFocusChange),this.closeButton&&this.closeButton.removeEventListener("pointerdown",this._onClosePointerDown,Pe),this.titlebar.removeEventListener("pointerdown",this._onTitlePointerDown,Pe),this.titlebar.removeEventListener("pointerup",this._onTitlePointerUp,Pe),this._debugMutationObserver&&(this._debugMutationObserver.disconnect(),this._debugMutationObserver=void 0),Re.remove(this)}get x(){return this._x}get y(){return this._y}set x(e){this.setPosition(e,this._y)}set y(e){this.setPosition(this._x,e)}get width(){return this._width}get height(){return this._height}set width(e){this.setSize(e,this._height)}set height(e){this.setSize(this._width,e)}setPosition(e,t){this.config.preventMove||this._setPositionWithEvent(e,t)}setSize(e,t){this._setSize(e,t)&&this.triggerEvent("resize")}setBounds(e,t,n,i){this.setPosition(e,t),this.setSize(n,i)}centerOnScreen(){this._setPositionWithEvent(this._centerOnScreenX(),this._centerOnScreenY())}focus(){this.body.focus(),this.body.focus()}close(){this.isClosed||(this.isClosed=!0,this._disconnect(),document.body.removeChild(this.domRoot),this.triggerEvent("close"))}toString(){return"UIWindow#"+this.id}_setZIndex(e){k(this+" set zindex",e),this._zIndex=e,this._updateZIndex()}_updateZIndex(){this.domRoot.style.zIndex=String(100+this._zIndex)}_setInFocus(e){k(`${this} ${e?"received":"lost"} focus`),this.inFocus!=e&&(this.inFocus=e,e?(this.inFocus=!0,this.triggerEvent("focus"),Re.focus(this)):(this.inFocus=!1,this.triggerEvent("blur")),this.domRoot.classList.toggle("focus",this.inFocus),this._updateZIndex())}_enableMove(){let e=0,t=0,n=0,i=0,r=0,o=0;const s=r=>{r.preventDefault(),e=r.clientX-n,t=r.clientY-i,this._setPosition(e,t)};this.title.addEventListener("pointerdown",e=>{r=this._x,o=this._y,n=e.clientX-this._x,i=e.clientY-this._y,this.title.setPointerCapture&&this.title.setPointerCapture(e.pointerId),document.addEventListener("pointermove",s,{capture:!0})},!1),this.title.addEventListener("pointerup",e=>{this.title.releasePointerCapture&&this.title.releasePointerCapture(e.pointerId),document.removeEventListener("pointermove",s,{capture:!0}),r==this._x&&o==this._y||this.triggerEvent("move")},!1)}_clampBounds(){const e=window.innerWidth-50,t=window.innerHeight-Ne.TitleHeight;this._width=Math.min(window.innerWidth-8,this._width),this._height=Math.min(window.innerHeight-8,this._height),this._x=Math.min(e,Math.max(-(this._width-50),this._x)),this._y=Math.min(t,Math.max(0,this._y))}_setPosition(e,t){const n=window.devicePixelRatio||1;e=Math.round(e*n)/n,t=Math.round(t*n)/n;let i=this._x,r=this._y;return this._x=e,this._y=t,this._clampBounds(),(i!=this._x||r!=this._y)&&(this.domRoot.style.transform=`translate3d(${this._x}px, ${this._y}px, 0)`,!0)}_setSize(e,t){let n=this._width,i=this._height;return this._width=e,this._height=t,this._clampBounds(),(this._width!=n||this._height!=i)&&(this.domRoot.style.width=this._width+"px",this.domRoot.style.height=this._height+"px",!0)}_setPositionWithEvent(e,t){this._setPosition(e,t)&&this.triggerEvent("move")}_centerOnScreenX(){return Math.round(.5*(window.innerWidth-this._width))}_centerOnScreenY(){return Math.round(.4*(window.innerHeight-this._height))}}function De(e,t){parent.postMessage(e,"*",t)}Ne.TitleHeight=24;class Fe{send(e){parent.postMessage(e,"*")}}function ze(){let e={type:"window-config",width:x.windowSize[0],height:x.windowSize[1]};parent.postMessage(e,"*")}async function je(e,t,n){let i={};try{i=await n(),parent.postMessage(Object.assign({type:t,id:e},i),"*")}catch(n){k("rpc error: "+(n.stack||n));let i={type:"rpc-error-response",responseType:t,id:e,name:n.name||"Error",message:n.message||"error",stack:String(n.stack)||"error"};parent.postMessage(i,"*")}}const Ue=new Map;let Be=!1;class Ve{constructor(e,t,n){this.window=null,this.recvq=[],this.ready=!1,this.closed=!1,Be||(Be=!0,window.addEventListener("message",e=>{let t=Ue.get(e.source);t&&(t._onmessage(e),e.stopPropagation(),e.preventDefault())}),window.addEventListener("messageerror",e=>{let t=Ue.get(e.source);t&&(t.onmessageerror(e),e.stopPropagation(),e.preventDefault())})),this.workerId=e,this.frame=document.createElement("iframe");const i=this.frame,r=this.iframeUrl=/^https?:\/\/[^\r\n]+$/.test(t)?t:"";i.setAttribute("sandbox","allow-scripts allow-modals allow-pointer-lock"+(r?"":" allow-same-origin")),i.onerror=e=>{this.onerror(e instanceof ErrorEvent?e:new ErrorEvent(String(e))),i.onerror=null};const o=window.document.getElementById("editor").getBoundingClientRect();let s=0,a=0;if(void 0!==n.width?(s=Math.round(n.width),a=void 0!==n.height?Math.round(n.height):n.height=s):void 0!==n.height?s=a=n.width=Math.round(n.height):(s=Math.round(.9*o.width),a=Math.round(.8*s)),n.visible){void 0!==n.height&&(a+=Ne.TitleHeight);let t=n.title||"Worker";0;const o=new Ne(i,{x:n.x,y:n.y,width:s,height:a,title:t});o.on("close",()=>{this.close()}),i.onload=()=>{if(k(`worker#${e} iframe loaded`),r)this.onReady();else try{i.contentWindow.document.addEventListener("keydown",wt.handleKeyDownEvent,{capture:!0})}catch(e){console.warn("IFrameWorker error while accessing frame document: "+(e.stack||e))}i.onload=null},this.window=o}else Object.assign(i.style,{position:"fixed",zIndex:"-1",left:"0px",top:"0px",width:s+"px",height:a+"px",visibility:"hidden",pointerEvents:"none"}),document.body.appendChild(i),r&&(i.onload=()=>{this.onReady()});if(Ue.set(i.contentWindow,this),r)i.src=r;else{let e=["<html><head></head><body><script type='text/javascript'>",Me[0],Te[0],JSON.stringify(t),Te[1],Me[1],,"<\/script></body></html>"];k("running worker script",e.join(""));let n=URL.createObjectURL(new Blob(e,{type:"text/html;charset=utf8"}));i.src=n,setTimeout(()=>{URL.revokeObjectURL(n)},1)}}onReady(){if(k("iframe ready. recvq:",this.recvq),this.iframeUrl)this.postMessage=(e,t)=>{this.frame.contentWindow.postMessage(e,"*",t)};else{const e=this.frame.contentWindow.__scripterPostMessage;this.postMessage=e?(t,n)=>{e.call(this.frame.contentWindow,t,"*",n)}:(e,t)=>{this.frame.contentWindow.postMessage(e,"*",t)}}this.ready=!0;for(let{message:e,transfer:t}of this.recvq)this.postMessage(e,t);this.recvq.length=0}_onmessage(e){"__scripter_iframe_ready"===e.data?this.ready||this.onReady():"__scripter_iframe_close"===e.data?this.terminate():this.onmessage(e)}postMessage(e,t){this.recvq.push({message:e,transfer:t})}close(){Ge(this.workerId),this.terminate()}terminate(){k("figma-plugin-bridge/IFrameWorker.terminate. this.closed:",this.closed),this.closed||(this.closed=!0,Ue.delete(this.frame.contentWindow),this.window?this.window.close():this.frame.parentElement.removeChild(this.frame),this.frame.src="about:blank",this.frame=null)}}let We=new Map;function qe(e){je(e.id,"worker-create-res",async()=>{k("rpc_worker_create",e);let t,n=e.workerId;if(e.iframe){let i="object"==typeof e.iframe?e.iframe:{};t=new Ve(n,e.js,i)}else t=function(e){let t=[Te[0],e,Te[1]],n=URL.createObjectURL(new Blob(t,{type:"application/javascript"})),i=new Worker(n);return URL.revokeObjectURL(n),i}(e.js);return We.set(n,t),t.onmessage=e=>{k("app got message from worker#"+n,e.data);let i=e.data.data;if(i&&"object"==typeof i){const e=i.type;if("__scripter_close"==e)return Ge(n);if("__scripter_toplevel_err"==e){let e=i.stack;return""!=e&&(e=e.replace(/\sblob:.+:(\d+):(\d+)/g," <worker-script>:$1:$2")),De({type:"worker-error",workerId:n,error:{error:i.message,message:e||i.message}}),t.terminate(),Ge(n)}}De({type:"worker-message",evtype:"message",workerId:n,data:e.data.data,transfer:e.data.transfer},e.data.transfer)},t.onmessageerror=e=>{De({type:"worker-message",evtype:"messageerror",workerId:n,data:e.data})},t.onerror=e=>{console.error("worker error event",e),t.terminate(),De({type:"worker-error",workerId:n,error:{colno:e.colno,error:String(e.error),filename:e.filename,lineno:e.lineno,message:e.message}}),Ge(n)},{workerId:n}})}function Ge(e){k("worker_onclose",e),We.has(e)&&(k("worker_onclose",e,"FOUND"),We.delete(e),De({type:"worker-ctrl",workerId:e,signal:"close"}))}function He(e){let t=We.get(e.workerId);return t||(k("ignoring message for non-existing worker#"+(e.workerId||""),{msg:e}),null)}let $e=new Map;function Ke(e){je(e.id,"ui-input-response",async()=>{let t=$e.get(e.instanceId);if(!t){let n=e.srcPos;if(0==n.line)return k("[rpc ui-input-response]: ignoring; zero srcPos",e),{value:0,done:!0};let i=function(e){let t=we.get(e);return t?t.sourceMapJSON:null}(e.scriptReqId);if(!i)throw new Error("no source map found for script invocation #"+e.scriptReqId);if(n=await ye(n,e.srcLineOffset,i),!n.line)return{value:0,done:!0};let r=function(e){if("range"==e.controllerType){if(e.init&&"value"in e.init){let t=e.init.value;"number"!=typeof t&&(t=parseFloat(t),isNaN(t)?delete e.init.value:e.init.value=t)}return new Ce(e.init)}throw new Error(`unknown input type "${e.controllerType}"`)}(e);if(t=new Y(n.line,r),""==ce.viewZones.add(t))return{value:r.value,done:!0};$e.set(e.instanceId,t),t.addListener("remove",()=>{$e.delete(e.instanceId)})}return new Promise(e=>{t.enqueueResolver(e)})})}function Ze(){let e=new Fe,t=(ve=e,Se);window.onmessage=e=>{if(e.source!==parent)return;let n=e.data;if(n&&"object"==typeof n)switch(n.type){case"eval-response":case"print":t(n);break;case"ui-confirm":je((i=n).id,"ui-confirm-response",async()=>({answer:confirm(i.question)}));break;case"fetch-request":!function(e){je(e.id,"fetch-response",async()=>{let t=await fetch(e.input,e.init),n={};t.headers.forEach((e,t)=>{n[t]=e});let i=t.body?new Uint8Array(await t.arrayBuffer()):null,r={headers:n,redirected:t.redirected,status:t.status,statusText:t.statusText,resType:t.type,url:t.url,body:i};return k("fetch response",r),r})}(n);break;case"ui-input-request":Ke(n);break;case"worker-create-req":qe(n);break;case"worker-message":!function(e){let t=He(e);t&&t.postMessage(e.data,e.transfer)}(n);break;case"worker-ctrl":!function(e){if("terminate"!=e.signal)return void console.warn("worker_ctrl unexpected signal "+e.signal);let t=He(e);t&&(t.terminate(),Ge(e.workerId))}(n);break;case"worker-setFrame":!function(e){let t=He(e);t&&t.window.setBounds(e.x,e.y,e.width,e.height)}(n);break;case"load-script":ce.loadScriptFromFigma(n);break;case"update-save-scripts-index":N.updateFromPlugin(n.index)}var i;k("ui received message",e.data&&e.data.type,{origin:e.origin,data:e.data})},x.on("change",e=>{"windowSize"==e.key&&ze()});let n=!1;wt.addKeyEventHandler(t=>{if("KeyP"==t.code&&(t.metaKey||t.ctrlKey)&&t.altKey)return function(){if(n)return;n=!0;let t=()=>{e.send({type:"close-plugin"})};ce.isScriptRunning()?(ce.stopCurrentScript(),setTimeout(t,50)):t()}(),!0})}function Xe(e){return Object.assign({id:0,guid:"",name:"Untitled",tags:[],createdAt:new Date,modifiedAt:new Date},e)}var Qe;!function(e){e[e.Clean=0]="Clean",e[e.Dirty=1]="Dirty",e[e.DirtyImplicit=2]="DirtyImplicit"}(Qe||(Qe={}));class Je extends s{constructor(e,t,n,i){super(),this.isROLib=!1,this._editorViewState=null,this._saveTimer=null,this._savedModelVersion=0,this._currModelVersion=0,this._metaDirty=Qe.Clean,this._bodyDirty=Qe.Clean,this.meta=e,this._body=t,this._editorViewState=n,this.isROLib=!!i}get id(){return this.meta.id}get guid(){return this.meta.guid}get createdAt(){return this.meta.createdAt}get modifiedAt(){return this.meta.modifiedAt}get modelVersion(){return this._currModelVersion}get isUserScript(){return!this.isROLib&&this.id>=0}get isMutable(){return this.isUserScript}get isLoaded(){return this.meta&&this.meta.name&&""!=this.body}get body(){return this._body}set body(e){this._body=e,this._bodyDirty=Qe.Dirty,this._currModelVersion=0,this._onAfterLoadBody(),this.scheduleSave()}updateBody(e,t){this._body=e,this._currModelVersion=t,this._bodyDirty=this._currModelVersion!=this._savedModelVersion?Qe.Dirty:Qe.Clean,this.scheduleSave()}updateBodyNoDirty(e,t){this._body=e,this._currModelVersion=t}get name(){return this.meta.name}set name(e){""==(e=e.trim())&&(e="Untitled"),this.meta.name!==e&&(this.meta.name=e,this._metaDirty=Qe.Dirty,this.scheduleSave())}get editorViewState(){return this._editorViewState}set editorViewState(e){this._editorViewState=e,this.id>0&&w.put("scriptViewState",e,this.id)}async reloadEditorViewState(){return this._editorViewState=await w.get("scriptViewState",this.id)}isSavedInFigma(){return this.guid&&N.hasGUID(this.guid)}requireValidGUID(){return this.meta.guid||(this.meta.guid=R(),this._metaDirty=Qe.Dirty,this.scheduleSave()),this.meta.guid}scheduleSave(){new Error;clearTimeout(this._saveTimer),this._saveTimer=setTimeout(()=>{this.save()},this.meta.id<=0?0:500)}save(){let e;if(clearTimeout(this._saveTimer),this._saveTimer=null,this._savedModelVersion=this._currModelVersion,k(`Script.save ID=${this.meta.id} GUID=${this.meta.guid}`,this),this.meta.id<=0){if(""==this._body)return k("Script.save canceled because _body is empty"),Promise.resolve();this.meta.guid||(console.warn("unsaved script missing GUID; generating & assigning one"),this.meta.guid=R()),b("save/create script "+JSON.stringify(this.meta.name)),this.meta.modifiedAt=new Date,this.meta.createdAt=this.meta.modifiedAt,e=w.modify(["scripts","scriptBody"],async(e,t)=>{delete this.meta.id;let n=e.add(this.meta);this.meta.id=0;let i=await n;this.meta.id=i,t.put(this._body,i)})}else{if(this._bodyDirty==Qe.Clean&&this._metaDirty==Qe.Clean)return Promise.resolve();{this.meta.guid||(console.warn(`existing script#${this.meta.id} missing GUID; generating & assigning one`),this.meta.guid=R(),this._metaDirty=Qe.DirtyImplicit);let t=this._metaDirty!=Qe.Clean,n=this._bodyDirty!=Qe.Clean;n||t?(this._bodyDirty!=Qe.Dirty&&this._metaDirty!=Qe.Dirty||(this.meta.modifiedAt=new Date,t=!0),e=w.modify(["scripts","scriptBody"],async(e,i)=>{t&&e.put(this.meta),n&&i.put(this._body,this.id)})):e=Promise.resolve(),this.saveToFigma({createIfMissing:!1})}}return this._bodyDirty=Qe.Clean,this._metaDirty=Qe.Clean,e.then(()=>{this.triggerEvent("save",this)}).catch(e=>{console.error(`failed to save ${this} in indexeddb: ${e.stack||e}`)})}saveToFigma(e){this.requireValidGUID(),0==this.id&&(0==this._body.length&&(this._body=" "),this.save(),this._body=""),De({type:"save-script",create:e.createIfMissing,script:{guid:this.guid,name:this.name,body:this.body}})}_onAfterLoadBody(){if(this.isROLib)return;const e="(/*SCRIPTER*/async function __scripter_script_main(){\n";this._body.startsWith(e)||(this._body=e+this._body),this._body.endsWith("\n})()/*SCRIPTER*/")||(this._body=this._body+"\n})()/*SCRIPTER*/")}async load(){let[e,t,n]=await w.read(["scripts","scriptBody","scriptViewState"],(e,t,n)=>e.get(this.id),(e,t,n)=>t.get(this.id),(e,t,n)=>n.get(this.id));return!!e&&(this.meta=e,this._body=t,this._editorViewState=n||null,this._onAfterLoadBody(),!0)}async loadIfEmpty(){if(!this.meta||!this.meta.name)return this.load();if(""!=this.body)return!0;let[e,t]=await w.read(["scriptBody","scriptViewState"],(e,t)=>e.get(this.id),(e,t)=>t.get(this.id));return this._body=e,this._editorViewState=t||null,this._onAfterLoadBody(),!0}whenLoaded(e){if(this.isLoaded)return e();this.loadIfEmpty().then(e)}async delete(){await w.modify(["scripts","scriptBody","scriptViewState"],async(e,t,n)=>{e.delete(this.id),t.delete(this.id),n.delete(this.id)}),this.triggerEvent("delete",this),this.meta=Xe({}),this._body="",this._editorViewState=null}mutableCopy(){return new Je(Object.assign(Object.assign({},this.meta),{tags:[].concat(this.meta.tags)}),this._body,this._editorViewState,this.isROLib)}duplicate(e={}){return new Je(Object.assign(Object.assign(Object.assign({},this.meta),{tags:[].concat(this.meta.tags),id:0,guid:R()}),e),this._body,this._editorViewState,this.isROLib)}mergeApply(e){let t=this;t.meta.modifiedAt>e.meta.modifiedAt||(t.body=e.body,t.name=e.name,0==t.meta.id&&(t.meta.id=e.meta.id))}toString(){return"script#"+this.meta.id+(this.meta.guid?"/"+this.meta.guid:"")}static create(e={},t="",n){e.guid||(e=Object.assign(Object.assign({},e),{guid:R()}));const i=new Je(Xe(e),t,null,n);return i._onAfterLoadBody(),i}static async load(e){let t=new Je({id:e},"",null);return await t.load()?t:null}}function Ye(e,t,n){return{guid:"examples/"+e,name:t,code:n.replace(/^\s*\n|\n\s*$/,"")+"\n"}}function et(e,t){return _?e:t}var tt=(e=>{let t={};for(let n of e){let[e,i]=n.name.split("/",2);i?n.name=i:(i=e,e="");let r=t[e];r?r.push(n):t[e]=[n]}return t})([Ye("intro","Introduction",`\n/**\nHello hi and welcome to Scripter.\n\nScripts are written in relaxed TypeScript.\nThis grey text here is a comment.\n\nTry running this script using the ► button in the toolbar, or by pressing ${et("⌘↩︎","Ctrl+Return")}\n*/\nprint(\`Today is \${Date()}\`)\nprint("Your viewport:", viewport.bounds)\n\n/**\nThere are more examples in the menu ☰.\nOpen the menu using the ☰ button in the bottom left corner.\nCreate a new script using the + button in the top toolbar.\n\nThis editor provides automatic completions of all available functionality, including the Figma API.\nType "figma." to start exploring the API.\n\nScripts are automatically saved locally and securely.\nYou can also load and save scripts to the current Figma file.\nTo save a script, press the "Save to Figma File" button in the toolbar.\nChanges to the script are not automatically saved both to the Figma file\nas well as locally to your computer.\nTo remove a script from a Figma file, simply delete the frame in the Figma file's page.\nTo share a script with someone else, save it to a Figma file and invite others to the file.\nTo load a script from a Figma file, select the script's frame in Figma and then start Scripter.\n\nEditor basics\n• Scripts are automatically saved locally\n• Scripts can optionally by saved to the Figma file\n• Manage your scripts in the menu.\n• Double-click a script in the menu to rename,\n  pressing RETURN to commit a name change or\n  ESC to cancel.\n• Rename a script "" (nothing) to delete it.\n\nKeyboard shortcuts\n\tRuns the current script                ${et("⌘↩","Ctrl+Return")}\n\tStop a running script                  ${et("⇧⌘↩","Ctrl+Shift+Return")}\n\tCloses Scripter                        ${et("⌥⌘P","Ctrl+Alt+P")}\n\tToggle the menu                        ${et("⌃M","Ctrl+M")}\n\tIncreases text size                    ${et("⌘+","Ctrl+Plus")}\n\tDecreases text size                    ${et("⌘−","Ctrl+Minus")}\n\tResets text size                       ${et("⌘0","Ctrl+0")}\n\tOpens quick commander                  ${et("F1 ","F1")} or ${et(" ⇧⌘P","Ctrl+Shift+P")}\n\tGoes to defintion of selected symbol   ${et("⌘F12 ","Ctrl+F12")} or ${et(" F12","F12")}\n\tPeek definitions of selected symbol    F11\n\tShow references to selected symbol     ${et("⇧F12","Shift+F12")}\n\tQuick navigator                        ${et("⇧⌘O ","Ctrl+Shift+O")} or ${et(" ⌘P","Ctrl+P")}\n\tGo back in history                     ${et("⇧⌘[ ","Ctrl+Shift+[")} or ${et(" ⌃-","Alt+←")}\n\tGo forward in history                  ${et("⇧⌘] ","Ctrl+Shift+]")} or ${et(" ⌃⇧-","Alt+→")}\n\n*/\n`),Ye("figma/rects","Figma/Create rectangles","\n// Create some rectangles on the current page\nlet rectangles = range(0, 5).map(i =>\n\tRectangle({ x: i * 150, fills: [ ORANGE.paint ] }))\n\n// select our new rectangles and center the viewport\nviewport.scrollAndZoomIntoView(setSelection(rectangles))\n"),Ye("figma/trim-ws","Figma/Trim whitespace","\n// Select some text and run this script to trim away linebreaks and space.\nfor (let n of selection()) {\n\tif (isText(n)) {\n\t\tn.characters = n.characters.trim()\n\t}\n}\n"),Ye("figma/trim-line-indent","Figma/Trim line indentation",'\n// Select some text and run this script to trim away whitespace from the beginning of lines\nfor (let n of selection()) {\n\tif (isText(n)) {\n\t\tn.characters = n.characters.replace(/\\n\\s+/g, "\\n")\n\t}\n}\n'),Ye("figma/select-all-images","Figma/Select all images","\nlet images = await find(n => isImage(n) && n)\nsetSelection(images)\n\n// More node type filters:\n//   isDocument, isPage\n//   isFrame, isGroup, isSlice\n//   isRect, isRectangle\n//   isLine\n//   isEllipse, isPolygon, isStar\n//   isVector\n//   isText\n//   isBooleanOperation\n//   isComponent, isInstance\n//   isSceneNode, isContainerNode, isShape\n//\n// These can also be used as type guards:\n//\nlet n = selection(0)\n// here, n's type is the generic BaseNode\nif (isRect(n)) {\n\t// but here n's type is RectangleNode\n}\n"),Ye("figma/set-images-fit","Figma/Set images to fit",'\n// Loop over images in the selection\nfor (let shape of await find(selection(), n => isImage(n) && n)) {\n\t// Update image paints to use "FIT" scale mode\n\tshape.fills = shape.fills.map(p =>\n\t\tisImage(p) ? {...p, scaleMode: "FIT"} : p)\n}\n'),Ye("figma/viewport-intro","Figma/Viewport","\n// This demonstrates use of the viewport API\n\n// Helper pause function\nconst pause = () => timer(1000)\n\n// Save current viewport and then change it\nviewport.save()\nviewport.center = {x:1000,y:0}\n\n// wait for a little while so we can see the effect\nawait pause()\n\n// restore the last saved viewport\nviewport.restore()\nawait pause()\n\n\n// Viewports are saved on a stack. We can save multiple:\nviewport.save() // viewport 1\nviewport.center = {x:1000,y:0}\nawait pause()\nviewport.save() // viewport 2\nviewport.center = {x:-1000,y:0}\nawait pause()\nviewport.restore() // restore viewport 2\nawait pause()\nviewport.restore() // restore viewport 1\n\n\n// save() returns a handle to a specific viewport\nlet vp1 = viewport.save() // viewport 1\nviewport.center = {x:1000,y:0}\nviewport.save(false) // viewport 2\nviewport.center = {x:-1000,y:0}\nawait pause()\nviewport.restore(vp1) // restore viewport 1\n\n\n// We can also animate viewport changes.\n// This makes use of animate.transition()\nviewport.save()\nawait viewport.setAnimated({x:0,y:0}, 2.0, 0.5)\nawait pause()\nawait viewport.restoreAnimated(0.5, animate.easeInOutExpo)\nawait pause()\n\n// Finally, the first saved viewport is automatically\n// restored when a script ends:\nviewport.save()\nviewport.center = {x:1000,y:0}\nawait pause()\n// viewport.restore() called automatically\n"),Ye("basics/paths","Basics/Working with paths",'\n// The Path library provides functions for working\n// with pathnames.\nlet path = "/foo/bar/baz.png"\nprint(Path.ext(path))\nprint(Path.dir(path))\nprint(Path.base(path))\nprint(Path.clean("a/c//b/../k"))\nprint(Path.isAbs(path))\nprint(Path.join("foo", "//bar/", "baz", "internet"))\nprint(Path.split(path))\n'),Ye("basics/files","Basics/Working with files",'\n// Scripter doesn\'t support interfacing with your file system,\n// but it does provide functions for working with file data.\n\n// fileType can be used to investigate what type of file a\n// filename represents:\nprint(fileType("foo/bar.zip"))\n\n// fileType can even guess the file type based on the first\n// few bytes of some file data:\nprint(fileType([0xFF, 0xD8, 0xFF])) // JPEG image data\n'),Ye("basics/images","Basics/Showing images",'\n// The Img function and class can be used to describe images\n// and load image data for a few common image types.\n// Passing an Img to print vizualizes the image.\n\n// Img can take a URL which is then loaded by the web browser\nprint(Img("https://scripter.rsms.me/icon.png"))\n\n// We can specify the size if we want\nprint(Img("https://scripter.rsms.me/icon.png", {width:128, height:16}))\n\n// Img.load() allows us to load the image data\nlet icon = await Img("https://scripter.rsms.me/icon.png").load()\nprint(icon.data)\n// A loaded image may also have information that was read from\n// the image data itself, like mime type and bitmap dimensions:\nprint(icon, icon.type, icon.meta)\n\n// fetchImg is a shorthand function for loading an Img\nlet loadedIcon = await fetchImg("https://scripter.rsms.me/icon.png")\nprint(loadedIcon, loadedIcon.meta)\n\n// Img also accepts image data as its input,\n// in common image formats like png, gif and jpeg.\nlet gifData = Bytes(`\n\t47 49 46 38 39 61\n\t0A 00 0A 00 91 00 00\n\tFF FF FF FF 00 00 00 00 FF 00 00 00\n\t21 F9 04 00 00 00 00 00\n\t2C 00 00 00 00 0A 00 0A 00 00\n\t02 16 8C 2D 99 87 2A 1C DC 33 A0 02 75\n\tEC 95 FA A8 DE 60 8C 04 91 4C 01 00\n\t3B\n`)\nprint(Img(gifData, 32))\n\n// Img also supports JPEG in addition to PNG and GIF\nlet im1 = Img("https://scripter.rsms.me/sample/colors.jpg")\nawait im1.load()\nprint(im1, [im1])\n'),Ye("basics/timers","Basics/Timers",'\n// Timers allows waiting for some time to pass\n// or to execute some code after a delay.\nawait timer(200)\nprint("200ms passed")\n\n// Timers are promises with a cancel() function\nlet t = timer(200)\nprint("timer started")\n// cancel the timer before it expires.\n// Comment this line out to see the effect.\nt.cancel()\n// wait for timer\ntry {\n\tawait t\n\tprint("Rrrriiiiing!")\n} catch (_) {\n\tprint("timer canceled")\n}\n\n// Timers accept an optional handler function:\ntimer(200, canceled => {\n\tprint("timer expired.", {canceled})\n})\n// .cancel() // uncomment to try canceling\n'),Ye("basics/range","Basics/Ranges",'\n// The range() function creates a sequence of numbers in the\n// range [start–end), incrementing in steps. Steps defaults to 1.\nprint(range(1, 10))\nprint(range(1, 10, 3))\nprint(range(100, 0, 20))\n\n// Ranges are iterable\nfor (let n of range(1,4)) {\n\tprint(n) ; await timer(200)\n}\n\n// If we want a pre-allocated array, we can call the array() function\nprint(range(10).array())\n// or use Array.from, since ranges are iterables\nprint(Array.from(range(1, 10)))\n\n// range is often useful for graphics. We can represent columns or\n// rows similar to the Layout Grids feature in Figma:\nlet columns = range(80, 512, 64)\nprint(`64dp wide columns with 80dp offset: ${columns}`)\n\n// range() returns a LazySeq, which has several functions commonly\n// found for Array, like for instance map():\nprint(range(-4, 4).map(v => `0x${(v*10).toString(16)}`))\n\n// Since the sequence created by range() is lazy, values are allocated\n// only as needed, making range() feasible to represent very large\n// imaginary ranges.\n// For instance, the following only uses very little memory:\nprint(range(0, 90000000, 2).at(1234567))\n\n// We can even use Inifite to descrive never-ending sequences.\nprint(range(0, Infinity, 3).at(1234567918383))\n// Be careful when iterating over an infinite sequence since it\'s easy\n// to lock Figma if you forget to explicitly stop iteration.\n// Scripter will do its best to stop you from doing this: passing an\n// infinite sequence to print() or calling toString() on the sequence\n// will only show the first 50 entries followed by "... ∞" to indicate\n// that it goes on forever:\nprint(range(0, Infinity, 3))\n\n// Calling functions which only makes sense on finite sequences—like\n// map(), array() or join()—on an infinite sequence throws an error:\ntry {\n\trange(0, Infinity).array()\n} catch (e) {\n\tprint(e)\n}\n'),Ye("basics/jsx","Basics/JSX",'\n/**\n * Scripter supports JSX for creating nodes.\n * JSX tags map 1:1 to Scripter\'s node constructor functions,\n * like for instance Rectangle() and Frame().\n **/\n\n<Rectangle fills={[ RED.paint ]} />\n\n/**\n * You may notice that the above line does not actually add a\n * rectangle to the current page. This is an intentional\n * difference between the regular constructor form:\n *   Rectangle(...)\n * and the JSX form:\n *   <Rectangle ... />\n * The regular constructor form adds the object to the current\n * page automatically, while the JSX form does not add the node\n * to the page on creation. Instead you call appendChild or\n * addToScene explicitly.\n **/\n\nlet frame :FrameNode =\n<Frame height={130} fills={[ WHITE.paint ]}>\n\t<Rectangle fills={[ RED.paint ]} />\n\t<Text characters="Hello" x={8} y={110} />\n</Frame>\n\n// Try uncommenting this to see the frame added to the page\n// addToPage(frame)\n\n// Here is an example of using the regular node constructors:\nlet g = Group(\n\tRectangle(),\n\tText({characters:"Hello", y:110}),\n)\n\n// remove the group since the regular constructor form automatically\n// adds nodes to the current page.\ng.remove()\n'),Ye("basics/animate.transition","Basics/Animated transitions","\n// This demonstrates use of animate.transition()\n// See Misc/Animation for custom animation examples.\n\n// First, save & set the viewport to 0,0\nviewport.setSave({x:0,y:0}, 1)\n\n// Create a temporary circle\nlet n = Ellipse({ width:200, height:200, fills:[RED.paint] })\nscripter.onend = () => n.remove()\n\n// Animate the circle moving from left to right by 400dp\nawait animate.transition(2.0, progress => {\n\tn.x = progress * -400\n})\n\n// Pause for a little while\nawait timer(500)\n\n// Animate the circle back to 0,using a different timing function\nawait animate.transition(1.0, animate.easeOutElastic, progress => {\n\tn.x = -400 + (progress * 400)\n})\n\n// Pause for a little while before ending\nawait timer(500)\n"),Ye("ui/dialogs","UI input/Dialogs & Messaging",'\nconst { notify } = libui\n\n// alert(message) shows a message dialog.\n// Blocks the UI. Useful for important messages.\nalert("Something very important")\n\n// confirm(question) asks the user a yes or no\n// question via a message dialog. Blocks the UI.\n// Returns true if the user answered "yes".\nprint(await confirm("Would you like a kitten?"))\n\n// notify(message, options?) shows a message in\n// the bottom of the user\'s screen.\n// Does not block the UI.\nnotify("Notification", { timeout: 2000 })\n'),Ye("ui/range-slider","UI input/Range sliders","\n// Example of using interactive range slider to move a rectangle\nconst { rangeInput } = libui\n\n// Save viewport and create a red rectangle\nlet origViewport = { zoom: viewport.zoom, center: viewport.center }\nlet r = addToPage(Rectangle({ fills: [ORANGE.paint], cornerRadius: 10 }))\ntry {\n\t// Set viewport to focus on the rectangle\n\tviewport.zoom = 1\n\tviewport.center = {y: r.y, x: r.x}\n\n\t// Show a slider and move rectangle as it changes\n\tfor await (let v of rangeInput({min:-300, max:300})) {\n\t\tr.x = Math.sin(v * 0.03) * 200\n\t\tr.y = Math.cos(v * 0.05) * 80\n\t}\n} finally {\n\t// Remove the rectangle and restore viewport\n\tr.remove()\n\tviewport.center = origViewport.center\n\tviewport.zoom = origViewport.zoom\n}\n"),Ye("ui/async-gen","UI input/Async generators",'\n// Async generator functions allows creation of iterators which\n// may take some amount of time to produce their results.\n//\n// In this example we use a range input control to generate lists\n// of strings upon user moving the slider\nasync function* meowGenerator(max :number) {\n\tfor await (let count of libui.rangeInput({max, value:1, step:1})) {\n\t\tyield range(0, count).map(() => "Meow")\n\t}\n}\n\n// We can now use our meow generator like this:\nfor await (const meows of meowGenerator(10)) {\n\tprint(meows)\n}\n'),Ye("http/fetch","HTTP/Fetch",'\n// fetch can be used to fetch resources across the interwebs.\n// It\'s the standard fetch API you might already be used to.\nlet r = await fetch("https://jsonplaceholder.typicode.com/users/1")\nprint(await r.json())\n\n// Scripter provides a few shorthand functions for common tasks:\nprint(await fetchJson("https://jsonplaceholder.typicode.com/users/1"))\nprint(await fetchText("https://jsonplaceholder.typicode.com/users/1"))\nprint(await fetchImg("https://scripter.rsms.me/icon.png"))\nprint(await fetchData("https://scripter.rsms.me/icon.png"))\n'),Ye("http/figma","HTTP/Figma REST API",'\n// This script demonstrates accessing the Figma HTTP API\n//\n// First, generate an access token for yourself using the\n// "+ Get personal access token" function on this page:\n// https://www.figma.com/developers/api#access-tokens\nconst figmaHttpApiToken = "your_access_token_here"\n\n// We can now fetch JSON representations of files via the HTTP API\nlet file = await fetchFigmaFile("jahkK3lhzuegZBQXz5BbL7")\nprint(Img(file.thumbnailUrl), file)\n\n// Simple helper function for GETing files from Figma servers\nasync function fetchFigmaFile(fileKey :string) :Promise<any> {\n\tlet json = await fetchJson(\n\t\t"https://api.figma.com/v1/files/" + encodeURIComponent(fileKey),\n\t\t{ headers: { "X-FIGMA-TOKEN": figmaHttpApiToken } }\n\t)\n\tif (json.status && json.err) {\n\t\tthrow new Error(`API error: ${json.err}`)\n\t}\n\treturn json\n}\n'),Ye("worker/basics","Workers/Worker Basics",'\n/**\nWorkers are new in Scripter since July 2020. Workers is a way to execute code in parallel inside a full WebWorker environment, with access to features like script loading and OffscreenCanvas. There are also iframe-based workers as an option when you need a full complete web DOM with access to the full Web API.\n\nLet\'s get started with a simple worker:\n*/\n\nlet w = createWorker(async w => {\n  let r = await w.recv()  // wait for input\n  let result = "Hello ".repeat(r).trim()  // compute some stuff\n  w.send(result)  // send the result\n  w.close()  // close the worker\n})\nw.send(4)  // send some input\nprint(await w.recv())  // wait for a reply\n\n/**\nThe above worker is written in idiomatic Scripter style using send() and recv() calls.\n\nIf that\'s not your jam, you can alternatively use the event-based WebWorker API. The following example also shows how you can pass a worker script as a string:\n*/\n\nlet w2 = createWorker(`w => {\n  w.onmessage = ev => {\n    let result = "Bye ".repeat(ev.data).trim()\n    w.postMessage(result)\n    w.close()\n  }\n}`)\nw2.postMessage(4)\nw2.onmessage = ev => {\n  print(ev.data)\n}\n// We must await the worker or it will be closed immediately\n// as the script ends.\nawait w2\n\n/**\nSince Scripter is fully async-await capable, it\'s usually easier to use the send() and recv() functions instead of postMessage & onmessage events.\n\nsend() and recv() are optionally typed, which can be useful when you are writing more complicated scripts or simply prefer to have stricter types:\n*/\nlet w3 = createWorker(async w => {\n  let r = await w.recv<number>()  // r is a number\n  let result = "Hej ".repeat(r).trim()\n  w.send(result)  // type inferred from result\n  w.close()\n})\nw3.send<number>(4)  // this call now only accepts numbers\nprint(await w3.recv<string>())\n\n/**\nOne final example: worker requests\nThe request-response patterns is common with many worker uses and so there is a function-and-event pair to save you time from managing your own request IDs over send & recv:\n*/\n\nlet w4 = createWorker(async w => {\n  w.onrequest = req => {\n    return "Hi ".repeat(req.data).trim()  // compute some stuff\n  }\n})\nconst r1 = w4.request(/* input: */ 4, /* timeout: */ 1000)\nconst r2 = w4.request(/* input: */ 9, /* timeout: */ 1000)\nprint(await r1)\nprint(await r2)\n'),Ye("worker/import","Workers/Importing libraries",'\n/**\nWorkers can import scripts from the Internet and NPM, using w.import().\nThis opens up a world of millions of JavaScript libraries to Scripter!\nBrowse libraries at https://www.npmjs.com/\n\nLet\'s import the lru_map package:\n*/\nlet w = createWorker(async w => {\n\tlet { LRUMap } = await w.import("lru_map")\n\tlet c = new LRUMap(3)\n\tc.set(\'sam\', 42)\n\tc.set(\'john\', 26)\n\tc.set(\'angela\', 24)\n\tw.send(c.toString())\n\tc.get(\'john\') // touch entry to make it "recently used"\n\tw.send(c.toString())\n})\nprint(await w.recv())\nprint(await w.recv())\n\n/**\nYou can import any URL; you are not limited to NPM. Additionally, using the importAll function we can import multiple packages at once:\n*/\nw = createWorker(async w => {\n\tlet [{ LRUMap }, d3] = await w.importAll(\n\t\t"https://unpkg.com/lru_map@0.4.0/dist/lru.js",\n\t\t"d3@5",\n\t)\n\tw.send(`d3: ${typeof d3}, LRUMap: ${typeof LRUMap}`)\n})\nprint(await w.recv())\n\n// Note that TypeScript types are not supported for imported modules.\n// Scripter considers the API exposed by an imported library as "any".\n'),Ye("worker/iframe-d3-density-contours","Workers/IFrame workers",'\n/**\nSometimes a worker needs a full Web DOM or access to a Web API only available in full-blown documents, like WebGL. That\'s when iframe-based workers comes in handy.\n\nThis example shows how to load an external library which manipulates SVG in a DOM to create complex graphs. Specifically, the chart generated shows the relationship between idle and eruption times for Old Faithful. (Source: https://observablehq.com/@d3/density-contours)\n*/\n\nlet w = createWorker({iframe:true}, async w => {\n  // load d3 library\n  const d3 = await w.import("d3@5")\n\n  // load dataset and add labels to the array\n  const data = Object.assign(\n    await w.recv<{x:number,y:number}[]>(),\n    {x: "Idle (min.)", y: "Erupting (min.)"}\n  )\n\n  const width = 800\n  const height = 800\n  const margin = {top: 20, right: 30, bottom: 30, left: 40}\n\n  const x = d3.scaleLinear()\n    .domain(d3.extent(data, d => d.x)).nice()\n    .rangeRound([margin.left, width - margin.right])\n\n  const y = d3.scaleLinear()\n    .domain(d3.extent(data, d => d.y)).nice()\n    .rangeRound([height - margin.bottom, margin.top])\n\n  const xAxis = g => g.append("g")\n    .attr("transform", `translate(0,${height - margin.bottom})`)\n    .call(d3.axisBottom(x).tickSizeOuter(0))\n    .call(g => g.select(".domain").remove())\n    .call(g => g.select(".tick:last-of-type text").clone()\n      .attr("y", -3)\n      .attr("dy", null)\n      .attr("font-weight", "bold")\n      .text(data.x))\n\n  const yAxis = g => g.append("g")\n    .attr("transform", `translate(${margin.left},0)`)\n    .call(d3.axisLeft(y).tickSizeOuter(0))\n    .call(g => g.select(".domain").remove())\n    .call(g => g.select(".tick:last-of-type text").clone()\n      .attr("x", 3)\n      .attr("text-anchor", "start")\n      .attr("font-weight", "bold")\n      .text(data.y))\n\n  const contours = d3.contourDensity()\n    .x(d => x(d.x))\n    .y(d => y(d.y))\n    .size([width, height])\n    .bandwidth(30)\n    .thresholds(30)\n    (data)\n\n  const svg = d3.create("svg")\n      .attr("viewBox", [0, 0, width, height]);\n\n  svg.append("g").call(xAxis);\n\n  svg.append("g").call(yAxis);\n\n  svg.append("g")\n      .attr("fill", "none")\n      .attr("stroke", "steelblue")\n      .attr("stroke-linejoin", "round")\n    .selectAll("path")\n    .data(contours)\n    .enter().append("path")\n      .attr("stroke-width", (d, i) => i % 5 ? 0.25 : 1)\n      .attr("d", d3.geoPath());\n\n  svg.append("g")\n      .attr("stroke", "white")\n    .selectAll("circle")\n    .data(data)\n    .enter().append("circle")\n      .attr("cx", d => x(d.x))\n      .attr("cy", d => y(d.y))\n      .attr("r", 2);\n\n  // respond with SVG code\n  w.send(svg.node().outerHTML)\n})\n\n// load sample data\nconst data = await fetchJson("https://scripter.rsms.me/sample/old-faithful.json")\n\n// Send data to the worker for processing.\n// The second argument causes data to be transferred\n// instead of copied.\nw.send(data, [data])\n\n// await a response, then add SVG to Figma document\nlet svg = await w.recv<string>()\nlet n = figma.createNodeFromSvg(svg)\nfigma.viewport.scrollAndZoomIntoView([n])\n'),Ye("worker/window-basics","Workers/Windows",'\n/**\nWorkers backed by an iframe can be made visible and interactive via the "visible" property passed to createWorker.\n*/\nconst w1 = createWorker({iframe:{visible:true,width:100}}, async w => {\n\tw.document.body.innerHTML = `<p>Hello</p>`\n})\n\n/**\ncreateWindow is a dedicated function for creating windows that house workers. To explore the options and the API, either place your pointer over createWindow below and press F12 or ALT-click the createWindow call to jump to the API documentation.\n*/\nconst w2 = createWindow({width:300,height:100}, async w => {\n\tlet time :any\n\tconst ui = w.createElement("div", {\n\t\tstyle: {\n\t\t\tdisplay: "flex",\n\t\t\t"flex-direction": "column",\n\t\t\tfont: "12px sans-serif",\n\t\t}},\n\t\tw.createElement("button", { onclick() { w.send("ping") } }, "Ping!"),\n\t\tw.createElement("button", { onclick() { w.close() } }, "Close window"),\n\t\ttime = w.createElement("p", {}, "")\n\t)\n\tw.document.body.appendChild(ui)\n\n\tfunction updateTime() {\n\t\ttime.innerText = `Time: ${(new Date).toTimeString()}`\n\t}\n\tupdateTime()\n\tsetInterval(updateTime, 1000)\n})\n\nw2.onmessage = ev => {\n\t// click the "Ping!" button in the window\n\tprint(ev.data)\n}\n\n// wait until both windows have been closed\nawait Promise.all([w1,w2])\n'),Ye("worker/window-advanced1","Workers/Windows advanced",'\n/**\nThis is a version of the "IFrame worker" example which uses the d3 library inside a window to create a data visualization. However, instead of adding the generating graph to the Figma document, its shown in an interactive window instead. (Source: https://observablehq.com/@d3/density-contours)\n\nA second window is opened as well, loading a Three.js WebGL via an external URL.\n*/\nconst w1 = createWindow({title:"d3",width:800}, async w => {\n  // load data\n  const datap = fetch("https://scripter.rsms.me/sample/old-faithful.json").then(r => r.json())\n\n  // load d3 library\n  const d3 = await w.import("d3@5")\n\n  // wait for dataset and add labels\n  const data = Object.assign(\n    await datap,\n    {x: "Idle (min.)", y: "Erupting (min.)"}\n  )\n\n  const width = 800\n  const height = 800\n  const margin = {top: 20, right: 30, bottom: 30, left: 40}\n\n  const x = d3.scaleLinear()\n    .domain(d3.extent(data, d => d.x)).nice()\n    .rangeRound([margin.left, width - margin.right])\n\n  const y = d3.scaleLinear()\n    .domain(d3.extent(data, d => d.y)).nice()\n    .rangeRound([height - margin.bottom, margin.top])\n\n  const xAxis = g => g.append("g")\n    .attr("transform", `translate(0,${height - margin.bottom})`)\n    .call(d3.axisBottom(x).tickSizeOuter(0))\n    .call(g => g.select(".domain").remove())\n    .call(g => g.select(".tick:last-of-type text").clone()\n      .attr("y", -3)\n      .attr("dy", null)\n      .attr("font-weight", "bold")\n      .text(data.x))\n\n  const yAxis = g => g.append("g")\n    .attr("transform", `translate(${margin.left},0)`)\n    .call(d3.axisLeft(y).tickSizeOuter(0))\n    .call(g => g.select(".domain").remove())\n    .call(g => g.select(".tick:last-of-type text").clone()\n      .attr("x", 3)\n      .attr("text-anchor", "start")\n      .attr("font-weight", "bold")\n      .text(data.y))\n\n  const contours = d3.contourDensity()\n    .x(d => x(d.x))\n    .y(d => y(d.y))\n    .size([width, height])\n    .bandwidth(30)\n    .thresholds(30)\n    (data)\n\n  const svg = d3.create("svg")\n      .attr("viewBox", [0, 0, width, height]);\n\n  svg.append("g").call(xAxis);\n\n  svg.append("g").call(yAxis);\n\n  svg.append("g")\n      .attr("fill", "none")\n      .attr("stroke", "steelblue")\n      .attr("stroke-linejoin", "round")\n    .selectAll("path")\n    .data(contours)\n    .enter().append("path")\n      .attr("stroke-width", (d, i) => i % 5 ? 0.25 : 1)\n      .attr("d", d3.geoPath());\n\n  svg.append("g")\n      .attr("stroke", "white")\n    .selectAll("circle")\n    .data(data)\n    .enter().append("circle")\n      .attr("cx", d => x(d.x))\n      .attr("cy", d => y(d.y))\n      .attr("r", 2);\n\n  // respond with SVG code\n  w.document.body.appendChild(svg.node())\n})\n\nconst w2 = createWindow(\n  {title:"Three.js"},\n  "https://threejs.org/examples/webgl_postprocessing_unreal_bloom.html")\n\n// wait until both windows have been closed\nawait Promise.all([w1,w2])\n'),Ye("advanced/timeout","Misc/Timeout",'\n// Example of using withTimeout for limiting the time\n// of a long-running process.\n\n// Try changing the delay here from 200 to 300:\nawait doSlowThing(200)\nasync function doSlowThing(timeout :number) {\n\tlet result = await withTimeout(getFromSlowInternet(), timeout)\n\tif (result == "TIMEOUT") {\n\t\tprint("network request timed out :-(")\n\t} else {\n\t\tprint("network request finished on time :-)", result)\n\t}\n}\n\n// Function that simulates a slow, cancellable network fetch.\n// In parctice, this would be some some actual long-running thing\n// like fetch call or timer.\nfunction getFromSlowInternet() :CancellablePromise<Object> {\n\treturn timer(250).catch(_=>{}).then(() => ({message: "Hello"}))\n}\n'),Ye("advanced/tick-tock","Misc/Tick tock, tick tock, tick tock",'\n// Demonstrates continously-running scripts.\n// This loops forever until you restart or\n// stop the script.\n\nfor (let i = 1; true; i++) {\n\tprint(i % 2 ? "Tick" : "Tock")\n\tawait timer(1000)  // wait for 1 second\n}\n'),Ye("advanced/animation","Misc/Animation","\n// Example of using animate() to create custom animations\n\n// Create a temporary rectangle\nlet r = Rectangle({ fills:[ORANGE.paint], rotation: 45 })\nscripter.onend = () => r.remove()\n\n// save viewport and focus on the rectangle\nviewport.focusSave(r, 1.0)\n\n// extent of motion in dp and shorthand functions\nconst size = viewport.bounds.width / 2 - r.width\nconst { cos, sin, abs, PI } = Math\n\n// animation loop\nawait animate(time => {\n\t// This function is called at a high frequency with\n\t// time incrementing for every call.\n\ttime *= 3 // alter speed\n\tlet scale = size / (3 - cos(time * 2))\n\tr.x = scale * cos(time) - (r.width / 2)\n\tr.y = scale * sin(3 * time) / 1.5 - (r.height / 2)\n\tr.rotation = cos(time) * 45\n})\n"),Ye("misc/timing-function-viz","Misc/Timing Functions",'\n// This generates a grid of graphs visualizing the different\n// timing functions available from animate.ease*\n// See Misc/Animation for examples of how to use these functions.\n\nviewport.focus(getTimingFunctions().map(createGraph))\n\nfunction createGraph(f :(n:number)=>number, index :int) {\n\tconst width = 200, height = 200, step = 2\n\tconst columns = 6\n\tconst spacing = Math.round(width * 0.75)\n\tconst xoffs = (index % columns) * (width + spacing)\n\tconst yoffs = Math.ceil((index + 1) / columns) * (height + spacing)\n\tlet n = buildVector({ width, height, strokeWeight: 2 }, c => {\n\t\tlet prevy = 0\n\t\tfor (let x of range(step, width, step)) {\n\t\t\tlet y = f(x / width) * height\n\t\t\tc.line(\n\t\t\t\t{x: xoffs + x,        y: yoffs + prevy},\n\t\t\t\t{x: xoffs + x + step, y: yoffs + y}\n\t\t\t)\n\t\t\tprevy = y\n\t\t}\n\t}) as SceneNode\n\tn = figma.flatten([n]) // merge into a line\n\tif (f.name) {\n\t\tlet t = createText({\n\t\t\tcharacters: f.name,\n\t\t\tx: xoffs,\n\t\t\ty: yoffs + height + 10,\n\t\t\twidth: width,\n\t\t})\n\t\tn = createGroup({expanded:false}, n, t)\n\t\tn.name = f.name\n\t}\n\treturn n\n}\n\nfunction getTimingFunctions() :SAnimationTimingFunction[] {\n\t// collect timing functions, using a set to ignore aliases\n\tlet v = new Set<SAnimationTimingFunction>()\n\tfor (let k of Object.keys(animate)) {\n\t\tif (k.startsWith("ease")) {\n\t\t\tv.add(animate[k])\n\t\t}\n\t}\n\treturn Array.from(v)\n}\n'),Ye("advanced/poisson-disc-gen","Misc/Poisson-disc generator",'\n/**\nProgressively generates Poisson-disc pattern.\nPoisson-disc sampling produces points that are tightly-packed, but no closer to each other than a specified minimum distance, resulting in a more natural pattern.\nThis implementation is based on https://bl.ocks.org/mbostock/dbb02448b0f93e4c82c3 and uses a worker which computes Poisson-disc samples using a generator. Samples are sent from the worker to the Scripter script which then creates discs on the Figma canvas.\n*/\n\n// Constants controlling the resulting graphic\nconst width  = 900\nconst height = 800\nconst density      = 8  // average distance between vertices\nconst circleRadius = 2  // radius of dots drawn for each vertex\n\n// Simple 2D vector used for vertices\ntype Vec = [number,number]\n\n// Request data that the Poisson-disc generator worker accepts\ninterface PoissonDiscGenRequest {\n\twidth  :number  // size of area to fill\n\theight :number  // size of area to fill\n\tradius :number  // density of vertices\n}\n\n// Poisson-disc generator worker\nconst w = createWorker({iframe:{visible:false}}, async w => {\n\n\tconst r = await w.recv<PoissonDiscGenRequest>()\n\n\tlet sendq :Vec[] = []\n\tfor (const v of poissonDiscSampler(r.width, r.height, r.radius)) {\n\t\tsendq.push(v)\n\t\tif (sendq.length >= 100) {\n\t\t\tawait w.recv()\n\t\t\tw.send(sendq)\n\t\t\tsendq.length = 0\n\t\t}\n\t}\n\t// send possibly last samples and finally an empty list,\n\t// which signals the end for the Scripter script.\n\tw.send(sendq)\n\tw.send([])\n\n\tfunction* poissonDiscSampler(width :int, height :int, radius :number) :Generator<Vec> {\n\t\t// Based on https://bl.ocks.org/mbostock/dbb02448b0f93e4c82c3\n\t\tconst k = 30, // maximum number of samples before rejection\n\t\t      radius2 = radius * radius,\n\t\t      radius2_3 = 3 * radius2,\n\t\t      cellSize = radius * Math.SQRT1_2,\n\t\t      gridWidth = Math.ceil(width / cellSize),\n\t\t      gridHeight = Math.ceil(height / cellSize),\n\t\t      grid = new Array<Vec>(gridWidth * gridHeight),\n\t\t      queue :Vec[] = []\n\n\t\t// Pick the first sample.\n\t\tyield sample(\n\t\t\twidth / 2 + Math.random() * radius,\n\t\t\theight / 2 + Math.random() * radius)\n\n\t\t// Pick a random existing sample from the queue.\n\t\tpick: while (queue.length) {\n\t\t\tconst i = Math.random() * queue.length | 0\n\t\t\tconst parent = queue[i]\n\n\t\t\t// Make a new candidate between [radius, 2 * radius] from the existing sample.\n\t\t\tfor (let j = 0; j < k; ++j) {\n\t\t\t\tconst a = 2 * Math.PI * Math.random(),\n\t\t\t\t      r = Math.sqrt(Math.random() * radius2_3 + radius2),\n\t\t\t\t      x = parent[0] + r * Math.cos(a),\n\t\t\t\t      y = parent[1] + r * Math.sin(a)\n\n\t\t\t\t// Accept candidates that are inside the allowed extent\n\t\t\t\t// and farther than 2 * radius to all existing samples.\n\t\t\t\tif (0 <= x && x < width && 0 <= y && y < height && far(x, y)) {\n\t\t\t\t\t//yield {add: sample(x, y), parent}\n\t\t\t\t\tyield sample(x, y)\n\t\t\t\t\tcontinue pick\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If none of k candidates were accepted, remove it from the queue.\n\t\t\tconst r = queue.pop()\n\t\t\tif (i < queue.length) queue[i] = r as Vec\n\t\t}\n\n\t\tfunction far(x :number, y :number) :bool {\n\t\t\tconst i = x / cellSize | 0,\n\t\t\t      j = y / cellSize | 0,\n\t\t\t      i0 = Math.max(i - 2, 0),\n\t\t\t      j0 = Math.max(j - 2, 0),\n\t\t\t      i1 = Math.min(i + 3, gridWidth),\n\t\t\t      j1 = Math.min(j + 3, gridHeight)\n\t\t\tfor (let j = j0; j < j1; ++j) {\n\t\t\t\tconst o = j * gridWidth\n\t\t\t\tfor (let i = i0; i < i1; ++i) {\n\t\t\t\t\tconst s = grid[o + i]\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\tconst dx = s[0] - x\n\t\t\t\t\t\tconst dy = s[1] - y\n\t\t\t\t\t\tif (dx * dx + dy * dy < radius2) return false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tfunction sample(x :number, y :number) :Vec {\n\t\t\tconst i = gridWidth * (y / cellSize | 0) + (x / cellSize | 0)\n\t\t\tconst s = grid[i] = [x, y]\n\t\t\tqueue.push(s)\n\t\t\treturn s\n\t\t}\n\t}\n\n})\n\n// Ask the worker to generate vertices with poisson-disc distribution\nw.send<PoissonDiscGenRequest>({\n\twidth,\n\theight,\n\tradius: density,\n})\n\n// make a frame to house the results\nconst frame = Frame({ width, height, expanded: false })\nfigma.viewport.scrollAndZoomIntoView([frame])\n\n// color spectrum\nconst colors :(t :number)=>RGB = rgbSpline([\n\t"#ff0000", "#d53e4f", "#f46d43",\n\t"#fdae61", "#fee08b", // "#ffffbf", "#e6f598",\n\t"#abdda4", "#66c2a5", "#3288bd", "#5e4fa2"\n])\n\n// add dots as they arrive from the worker\nconst center :Vec = [ width * 0.5, height * 0.5 ]\nconst farDistance = squareDistance([0,0], center)\nwhile (true) {\n\tw.send(1)\n\tconst vertices = await w.recv<Vec[]>()\n\tif (vertices.length == 0) {\n\t\tbreak\n\t}\n\tfor (let v of vertices) {\n\t\tframe.appendChild(\n\t\t\t// Create a shape.\n\t\t\t// Try changing "Ellipse" to "Star" or "Rectangle"\n\t\t\tEllipse({\n\t\t\t\tfills: [ {\n\t\t\t\t\ttype: "SOLID",\n\t\t\t\t\tcolor: colors(squareDistance(center, v) / farDistance)\n\t\t\t\t} ],\n\t\t\t\tx: v[0] - circleRadius,\n\t\t\t\ty: v[1] - circleRadius,\n\t\t\t\twidth: circleRadius * 2,\n\t\t\t\theight: circleRadius * 2,\n\t\t\t\tconstrainProportions: true\n\t\t\t})\n\t\t)\n\t}\n}\n\nfunction squareDistance(a :Vec, b :Vec) :number {\n\tlet x = a[0] - b[0]\n\tlet y = a[1] - b[1]\n\treturn Math.sqrt(x * x + y * y)\n}\n\n// little color gradient function for making interpolateable ramps\nfunction rgbSpline(colors :string[]) :(t:number)=>RGB {\n\tconst n = colors.length\n\tconst r = new Float64Array(n)\n\tconst g = new Float64Array(n)\n\tconst b = new Float64Array(n)\n\tlet color = { r:0, g:0, b:0 }\n\n\tfor (let i = 0; i < n; ++i) {\n\t\tparseColor(colors[i], color)\n\t\tr[i] = color.r || 0\n\t\tg[i] = color.g || 0\n\t\tb[i] = color.b || 0\n\t}\n\n\tconst rf = basisSpline(r),\n\t      gf = basisSpline(g),\n\t      bf = basisSpline(b)\n\n\treturn (t :number) :RGB => {\n\t\tcolor.r = Math.max(0, Math.min(1, rf(t) / 255.0))\n\t\tcolor.g = Math.max(0, Math.min(1, gf(t) / 255.0))\n\t\tcolor.b = Math.max(0, Math.min(1, bf(t) / 255.0))\n\t\treturn color  // borrow\n\t\t// return { r: rf(t), g: gf(t), b: bf(t) }  // alloc & copy\n\t}\n\n\tfunction basisSpline(values :ArrayLike<number>) :(t :number)=>number {\n\t\tconst n = values.length - 1\n\t\treturn (t :number) => {\n\t\t\tlet i = (\n\t\t\t\tt <= 0 ? (t = 0) :\n\t\t\t\tt >= 1 ? (t = 1, n - 1) :\n\t\t\t\tMath.floor(t * n)\n\t\t\t)\n\t\t\tlet v1 = values[i]\n\t\t\tlet v2 = values[i + 1]\n\t\t\tlet v0 = i > 0 ? values[i - 1] : 2 * v1 - v2\n\t\t\tlet v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1\n\t\t\tlet t1 = (t - i / n) * n\n\t\t\tlet t2 = t1 * t1, t3 = t2 * t1\n\t\t\treturn ((1 - 3 * t1 + 3 * t2 - t3) * v0\n\t\t\t     + (4 - 6 * t2 + 3 * t3) * v1\n\t\t\t     + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n\t\t\t     + t3 * v3) / 6;\n\t\t}\n\t}\n\n\tfunction parseColor(s :string, out :{ r :number, g :number, b :number }) {\n\t\tif (s[0] == \'#\') {\n\t\t\ts = s.substr(1)\n\t\t}\n\t\tlet n = parseInt(s, 16)\n\t\tout.r = n >> 16 & 0xff\n\t\tout.g = n >> 8 & 0xff\n\t\tout.b = n & 0xff\n\t}\n}\n')]);const nt=new class extends s{constructor(e){super(),this.version=0,this.exampleScripts={},this.referenceScripts=[],this.scripts=[],this.scriptsById=new Map,this.scriptsByGUID=new Map,this.refreshPromise=null,this.refresh=()=>(this.refreshPromise||(this.refreshPromise=new Promise((e,t)=>{let n=()=>{this.refreshPromise=null};this._refresh().then(()=>{n(),e()}).catch(e=>{n(),t(e)})})),this.refreshPromise),this._refresh=async()=>{let[e]=await this.db.read(["scripts"],async e=>e.getIndex("modifiedAt").getAll()),t=ce.currentScript;t&&0==t.id&&(e.push(t.meta),this.scriptsById.set(0,t)),e.reverse();let n=new Map,i=new Map,r=[];for(let t of e){let e=this.scriptsById.get(t.id);if(e||(e=new Je(t,"",null),this.scriptsById.set(t.id,e)),e.meta=t,e.meta.guid){let t=n.get(e.meta.guid);if(t){let n=e;console.debug&&console.debug("[script-data] detected duplicate GUID",{"script A meta":t.meta,"script B meta":n.meta},"(merging)"),t.mergeApply(n),t.save();continue}n.set(e.meta.guid,e)}else e.requireValidGUID();let o=i.get(e.meta.id);o?console.warn("[script-data] detected duplicate local ID",{"script meta 1":o.meta,"script meta 2":t}):(i.set(e.meta.id,e),r.push(e))}this.scripts=r,this.finalizeChanges(!1)},this.db=e,ce.on("modelchange",this.refresh),this.db.on("open",this.refresh),this.db.on("change",e=>{if("scripts"==e.store)if("update"==e.type){let t=e.value,n=this.scriptsById.get(t.id);n?(t.id<=0&&e.key&&("number"==typeof e.key?t.id=e.key:console.error("[ScriptsData] unexpected key type in db change event",{key:e.key})),n.meta=t,this.finalizeChanges()):this.refresh()}else if("delete"==e.type){let t=e.key;for(let e=0;e<this.scripts.length;e++){if(this.scripts[e].id===t){this.scripts.splice(e,1);break}}this.finalizeChanges()}else this.refresh()});let t=new Set,n=-1e5;const i=(e,i,r,o)=>{if(t.has(e))throw new Error("duplicate example script guid:"+e);return t.add(e),Je.create({id:n++,guid:e,name:i,modifiedAt:new Date("2000-01-01 00:00:00")},r,o)};for(let e of Object.keys(tt)){let t=this.exampleScripts[e];t||(this.exampleScripts[e]=t=[]);for(let n of tt[e]){let e=i(n.guid,n.name,n.code,!1);this.defaultSampleScript||(this.defaultSampleScript=e),t.push(e)}}this.db.isOpen?this.refresh():this.finalizeChanges(),this.libLoadPromise=Promise.all(o.a.map(e=>e.body)).then(e=>{for(let t=0;t<e.length;t++){let n=o.a[t],r=i(n.filename,n.name,e[t],!0);this.referenceScripts.push(r)}this.finalizeChanges()})}async getScript(e){let t=this.scriptsById.get(e);return t?(t.isMutable||(t=t.mutableCopy()),await t.loadIfEmpty(),t):Je.load(e)}async getScriptByGUID(e){let t=this.scriptsByGUID.get(e);return t?(t.isMutable||(t=t.mutableCopy()),await t.loadIfEmpty(),t):null}scriptBefore(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].id==e)return this.scripts[t-1]||null;return null}scriptAfter(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].id==e){let e=this.scripts[t+1];if(e)return e;break}return this.firstNonUserScript()}scriptAfterOrBefore(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].guid==e){let e=this.scripts[t+1]||this.scripts[t-1];if(e)return e;break}return this.firstNonUserScript()}firstNonUserScript(){return this.defaultSampleScript||this.referenceScripts[0]||null}finalizeChanges(e=!0){e&&this.scripts.sort((e,t)=>e.modifiedAt<t.modifiedAt?1:t.modifiedAt<e.modifiedAt?-1:0);let t=this.scripts.slice();for(let e of Object.keys(this.exampleScripts))t=t.concat(this.exampleScripts[e]);t=t.concat(this.referenceScripts),this.scriptsById=new Map(t.map(e=>[e.id,e])),this.scriptsByGUID=new Map;for(let e of t)e.guid&&this.scriptsByGUID.set(e.guid,e);this.version++,this.triggerEvent("change")}nextNewScriptName(){let e=-1;for(let t of this.scripts)if(t.name.startsWith("Untitled")){let n=0,i=/Untitled\s*(\d+)\s*$/.exec(t.name);i&&(n=parseInt(i[1])),isNaN(n)||(e=Math.max(e,n))}return-1==e?"Untitled":"Untitled "+(e+1)}}(w);let it=null,rt=null;function ot(){return rt||(rt=new Promise((e,t)=>{let n=0,i=new Map;it=new Worker("/zip/worker.js"),it.onmessage=r=>{let o=r.data;switch(o[0]){case"result":!function(e){let t=i.get(e[1]);t&&(i.delete(e[1]),"ok"==e[2]?t.resolve(e[3]):t.reject(e[3]))}(o);break;case"ready":e(new class{create(e){return function(e,t){let r={resolve(){},reject(){}},o=new Promise((e,t)=>{r.resolve=e,r.reject=t});return o.id=(n++).toString(36),i.set(o.id,r),it.postMessage([e,o.id,t]),o}("create",e)}});break;default:t(new Error("[zip] unexpected message from worker: "+JSON.stringify(o)))}}}))}async function st(){const e=nt.scripts.filter(e=>e.isUserScript);let t=await Promise.all(e.map(async e=>(await e.loadIfEmpty(),{name:e.name+".ts",contents:e.body,mtime:e.modifiedAt}))),n="Scripter Scripts "+(new Date).toLocaleString().replace(/\//g,"-").replace(/:/g,".");await async function(e,t){let n=await ot(),i=await n.create(t),r="undefined"!=typeof File?new File([i],e,{type:"application/zip"}):new Blob([i],{type:"application/zip"}),o=URL.createObjectURL(r);if("undefined"==typeof window||"undefined"==typeof document)document.location.href=o;else{let t=document.createElementNS("http://www.w3.org/1999/xhtml","a");t.href=o,t.download=e;let n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}setTimeout(()=>{URL.revokeObjectURL(o)},10)}(n+".zip",{name:n,files:t})}function at(e){e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView()}const lt=new class extends s{constructor(){super(...arguments),this.isVisible=!1,this._uiel=document.getElementById("menu"),this.menuUIMountPromise=new Promise(e=>{this._resolveMenuUIMountPromise=e}),this.closeOnSelection=!1}toggle(e=!1){this.isVisible=this._uiel.classList.toggle("visible",!this.isVisible),document.body.classList.toggle("menuVisible",this.isVisible),this.closeOnSelection=e,this.isVisible?L.a.render(T.a.createElement(ut,null),this._uiel):ce.editor&&ce.editor.focus(),this.triggerEvent("visibility",this.isVisible),ce.editor&&ce.editor.layout(),x.menuVisible=this.isVisible}init(){x.menuVisible&&this.toggle()}scrollToActiveItem(){function e(){let e=document.querySelector("#menu .active");return!!e&&(at(e),!0)}e()||requestAnimationFrame(e)}};class ut extends T.a.Component{constructor(e){super(e),this.scriptsDataChangeCallback=()=>{this.setState({scripts:nt.scripts,currentScriptId:ce.currentScriptId})},this.onEditorModelChange=()=>{this.setState({currentScriptId:ce.currentScriptId})},this.onConfigChange=()=>{this.setState({configVersion:x.version})},this.onChangeSettingBool=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e="checkbox"==t.type?t.checked:t.value;x[t.name.substr("config.".length)]=!!e}},this.onChangeSettingBoolNeg=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e="checkbox"==t.type?t.checked:t.value;x[t.name.substr("config.".length)]=!e}},this.onChangeSettingPercent=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e=parseFloat(t.value);isNaN(e)||(x[t.name.substr("config.".length)]=Math.round(e)/100)}},this.onChangeSettingNum=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e=parseFloat(t.value);isNaN(e)||(x[t.name.substr("config.".length)]=e)}},this.onChangeWindowSize=e=>{let t=e.target.value.split(",");if(t.length>1){let e=[i[t[0]],i[t[1]]];e&&(x.windowSize=e)}},this.onExportAllScripts=e=>{k("onExportAllScripts"),this.setState({isExportingScripts:!0}),st().then(()=>{this.setState({isExportingScripts:!1})}).catch(e=>{console.error("failed to export scripts: "+(e.stack||e)),this.setState({isExportingScripts:!1})})},this.state={scripts:nt.scripts,exampleScripts:nt.exampleScripts,referenceScripts:nt.referenceScripts,currentScriptId:ce.currentScriptId,configVersion:x.version,isExportingScripts:!1}}componentDidMount(){nt.on("change",this.scriptsDataChangeCallback),ce.on("modelchange",this.onEditorModelChange),x.on("change",this.onConfigChange),lt._resolveMenuUIMountPromise(),lt._resolveMenuUIMountPromise=null}componentWillUnmount(){nt.removeListener("change",this.scriptsDataChangeCallback),ce.removeListener("modelchange",this.onEditorModelChange),x.removeListener("change",this.onConfigChange)}render(){const e=this.state;let t=e.currentScriptId,n=x.windowSize.map(e=>i[e]).join(","),r=T.a.createElement("div",{className:"examples"},Object.keys(e.exampleScripts).map(n=>T.a.createElement("div",{key:n,className:"category"},n?T.a.createElement("h4",null,n):T.a.createElement("h3",null,"Examples"),T.a.createElement("ul",null,e.exampleScripts[n].map(e=>T.a.createElement(ct,{key:e.id,script:e,isActive:t==e.id}))))));return T.a.createElement("div",null,e.scripts.length>0?T.a.createElement("ul",null,e.scripts.map(e=>T.a.createElement(ct,{key:e.id,script:e,isActive:t==e.id}))):null,r,T.a.createElement("h3",null,"API reference"),T.a.createElement("ul",null,e.referenceScripts.map(e=>T.a.createElement(ct,{key:e.id,script:e,isActive:t==e.id}))),T.a.createElement("h3",null,"Settings"),T.a.createElement("div",{className:"settings"},T.a.createElement("label",null,T.a.createElement("input",{type:"checkbox",name:"config.showLineNumbers",checked:x.showLineNumbers,onChange:this.onChangeSettingBool}),"Line numbers"),T.a.createElement("label",null,T.a.createElement("input",{type:"checkbox",name:"config.wordWrap",checked:x.wordWrap,onChange:this.onChangeSettingBool}),"Word wrap"),T.a.createElement("label",{title:"Use the font JetBrains Mono instead of iA Writer Quattro"},T.a.createElement("input",{type:"checkbox",name:"config.monospaceFont",checked:x.monospaceFont,onChange:this.onChangeSettingBool}),"Monospace font"),T.a.createElement("label",{className:"dependant"+(x.monospaceFont?"":" disabled"),title:"Enables fancy ligatures of the monospace font JetBrains Mono, like special glyphs for => and =="},T.a.createElement("input",{type:"checkbox",name:"config.fontLigatures",checked:x.fontLigatures,onChange:this.onChangeSettingBool}),"Font ligatures"),T.a.createElement("label",{title:"Visualize otherwise-invisible characters like spaces and tabs"},T.a.createElement("input",{type:"checkbox",name:"config.showWhitespace",checked:x.showWhitespace,onChange:this.onChangeSettingBool}),"Show whitespace"),T.a.createElement("label",{title:"Show vertical indentation guides"},T.a.createElement("input",{type:"checkbox",name:"config.indentGuides",checked:x.indentGuides,onChange:this.onChangeSettingBool}),"Indentation guides"),T.a.createElement("label",{title:"Enables a minimap for navigating large scripts"},T.a.createElement("input",{type:"checkbox",name:"config.minimap",checked:x.minimap,onChange:this.onChangeSettingBool}),"Minimap"),T.a.createElement("label",{title:"Enables information cards shown when hovering over code snippets"},T.a.createElement("input",{type:"checkbox",name:"config.hoverCards",checked:x.hoverCards,onChange:this.onChangeSettingBool}),"Hover cards"),T.a.createElement("label",{title:"Enables suggestions as you type"},T.a.createElement("input",{type:"checkbox",name:"config.quickSuggestions",checked:x.quickSuggestions,onChange:this.onChangeSettingBool}),"Quick suggestions"),T.a.createElement("label",{className:"dependant"+(x.quickSuggestions?"":" disabled")},T.a.createElement("div",{className:"icon delay",title:"Quick suggestions delay"}),T.a.createElement("input",{type:"number",step:"100",min:"0",max:"10000",readOnly:!x.quickSuggestions,name:"config.quickSuggestionsDelay",value:x.quickSuggestionsDelay,onChange:this.onChangeSettingNum}),T.a.createElement("span",null,"ms")),T.a.createElement("label",{title:"Pressing the TAB key inserts SPACE characters instead of TAB"},T.a.createElement("input",{type:"checkbox",name:"config.useTabs",checked:!x.useTabs,onChange:this.onChangeSettingBoolNeg}),"TAB inserts spaces"),T.a.createElement("label",null,"Tab size:",T.a.createElement("input",{type:"number",step:"1",min:"1",max:"8",name:"config.tabSize",value:x.tabSize,onChange:this.onChangeSettingNum})),T.a.createElement("label",{title:"Size of Scripter window"},T.a.createElement("div",{className:"icon window"}),T.a.createElement("select",{name:"config.windowSize",value:n,onChange:this.onChangeWindowSize},T.a.createElement("option",{disabled:!0},"Window W×H"),T.a.createElement("option",{value:"SMALL,SMALL"},"S×S  window"),T.a.createElement("option",{value:"SMALL,MEDIUM"},"S×M  window"),T.a.createElement("option",{value:"SMALL,LARGE"},"S×L  window"),T.a.createElement("option",{value:"SMALL,XLARGE"},"S×MAX window"),T.a.createElement("option",{value:"MEDIUM,SMALL"},"M×S  window"),T.a.createElement("option",{value:"MEDIUM,MEDIUM"},"M×M  window"),T.a.createElement("option",{value:"MEDIUM,LARGE"},"M×L  window"),T.a.createElement("option",{value:"MEDIUM,XLARGE"},"M×MAX window"),T.a.createElement("option",{value:"LARGE,SMALL"},"L×S  window"),T.a.createElement("option",{value:"LARGE,MEDIUM"},"L×M  window"),T.a.createElement("option",{value:"LARGE,LARGE"},"L×L  window"),T.a.createElement("option",{value:"LARGE,XLARGE"},"L×MAX window"),T.a.createElement("option",{value:"XLARGE,SMALL"},"XL×S   window"),T.a.createElement("option",{value:"XLARGE,MEDIUM"},"XL×M   window"),T.a.createElement("option",{value:"XLARGE,LARGE"},"XL×L   window"),T.a.createElement("option",{value:"XLARGE,XLARGE"},"XL×MAX window"))),T.a.createElement("label",{title:`Scale of the Scripter editor text size (${_?"⌘+/-":"Ctrl+/-"})`},T.a.createElement("div",{className:"icon text-size"}),T.a.createElement("input",{type:"number",step:"10",min:"50",max:"300",name:"config.uiScale",value:Math.round(100*x.uiScale),onChange:this.onChangeSettingPercent}),T.a.createElement("span",null,"%")),T.a.createElement("div",{className:"group extra-actions"},T.a.createElement("button",{disabled:e.isExportingScripts,onClick:e.isExportingScripts?()=>{}:this.onExportAllScripts},e.isExportingScripts?"Exporting...":"Export all scripts"))))}}function ct(e){let t=e.script;const[n,i]=Object(C.useState)(!1);let r={className:(e.isActive?"active":"")+(0==t.id?" unsaved":"")};if(!n){r.onMouseDown=function(e){lt.closeOnSelection&&lt.toggle(),k("menu/open-script",t),ce.openScriptByGUID(t.guid),at(e.target)},!t.isROLib&&t.id>=0&&(r.onDoubleClick=e=>{i(!0),e.preventDefault(),e.stopPropagation()},r.onContextMenu=e=>{i(!0),e.preventDefault(),e.stopPropagation()},r.title="Last modified "+t.modifiedAt.toLocaleString())}function o(){let e=`Delete script "${t.name}"?`;if(t.isSavedInFigma()&&(e=`Remove script "${t.name}" from menu? You can open later again from Figma.`),t.id>0&&confirm(e)){let e=nt.scriptAfterOrBefore(t.guid);e?ce.openScriptByGUID(e.guid):ce.newScript(),t.delete()}}let s=!1;let a={name:t.name,isEditing:n,commitEditing:function(e){s||(s=!0,0==(e=e.trim()).length?o():t.name!=e&&(t.name=e,t.save()),i(!1))},cancelEditing:function(){i(!1)}},l=[];if(!n&&!t.isROLib){if(l=[T.a.createElement(dt,{key:"play",className:"play",title:" ▶",tooltip:e.isActive?"Run script":"Open & Run script",onClick:async function(e){e.preventDefault(),e.stopPropagation(),await ce.openScriptByID(t.id),ce.runCurrentScript()}})],t.id>0){l.unshift(T.a.createElement(dt,{key:"delete",className:"delete",title:"✗",tooltip:"Delete script",onClick:async function(e){o()}}))}}return T.a.createElement("li",Object.assign({},r),T.a.createElement(pt,Object.assign({},a)),l)}function dt(e){return T.a.createElement("div",{className:"button "+e.className,onClick:e.onClick,title:e.tooltip},e.title)}function pt(e){const[t,n]=Object(C.useState)(e.name),[i,r]=Object(C.useState)(!0),o=Object(C.useRef)(null);if(Object(C.useEffect)(()=>{if(!e.isEditing)return t!==e.name&&n(e.name),void(i||r(!0));i&&o.current&&(o.current.select(),r(!1))}),!e.isEditing)return T.a.createElement("span",{className:"name"},e.name);return T.a.createElement("input",Object.assign({type:"text",autoFocus:!0},{value:t,ref:o,onChange:function(e){n(e.target.value)},onBlur:function(){e.commitEditing(t)},onKeyDown:function(n){"Enter"==n.key?(e.commitEditing(t),n.preventDefault(),n.stopPropagation()):"Escape"==n.key&&(e.cancelEditing(),n.preventDefault(),n.stopPropagation())}}))}class ht{constructor(e){this.root=e}get(e){return function(e,t){for(;t;){const n=ft(e,t.k);if(-1==n)t=t.L;else{if(1!=n){if(e.length==t.k.length)return t.v;break}t=t.R}}return null}(e,this.root)}getPrefixMatch(e){return function(e,t){for(;t;){const n=mt(e,t.k);if(-1==n)t=t.L;else{if(1!=n)return t.v;t=t.R}}return null}(e,this.root)}getPrefixMatches(e){return function(e,t){let n=[];return function e(t,n,i){for(;n;){const r=mt(t,n.k);if(-1==r)n=n.L;else if(1==r)n=n.R;else if(i.push(n.v),n.L&&n.R)e(t,n.L,i),n=n.R;else if(n.L)n=n.L;else{if(!n.R)break;n=n.R}}}(e,t,n),n}(e,this.root)}}function ft(e,t){const n=e.length,i=t.length,r=n<i?n:i;for(let n=0;n!=r;++n)if(256!=e[n]&&256!=t[n]){if(e[n]<t[n])return-1;if(t[n]<e[n])return 1}return n<i?-1:i<n?1:0}function mt(e,t){const n=e.length,i=t.length,r=n<i?n:i;for(let n=0;n!=r;++n)if(256!=e[n]&&256!=t[n]){if(e[n]<t[n])return-1;if(t[n]<e[n])return 1}return n<i?-1:0}const[gt,yt]=function(){const e={type:"image/png",exts:["png"],description:"PNG image"},t={type:"image/gif",exts:["gif"],description:"GIF image"},n={type:"image/jpeg",exts:["jpg","jpeg","jfif","jpe"],description:"JPEG image"},i={type:"image/jp2",exts:["jp2"],description:"JPEG2000 image"},r={type:"image/webp",exts:["webp"],description:"WebP image"},o={type:"image/tiff",exts:["tif","tiff"],description:"TIFF image"},s={type:"image/bmp",exts:["bmp"],description:"Bitmap image"},a={type:"image/x-icon",exts:["ico"],description:"Icon image"},l={type:"image/vnd.adobe.photoshop",exts:["psd"],description:"Photoshop image"},u={type:"audio/midi",exts:["mid","midi"],description:"MIDI audio"},c={type:"audio/mp3",exts:["mp3"],description:"MP3 audio"},d={type:"audio/ogg",exts:["ogg"],description:"OGG audio"},p={type:"audio/wav",exts:["wav"],description:"WAV audio"},h={type:"video/x-m4v",exts:["m4v"],description:"MPEG4 video"},f={type:"video/mp4",exts:["mp4"],description:"MPEG4 video"},m={type:"application/wasm",exts:["wasm"],description:"WebAssembly module"},g={type:"application/zip",exts:["zip"],description:"Zip archive"},y={type:"application/jar",exts:["jar"],description:"Java archive"},v={type:"application/gzip",exts:["gz"],description:"GZip archive"},w={type:"application/x-tar",exts:["tar"],description:"TAR archive"},b={type:"application/x-tar-compressed",exts:["tgz"],description:"Compressed TAR archive"},_={type:"application/x-bzip2",exts:["bz2"],description:"BZip2 archive"},S={type:"application/pdf",exts:["pdf"],description:"PDF document"};return[new ht({k:[256,256,256,256,102,116,121,112,70,52,80,32],v:f,L:{k:[73,68,51],v:c,L:{k:[37,80,68,70],v:S,L:{k:[0,0,1,0],v:a,L:{k:[0,0,0,192,106,80,32,32,208,160,135,160,0],v:i},R:{k:[0,97,115,109,1,0,0,0],v:m,R:{k:[31,139,8],v:v,R:{k:[31,157,144],v:b}}}},R:{k:[66,90,104],v:_,L:{k:[56,66,80,83],v:l,R:{k:[66,77],v:s}},R:{k:[71,73,70,56,55,97],v:t,R:{k:[71,73,70,56,57,97],v:t,R:{k:[73,32,73],v:o}}}}},R:{k:[80,75,3,4,20,0,8,0],v:y,L:{k:[77,77,0,43],v:o,L:{k:[73,73,42,0],v:o,R:{k:[77,77,0,42],v:o}},R:{k:[77,84,104,100],v:u,R:{k:[79,103,103,83],v:d,R:{k:[80,75,3,4],v:g}}}},R:{k:[82,73,70,70,256,256,256,256,87,65,86,69],v:p,L:{k:[80,75,5,6],v:g,R:{k:[80,75,7,8],v:g}},R:{k:[117,115,116,97,114],v:w,L:{k:[82,73,70,70,256,256,256,256,87,69,66,80],v:r},R:{k:[137,80,78,71,13,10,26,10],v:e,R:{k:[255,216,255],v:n}}}}}},R:{k:[256,256,256,256,102,116,121,112,78,68,88,80],v:f,L:{k:[256,256,256,256,102,116,121,112,78,68,83,67],v:f,L:{k:[256,256,256,256,102,116,121,112,77,52,65],v:{type:"audio/m4a",exts:[]},L:{k:[256,256,256,256,102,116,121,112,70,52,86,32],v:f},R:{k:[256,256,256,256,102,116,121,112,77,52,86],v:h,R:{k:[256,256,256,256,102,116,121,112,77,83,78,86],v:f,R:{k:[256,256,256,256,102,116,121,112,78,68,65,83],v:f}}}},R:{k:[256,256,256,256,102,116,121,112,78,68,83,80],v:f,L:{k:[256,256,256,256,102,116,121,112,78,68,83,72],v:f,R:{k:[256,256,256,256,102,116,121,112,78,68,83,77],v:f}},R:{k:[256,256,256,256,102,116,121,112,78,68,88,67],v:f,L:{k:[256,256,256,256,102,116,121,112,78,68,83,83],v:f},R:{k:[256,256,256,256,102,116,121,112,78,68,88,72],v:f,R:{k:[256,256,256,256,102,116,121,112,78,68,88,77],v:f}}}}},R:{k:[256,256,256,256,102,116,121,112,105,115,111,52],v:f,L:{k:[256,256,256,256,102,116,121,112,97,118,99,49],v:f,L:{k:[256,256,256,256,102,116,121,112,78,68,88,83],v:f,R:{k:[256,256,256,256,102,116,121,112,78,83,68,67],v:f}},R:{k:[256,256,256,256,102,116,121,112,100,97,115,104],v:f,R:{k:[256,256,256,256,102,116,121,112,105,115,111,50],v:f,R:{k:[256,256,256,256,102,116,121,112,105,115,111,51],v:f}}}},R:{k:[256,256,256,256,102,116,121,112,109,109,112,52],v:f,L:{k:[256,256,256,256,102,116,121,112,105,115,111,53],v:f,R:{k:[256,256,256,256,102,116,121,112,105,115,111,54],v:f,R:{k:[256,256,256,256,102,116,121,112,105,115,111,109],v:f}}},R:{k:[256,256,256,256,102,116,121,112,109,112,52,50],v:f,L:{k:[256,256,256,256,102,116,121,112,109,112,52,49],v:f},R:{k:[256,256,256,256,102,116,121,112,109,112,52,118],v:f,R:{k:[256,256,256,256,102,116,121,112,109,112,55,49],v:f}}}}}}}),new Map([["png",[e]],["gif",[t]],["jpg",[n]],["jpeg",[n]],["jfif",[n]],["jpe",[n]],["jp2",[i]],["webp",[r]],["tif",[o]],["tiff",[o]],["bmp",[s]],["ico",[a]],["psd",[l]],["mid",[u]],["midi",[u]],["mp3",[c]],["ogg",[d]],["wav",[p]],["m4v",[h]],["mp4",[f]],["wasm",[m]],["zip",[g]],["jar",[y]],["gz",[v]],["tar",[w]],["tgz",[b]],["bz2",[_]],["pdf",[S]]])]}();const vt=new class extends s{constructor(){super(),this._keyEventHandlers=new Set,this.handleKeyDownEvent=e=>{},window.addEventListener("unload",()=>{this.triggerEvent("close")})}addKeyEventHandler(e){this._keyEventHandlers.add(e)}removeKeyEventHandler(e){this._keyEventHandlers.delete(e)}zoomIn(){let e=x.uiScale;for(let t of bt)if(e<=t[0]){x.uiScale=t[1];break}}zoomOut(){let e=x.uiScale;for(let t of bt)if(e<=t[1]){x.uiScale=t[0];break}}resetZoom(){x.uiScale=1}};var wt=t.default=vt;const bt=(_t=[.5,.75,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3]).slice(0,_t.length-1).map((e,t)=>[e,_t[t+1]]);var _t;function St(){vt.handleKeyDownEvent=e=>{let t=!1;if(((e.metaKey||e.ctrlKey)&&((e,t)=>{if("Enter"==t||"r"==t)return e.shiftKey?(ce.stopCurrentScript(),!0):(ce.runCurrentScript(),!0);if(("x"==t||"X"==t)&&e.ctrlKey&&e.shiftKey)return ce.stopCurrentScript(),!0;if("l"==t&&e.ctrlKey||_&&e.metaKey&&"k"==t)return de(),ce.clearMessages(),!0;if(!("m"!=t||_&&e.metaKey))return lt.toggle(),!0;if(e.shiftKey){if("BracketLeft"==e.code)return ce.historyBack(),!0;if("BracketRight"==e.code)return ce.historyForward(),!0}if(_&&e.ctrlKey&&"Minus"==e.code)return e.shiftKey?(ce.historyForward(),!0):(ce.historyBack(),!0);"="==t||"+"==t?vt.zoomIn():"-"==t?vt.zoomOut():"0"==t&&vt.resetZoom()})(e,e.key)||e.altKey&&((e,t)=>{if(!_){if("ArrowLeft"==t)return ce.historyBack(),!0;if("ArrowRight"==t)return ce.historyForward(),!0}})(0,e.key))&&(t=!0),!t)for(let n of vt._keyEventHandlers)if(n(e)){t=!0;break}t&&(e.preventDefault(),e.stopPropagation())},window.addEventListener("keydown",vt.handleKeyDownEvent,{capture:!0,passive:!1})}function kt(){document.body.style.setProperty("--uiScale",String(x.uiScale))}(async function(){Ze(),St(),await async function(){await w.open(async e=>{if(v(`upgrade database ${e.prevVersion} -> ${e.nextVersion}`),e.prevVersion<1){e.createStore("config");let t=e.createStore("scripts",{keyPath:"id",autoIncrement:!0});t.createIndex("modifiedAt","modifiedAt",{unique:!1}),t.createIndex("createdAt","createdAt",{unique:!1}),t.createIndex("tags","tags",{unique:!1,multiEntry:!0}),t.createIndex("name","name",{unique:!1}),e.createStore("scriptBody"),e.createStore("scriptViewState")}e.prevVersion<2&&e.createStore("history")})}(),await x.load();let e=[];!function(){function e(){let[e,t]=x.windowSize,n=document.body.classList;switch(n.remove("windowWidthSmall"),n.remove("windowWidthMedium"),n.remove("windowWidthLarge"),n.remove("windowWidthXLarge"),n.remove("windowHeightSmall"),n.remove("windowHeightMedium"),n.remove("windowHeightLarge"),n.remove("windowHeightXLarge"),e){case i.SMALL:n.add("windowWidthSmall");break;case i.MEDIUM:n.add("windowWidthMedium");break;case i.LARGE:n.add("windowWidthLarge");break;case i.XLARGE:n.add("windowWidthXLarge")}switch(t){case i.SMALL:n.add("windowHeightSmall");break;case i.MEDIUM:n.add("windowHeightMedium");break;case i.LARGE:n.add("windowHeightLarge");break;case i.XLARGE:n.add("windowHeightXLarge")}}x.on("change",t=>{"windowSize"==t.key?e():"uiScale"==t.key&&kt()}),e()}(),kt(),ie.init(),e.push(ce.init()),lt.init(),parent.postMessage({type:"ui-init"},"*"),ze(),await Promise.all(e),document.documentElement.classList.remove("loading")})().catch(e=>console.error(e.stack||String(e)))}]);
//# sourceMappingURL=app.7605b9e68c237552851e.js.map